<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Package manager - JetWork Language Specification</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../overview.html"><strong aria-hidden="true">1.</strong> Overview</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../overview/example-programs.html"><strong aria-hidden="true">1.1.</strong> Example programs</a></li><li class="chapter-item expanded "><a href="../overview/package-manager.html" class="active"><strong aria-hidden="true">1.2.</strong> Package manager</a></li><li class="chapter-item "><a href="../overview/compilation.html"><strong aria-hidden="true">1.3.</strong> Compilation and transpilation</a></li><li class="chapter-item "><a href="../overview/string-encoding.html"><strong aria-hidden="true">1.4.</strong> String encoding</a></li><li class="chapter-item "><a href="../overview/exceptions.html"><strong aria-hidden="true">1.5.</strong> Exceptions</a></li><li class="chapter-item "><a href="../overview/nullability.html"><strong aria-hidden="true">1.6.</strong> Nullability</a></li><li class="chapter-item "><a href="../overview/proxy.html"><strong aria-hidden="true">1.7.</strong> Proxy</a></li><li class="chapter-item "><a href="../overview/j4x.html"><strong aria-hidden="true">1.8.</strong> JetWork for XML</a></li><li class="chapter-item "><a href="../overview/jetxml.html"><strong aria-hidden="true">1.9.</strong> JetXML</a></li></ol></li><li class="chapter-item "><a href="../notation.html"><strong aria-hidden="true">2.</strong> Notation</a></li><li class="chapter-item "><a href="../lexical-structure.html"><strong aria-hidden="true">3.</strong> Lexical structure</a></li><li class="chapter-item "><a href="../types.html"><strong aria-hidden="true">4.</strong> Types</a></li><li class="chapter-item "><a href="../type-conversions.html"><strong aria-hidden="true">5.</strong> Type conversions</a></li><li class="chapter-item "><a href="../visibility.html"><strong aria-hidden="true">6.</strong> Visibility</a></li><li class="chapter-item "><a href="../packages.html"><strong aria-hidden="true">7.</strong> Packages</a></li><li class="chapter-item "><a href="../variables.html"><strong aria-hidden="true">8.</strong> Variables</a></li><li class="chapter-item "><a href="../virtual-properties.html"><strong aria-hidden="true">9.</strong> Virtual properties</a></li><li class="chapter-item "><a href="../functions.html"><strong aria-hidden="true">10.</strong> Functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../functions/instance-methods.html"><strong aria-hidden="true">10.1.</strong> Instance methods</a></li><li class="chapter-item "><a href="../functions/interface-methods.html"><strong aria-hidden="true">10.2.</strong> Interface methods</a></li><li class="chapter-item "><a href="../functions/getters-and-setters.html"><strong aria-hidden="true">10.3.</strong> Getters and setters</a></li><li class="chapter-item "><a href="../functions/constructors.html"><strong aria-hidden="true">10.4.</strong> Constructors</a></li><li class="chapter-item "><a href="../functions/proxies.html"><strong aria-hidden="true">10.5.</strong> Proxies</a></li></ol></li><li class="chapter-item "><a href="../generics.html"><strong aria-hidden="true">11.</strong> Generics</a></li><li class="chapter-item "><a href="../metadata.html"><strong aria-hidden="true">12.</strong> Meta-data</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../metadata/reserved-metadata.html"><strong aria-hidden="true">12.1.</strong> Reserved meta-data</a></li><li class="chapter-item "><a href="../metadata/decorator-metadata.html"><strong aria-hidden="true">12.2.</strong> Decorator meta-data</a></li><li class="chapter-item "><a href="../metadata/plain-metadata.html"><strong aria-hidden="true">12.3.</strong> Plain meta-data</a></li></ol></li><li class="chapter-item "><a href="../aliases.html"><strong aria-hidden="true">13.</strong> Aliases</a></li><li class="chapter-item "><a href="../enum.html"><strong aria-hidden="true">14.</strong> Enumerations</a></li><li class="chapter-item "><a href="../classes.html"><strong aria-hidden="true">15.</strong> Classes</a></li><li class="chapter-item "><a href="../interfaces.html"><strong aria-hidden="true">16.</strong> Interfaces</a></li><li class="chapter-item "><a href="../jetxml-components.html"><strong aria-hidden="true">17.</strong> JetXML components</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">JetWork Language Specification</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="package-manager"><a class="header" href="#package-manager">Package manager</a></h1>
<p>The language is integrated with JetPM, a package manager with support for vital features:</p>
<ul>
<li>workspaces;</li>
<li>specifying a dependency through a directory path;</li>
<li>registry namespaces.</li>
</ul>
<h2 id="build-process"><a class="header" href="#build-process">Build process</a></h2>
<p>The package manifest represents a JetWork project, and locates its sources; therefore, the package manager is able to build a project through a simple command such as <code>jetpm build</code>, resulting into a bytecode artifact.</p>
<p>Here is an example package manifest:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;org.q.f&quot;,
    &quot;version&quot;: &quot;0.1.0&quot;,
    &quot;compilerOptions&quot;: {
        &quot;includeSources&quot;: [&quot;src&quot;]
    }
}
</code></pre>
<h2 id="registry-namespaces"><a class="header" href="#registry-namespaces">Registry namespaces</a></h2>
<p>Registry namespaces allow distinguishing dependencies from different platforms; without registry namespaces, the registry can get cluttered over time and working with different platforms can be a confusing experience.</p>
<p>A particular package can only depend in two registry namespaces: <code>*</code> and another optional registry namespace specified by the package manifest's top-level <code>registryNamespace</code> option. The <code>*</code> registry namespace indicates that the package does not rely on a platform.</p>
<p>Here is an example of a potential package manifest that uses <code>http://www.w3.org/web</code> as its registry namespace:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;org.q.f&quot;,
    &quot;version&quot;: &quot;0.1.0&quot;,
    &quot;registryNamespace&quot;: &quot;http://www.w3.org/web&quot;,
    &quot;dependencies&quot;: {
        &quot;*&quot;: {
            &quot;org.collada.fileFormats&quot;: &quot;1.0.0&quot;
        },
        &quot;http://www.w3.org/web&quot;: {
            &quot;goog.g&quot;: &quot;1.0.0&quot;
        }
    }
}
</code></pre>
<p>Note that registry namespaces are only defined by the registry and not by the developers. This decision prevents accidental mistyping of registry namespace URIs and prevents cluttering of the registry with arbitrary registry namespaces.</p>
<h2 id="conditional-configuration"><a class="header" href="#conditional-configuration">Conditional configuration</a></h2>
<p>The package manager supports configuration constants that allow for conditional configuration within a manifest through the top-level <code>conditional</code> property. The matching options are combined and overriden properly in top-down sequence, including the program sources and the package dependencies.</p>
<p>The conditions in <code>conditional</code> support a minimal conditional language:</p>
<ul>
<li><code>constant</code> — If constant is present</li>
<li><code>constant=value</code> — If constant is equals <code>&quot;value&quot;</code></li>
<li><code>!expression</code> — If condition is false</li>
<li><code>(expression)</code> — Parenthesized condition</li>
<li><code>primaryExpression &amp;&amp; primaryExpression</code> — If conditions are true</li>
<li><code>primaryExpression || primaryExpression</code> — If one condition is true</li>
<li>The root condition is in one of the forms:
<ul>
<li><code>always</code></li>
<li><code>if (condition)</code></li>
<li><code>else if (condition)</code></li>
<li><code>else</code></li>
</ul>
</li>
</ul>
<p>Here is an example package manifest using the <code>conditional</code> setting:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    &quot;conditional&quot;: [
        [&quot;always&quot;, {
            &quot;compilerOptions&quot;: {
                &quot;includeSources&quot;: [&quot;src/base&quot;]
            }
        }],
        [&quot;if (air::target=ios)&quot;, {
            &quot;compilerOptions&quot;: {
                &quot;includeSources&quot;: [&quot;src/platform/ios&quot;]
            }
        }],
        [&quot;else&quot;, {
            &quot;compilerOptions&quot;: {
                &quot;includeSources&quot;: [&quot;src/platform/unsupported&quot;]
            }
        }],
        [&quot;always&quot;, {
            &quot;compilerOptions&quot;: {
                &quot;includeSources&quot;: [&quot;src/facade&quot;]
            }
        }]
    ]
}
</code></pre>
<p>Here are example JetPM commands passing configuration constants:</p>
<pre><code class="language-plain">jetpm build --define someConstant
jetpm build --define air::target=ios
</code></pre>
<h2 id="build-script"><a class="header" href="#build-script">Build script</a></h2>
<p>The package manifest allows build scripts to be specified, as well as their dependencies.</p>
<p>Build scripts are executed in the Node.js® platform; therefore they implicitly use the <code>http://www.nodejs.org/2009</code> registry namespace.</p>
<p>Build scripts can be specified both inside the top-level and inside conditional configurations.</p>
<p>Here is an example manifest demonstrating build scripts:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    &quot;buildScript&quot;: {
        &quot;compilerOptions&quot;: {
            &quot;includeSources&quot;: [&quot;build.jet&quot;]
        }
    }
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../overview/example-programs.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../overview/compilation.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../overview/example-programs.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../overview/compilation.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
