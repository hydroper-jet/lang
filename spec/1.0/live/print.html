<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Jet Language Specification</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="overview/example-programs.html"><strong aria-hidden="true">1.1.</strong> Example programs</a></li><li class="chapter-item "><a href="overview/jetpm.html"><strong aria-hidden="true">1.2.</strong> Package management</a></li><li class="chapter-item "><a href="overview/jetdoc.html"><strong aria-hidden="true">1.3.</strong> Documentation</a></li><li class="chapter-item "><a href="overview/compilation.html"><strong aria-hidden="true">1.4.</strong> Compilation</a></li><li class="chapter-item "><a href="overview/conditional-compilation.html"><strong aria-hidden="true">1.5.</strong> Conditional compilation</a></li><li class="chapter-item "><a href="overview/string-encoding.html"><strong aria-hidden="true">1.6.</strong> String encoding</a></li><li class="chapter-item "><a href="overview/exceptions.html"><strong aria-hidden="true">1.7.</strong> Exceptions</a></li><li class="chapter-item "><a href="overview/nullability.html"><strong aria-hidden="true">1.8.</strong> Nullability</a></li><li class="chapter-item "><a href="overview/proxy.html"><strong aria-hidden="true">1.9.</strong> Proxy</a></li><li class="chapter-item "><a href="overview/destructuring.html"><strong aria-hidden="true">1.10.</strong> Destructuring</a></li><li class="chapter-item "><a href="overview/j4x.html"><strong aria-hidden="true">1.11.</strong> Jet for XML</a></li><li class="chapter-item "><a href="overview/fixed-versus-dynamic.html"><strong aria-hidden="true">1.12.</strong> Fixed versus dynamic</a></li><li class="chapter-item "><a href="overview/flex.html"><strong aria-hidden="true">1.13.</strong> Flex</a></li></ol></li><li class="chapter-item "><a href="notation.html"><strong aria-hidden="true">2.</strong> Notation</a></li><li class="chapter-item "><a href="lexical-structure.html"><strong aria-hidden="true">3.</strong> Lexical structure</a></li><li class="chapter-item "><a href="types.html"><strong aria-hidden="true">4.</strong> Types</a></li><li class="chapter-item "><a href="type-conversions.html"><strong aria-hidden="true">5.</strong> Type conversions</a></li><li class="chapter-item "><a href="visibility.html"><strong aria-hidden="true">6.</strong> Visibility</a></li><li class="chapter-item "><a href="packages.html"><strong aria-hidden="true">7.</strong> Packages</a></li><li class="chapter-item "><a href="package-sets.html"><strong aria-hidden="true">8.</strong> Package sets</a></li><li class="chapter-item "><a href="variables.html"><strong aria-hidden="true">9.</strong> Variables</a></li><li class="chapter-item "><a href="virtual-properties.html"><strong aria-hidden="true">10.</strong> Virtual properties</a></li><li class="chapter-item "><a href="functions.html"><strong aria-hidden="true">11.</strong> Functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="functions/instance-methods.html"><strong aria-hidden="true">11.1.</strong> Instance methods</a></li><li class="chapter-item "><a href="functions/interface-methods.html"><strong aria-hidden="true">11.2.</strong> Interface methods</a></li><li class="chapter-item "><a href="functions/getters-and-setters.html"><strong aria-hidden="true">11.3.</strong> Getters and setters</a></li><li class="chapter-item "><a href="functions/constructors.html"><strong aria-hidden="true">11.4.</strong> Constructors</a></li><li class="chapter-item "><a href="functions/proxies.html"><strong aria-hidden="true">11.5.</strong> Proxies</a></li></ol></li><li class="chapter-item "><a href="type-parameters.html"><strong aria-hidden="true">12.</strong> Type parameters</a></li><li class="chapter-item "><a href="metadata.html"><strong aria-hidden="true">13.</strong> Meta-data</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="metadata/reserved-metadata.html"><strong aria-hidden="true">13.1.</strong> Reserved meta-data</a></li><li class="chapter-item "><a href="metadata/plain-metadata.html"><strong aria-hidden="true">13.2.</strong> Plain meta-data</a></li></ol></li><li class="chapter-item "><a href="aliases.html"><strong aria-hidden="true">14.</strong> Aliases</a></li><li class="chapter-item "><a href="enum.html"><strong aria-hidden="true">15.</strong> Enumerations</a></li><li class="chapter-item "><a href="classes.html"><strong aria-hidden="true">16.</strong> Classes</a></li><li class="chapter-item "><a href="interfaces.html"><strong aria-hidden="true">17.</strong> Interfaces</a></li><li class="chapter-item "><a href="property-resolution.html"><strong aria-hidden="true">18.</strong> Property resolution</a></li><li class="chapter-item "><a href="reference-values.html"><strong aria-hidden="true">19.</strong> Reference values</a></li><li class="chapter-item "><a href="fully-qualified-names.html"><strong aria-hidden="true">20.</strong> Fully qualified names</a></li><li class="chapter-item "><a href="scopes.html"><strong aria-hidden="true">21.</strong> Scopes</a></li><li class="chapter-item "><a href="root-scope.html"><strong aria-hidden="true">22.</strong> Root scope</a></li><li class="chapter-item "><a href="environment-variables.html"><strong aria-hidden="true">23.</strong> Environment variables</a></li><li class="chapter-item "><a href="output-directory.html"><strong aria-hidden="true">24.</strong> Output directory</a></li><li class="chapter-item "><a href="phases-of-execution.html"><strong aria-hidden="true">25.</strong> Phases of execution</a></li><li class="chapter-item "><a href="type-expressions.html"><strong aria-hidden="true">26.</strong> Type expressions</a></li><li class="chapter-item "><a href="expressions.html"><strong aria-hidden="true">27.</strong> Expressions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="expressions/identifiers.html"><strong aria-hidden="true">27.1.</strong> Identifiers</a></li><li class="chapter-item "><a href="expressions/primary-expressions.html"><strong aria-hidden="true">27.2.</strong> Primary expressions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="expressions/paren-expressions.html"><strong aria-hidden="true">27.2.1.</strong> Parenthesized expressions</a></li><li class="chapter-item "><a href="expressions/object-initializer.html"><strong aria-hidden="true">27.2.2.</strong> Object initializer</a></li><li class="chapter-item "><a href="expressions/array-initializer.html"><strong aria-hidden="true">27.2.3.</strong> Array initializer</a></li><li class="chapter-item "><a href="expressions/xml-initializers.html"><strong aria-hidden="true">27.2.4.</strong> XML initializers</a></li><li class="chapter-item "><a href="expressions/embed-expression.html"><strong aria-hidden="true">27.2.5.</strong> Embed expression</a></li></ol></li><li class="chapter-item "><a href="expressions/super-expression.html"><strong aria-hidden="true">27.3.</strong> Super expression</a></li><li class="chapter-item "><a href="expressions/postfix-expressions.html"><strong aria-hidden="true">27.4.</strong> Postfix expressions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="expressions/postfix-expressions/property-accessors.html"><strong aria-hidden="true">27.4.1.</strong> Property accessors</a></li><li class="chapter-item "><a href="expressions/postfix-expressions/query-operators.html"><strong aria-hidden="true">27.4.2.</strong> Query operators</a></li><li class="chapter-item "><a href="expressions/postfix-expressions/call-expressions.html"><strong aria-hidden="true">27.4.3.</strong> Call expressions</a></li></ol></li><li class="chapter-item "><a href="expressions/meta-properties.html"><strong aria-hidden="true">27.5.</strong> Meta properties</a></li><li class="chapter-item "><a href="expressions/new-expressions.html"><strong aria-hidden="true">27.6.</strong> New expressions</a></li><li class="chapter-item "><a href="expressions/unary-expressions.html"><strong aria-hidden="true">27.7.</strong> Unary expressions</a></li><li class="chapter-item "><a href="expressions/binary-expressions.html"><strong aria-hidden="true">27.8.</strong> Binary expressions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="expressions/binary-expressions/exponentiation-expressions.html"><strong aria-hidden="true">27.8.1.</strong> Exponentiation expressions</a></li><li class="chapter-item "><a href="expressions/binary-expressions/multiplicative-expressions.html"><strong aria-hidden="true">27.8.2.</strong> Multiplicative expressions</a></li><li class="chapter-item "><a href="expressions/binary-expressions/additive-expressions.html"><strong aria-hidden="true">27.8.3.</strong> Additive expressions</a></li><li class="chapter-item "><a href="expressions/binary-expressions/shift-expressions.html"><strong aria-hidden="true">27.8.4.</strong> Shift expressions</a></li><li class="chapter-item "><a href="expressions/binary-expressions/relational-expressions.html"><strong aria-hidden="true">27.8.5.</strong> Relational expressions</a></li><li class="chapter-item "><a href="expressions/binary-expressions/equality-expressions.html"><strong aria-hidden="true">27.8.6.</strong> Equality expressions</a></li><li class="chapter-item "><a href="expressions/binary-expressions/bitwise-expressions.html"><strong aria-hidden="true">27.8.7.</strong> Bitwise expressions</a></li><li class="chapter-item "><a href="expressions/binary-expressions/logical-expressions.html"><strong aria-hidden="true">27.8.8.</strong> Logical expressions</a></li><li class="chapter-item "><a href="expressions/binary-expressions/coalesce-expression.html"><strong aria-hidden="true">27.8.9.</strong> Coalesce expression</a></li><li class="chapter-item "><a href="expressions/binary-expressions/short-circuit-expressions.html"><strong aria-hidden="true">27.8.10.</strong> Short circuit expressions</a></li></ol></li><li class="chapter-item "><a href="expressions/conditional-expressions.html"><strong aria-hidden="true">27.9.</strong> Conditional expressions</a></li><li class="chapter-item "><a href="expressions/non-assignment-expressions.html"><strong aria-hidden="true">27.10.</strong> Non assignment expressions</a></li><li class="chapter-item "><a href="expressions/assignment-expressions.html"><strong aria-hidden="true">27.11.</strong> Assignment expressions</a></li><li class="chapter-item "><a href="expressions/function-expression.html"><strong aria-hidden="true">27.12.</strong> Function expression</a></li><li class="chapter-item "><a href="expressions/list-expressions.html"><strong aria-hidden="true">27.13.</strong> List expressions</a></li></ol></li><li class="chapter-item "><a href="destructuring.html"><strong aria-hidden="true">28.</strong> Destructuring</a></li><li class="chapter-item "><a href="statements.html"><strong aria-hidden="true">29.</strong> Statements</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="statements/empty-statement.html"><strong aria-hidden="true">29.1.</strong> Empty statement</a></li><li class="chapter-item "><a href="statements/expression-statement.html"><strong aria-hidden="true">29.2.</strong> Expression statement</a></li><li class="chapter-item "><a href="statements/super-statement.html"><strong aria-hidden="true">29.3.</strong> Super statement</a></li><li class="chapter-item "><a href="statements/block-statement.html"><strong aria-hidden="true">29.4.</strong> Block statement</a></li><li class="chapter-item "><a href="statements/labeled-statement.html"><strong aria-hidden="true">29.5.</strong> Labeled statement</a></li><li class="chapter-item "><a href="statements/if-statement.html"><strong aria-hidden="true">29.6.</strong> If statement</a></li><li class="chapter-item "><a href="statements/switch-statement.html"><strong aria-hidden="true">29.7.</strong> Switch statement</a></li><li class="chapter-item "><a href="statements/do-statement.html"><strong aria-hidden="true">29.8.</strong> Do statement</a></li><li class="chapter-item "><a href="statements/while-statement.html"><strong aria-hidden="true">29.9.</strong> While statement</a></li><li class="chapter-item "><a href="statements/for-statements.html"><strong aria-hidden="true">29.10.</strong> For statements</a></li><li class="chapter-item "><a href="statements/continue-statement.html"><strong aria-hidden="true">29.11.</strong> Continue statement</a></li><li class="chapter-item "><a href="statements/break-statement.html"><strong aria-hidden="true">29.12.</strong> Break statement</a></li><li class="chapter-item "><a href="statements/with-statement.html"><strong aria-hidden="true">29.13.</strong> With statement</a></li><li class="chapter-item "><a href="statements/return-statement.html"><strong aria-hidden="true">29.14.</strong> Return statement</a></li><li class="chapter-item "><a href="statements/throw-statement.html"><strong aria-hidden="true">29.15.</strong> Throw statement</a></li><li class="chapter-item "><a href="statements/try-statement.html"><strong aria-hidden="true">29.16.</strong> Try statement</a></li><li class="chapter-item "><a href="statements/default-xml-namespace-statement.html"><strong aria-hidden="true">29.17.</strong> Default XML namespace statement</a></li></ol></li><li class="chapter-item "><a href="directives.html"><strong aria-hidden="true">30.</strong> Directives</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="directives/attributes.html"><strong aria-hidden="true">30.1.</strong> Attributes</a></li><li class="chapter-item "><a href="directives/configuration-directive.html"><strong aria-hidden="true">30.2.</strong> Configuration directive</a></li><li class="chapter-item "><a href="directives/import-directive.html"><strong aria-hidden="true">30.3.</strong> Import directive</a></li><li class="chapter-item "><a href="directives/use-directive.html"><strong aria-hidden="true">30.4.</strong> Use directive</a></li></ol></li><li class="chapter-item "><a href="definitions.html"><strong aria-hidden="true">31.</strong> Definitions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="definitions/variable-definition.html"><strong aria-hidden="true">31.1.</strong> Variable definition</a></li><li class="chapter-item "><a href="definitions/function-definition.html"><strong aria-hidden="true">31.2.</strong> Function definition</a></li><li class="chapter-item "><a href="definitions/class-definition.html"><strong aria-hidden="true">31.3.</strong> Class definition</a></li><li class="chapter-item "><a href="definitions/enum-definition.html"><strong aria-hidden="true">31.4.</strong> Enum definition</a></li><li class="chapter-item "><a href="definitions/interface-definition.html"><strong aria-hidden="true">31.5.</strong> Interface definition</a></li><li class="chapter-item "><a href="definitions/type-definition.html"><strong aria-hidden="true">31.6.</strong> Type definition</a></li><li class="chapter-item "><a href="definitions/package-definition.html"><strong aria-hidden="true">31.7.</strong> Package definition</a></li><li class="chapter-item "><a href="definitions/program-definition.html"><strong aria-hidden="true">31.8.</strong> Program definition</a></li></ol></li><li class="chapter-item "><a href="jetdoc.html"><strong aria-hidden="true">32.</strong> JetDoc</a></li><li class="chapter-item "><a href="language-library.html"><strong aria-hidden="true">33.</strong> Language library</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Jet Language Specification</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p>Jet is a flexible scripting language influenced by ActionScript.</p>
<p>This document specifies the language syntax, semantics and execution, but may lack some definitions from the ECMA-262 standard in which it is partially based.</p>
<h2 id="native-extensions"><a class="header" href="#native-extensions">Native extensions</a></h2>
<p>The language allows libraries known as <em>native extensions</em> to be developed through the combination of <a href="metadata/plain-metadata.html">plain meta-data</a> and <a href="overview/conditional-compilation.html">conditional compilation</a>.</p>
<p>Plain meta-data allow embedding arbitrary files with binary content, such as dynamic-link libraries, as well as textual files such as application descriptors.</p>
<p>Conditional compilation may be used at the package manifest of a Jet project and allows including program sources and dependencies in a conditional way.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="example-programs"><a class="header" href="#example-programs">Example programs</a></h1>
<h2 id="basic-syntax"><a class="header" href="#basic-syntax">Basic syntax</a></h2>
<pre><code>trace("Hello, world")

function isEven(argument: Number): Boolean (argument % 2 == 0)

trace(isEven(11))
</code></pre>
<h2 id="package-aliasing"><a class="header" href="#package-aliasing">Package aliasing</a></h2>
<p>Packages are used to organize properties into a namespace. In addition, the language allows to redirect accesses to other packages within a package through the <code>use</code> directive, allowing the user to use an abbreviation prefix to resolve to a property from a series of packages.</p>
<pre><code>package q1.y1 {
    public use y1.n1.*
    public use y1.n2.*
    public use y1.n3.*
}
import y1 = q1.y1.*
new y1.W

const y1: Number = 10
</code></pre>
<p>In the above program, the <code>y1</code> constant may be shadowed by the <code>y1</code> package alias in certain occasions: when a property defined in the <code>y1</code> package alias matches with the identifier name of a property accessed from the dot operator in the <code>y1</code> base.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="package-management"><a class="header" href="#package-management">Package management</a></h1>
<p>The language is integrated with JetPM, a package manager that supports a Jet build system, conditional compilation, and workspaces.</p>
<p>Different from packages in other package managers, a JetPM package belongs to a <em>platform</em>, and platforms do not coincide.</p>
<h2 id="build-system"><a class="header" href="#build-system">Build system</a></h2>
<p>The package manifest locates Jet source files, enabling JetPM to build a project through a concise command such as <code>jet build</code>, resulting into artifact code.</p>
<p>Here is an example package manifest:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    "id": "com.x.y",
    "version": "0.1.0",
    "platform": "http://ns.airsdk.dev/2008",
    "compilerOptions": {
        "includeSources": ["src"]
    }
}
</code></pre>
<h2 id="platforms"><a class="header" href="#platforms">Platforms</a></h2>
<p>Sharing packages between platforms is not possible in JetPM. Samsung HARMAN AIR and Node.js are two example platforms.</p>
<p>The package manifest's top-level <code>platform</code> option is required and indicates the platform to which the package belongs as well as the namespace on which dependencies are found in the package registry.</p>
<p>Here is an example of a potential package manifest that uses <code>http://ns.airsdk.dev/2008</code> as its platform:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    "id": "com.x.y",
    "version": "0.1.0",
    "platform": "http://ns.airsdk.dev/2008",
    "dependencies": {
        "goog.firebase": "1.0.0"
    }
}
</code></pre>
<p><em>Platform installation</em>: Supported platforms may be installed through <code>jet platform install "uri"</code>. If the URI uses a <code>file:</code> scheme it locates an user platform in the development device.</p>
<p><em>Compiler</em>: Platforms use a customized compiler built with the Jet Compiler codebase that is able to compile source files other than the <code>.jet</code> file extension.</p>
<p><em>Debugging</em>: The effect of the <code>jet run</code> command is up to the platform.</p>
<h2 id="conditional-compilation"><a class="header" href="#conditional-compilation">Conditional compilation</a></h2>
<p>The JetPM build system receives <em>constants</em> supplied by build commands, which may be used with <a href="overview/conditional-compilation.html">conditional compilation</a>.</p>
<pre><code class="language-plain">jet build --define myConstant
jet build --define myConstant=10
jet build --define q::myConstant=10
</code></pre>
<p>The top-level <code>configuration</code> property of the package manifest specifies the manifest properties in a conditional way. The matching branches are combined and overriden properly in top-down sequence, including the program sources and the package dependencies.</p>
<p>The key of each property in the <code>configuration</code> property is in one of the forms:</p>
<ul>
<li><code>always</code></li>
<li><code>if (condition)</code></li>
<li><code>else if (condition)</code></li>
<li><code>else</code></li>
</ul>
<p>Here is an example package manifest using the <code>configuration</code> setting:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    "id": "com.x.y",
    "version": "0.1.0",
    "platform": "http://ns.airsdk.dev/2008",
    "configuration": [
        ["always", {
            "compilerOptions": {
                "includeSources": ["src/base"]
            }
        }],
        ["if (air::target=ios)", {
            "compilerOptions": {
                "includeSources": ["src/platform/ios"]
            }
        }],
        ["else", {
            "compilerOptions": {
                "includeSources": ["src/platform/unsupported"]
            }
        }],
        ["always", {
            "compilerOptions": {
                "includeSources": ["src/facade"]
            }
        }]
    ]
}
</code></pre>
<p>Here are example JetPM commands passing configuration constants:</p>
<pre><code class="language-plain">jet build --define someConstant
jet build --define air::target=ios
</code></pre>
<h2 id="scripts"><a class="header" href="#scripts">Scripts</a></h2>
<p>The package manifest allows mapping of executable scripts, as well as their dependencies.</p>
<p>Scripts are executed in the Node.js® platform; therefore they implicitly use the <code>http://ns.nodejs.org/2009</code> platform.</p>
<p>JetPM constants are propagated from the containing package to the script, allowing equivalent conditional compilation in the script sources.</p>
<p><em>Build script</em>: The <code>build</code> script is automatically executed before the Jet project is built. Here is an example manifest demonstrating the special <code>build</code> script:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    "id": "com.x.y",
    "version": "0.1.0",
    "platform": "http://ns.airsdk.dev/2008",
    "scripts": {
        "build": {
            "compilerOptions": {
                "includeSources": ["build.jet"]
            }
        }
    }
}
</code></pre>
<h2 id="workspaces"><a class="header" href="#workspaces">Workspaces</a></h2>
<p>A workspace project contains a <code>workspace.json</code> file, which follows the format:</p>
<p><strong>workspace.json</strong></p>
<pre><code class="language-json">{
    "members": [
        "packages/com.x.y",
        "packages/com.x.z"
    ]
}
</code></pre>
<p>A member package may depend in another member package by using a <code>file:</code> URL:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    "id": "com.x.z",
    "version": "0.1.0",
    "platform": "http://ns.airsdk.dev/2008",
    "dependencies": {
        "com.x.y": "file:../com.x.y"
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="documentation"><a class="header" href="#documentation">Documentation</a></h1>
<p>JetDoc is the API documentation form integrated in the Jet language.</p>
<h2 id="auto-publishing"><a class="header" href="#auto-publishing">Auto publishing</a></h2>
<p>Published JetPM packages automatically publish online JetDoc documentation.</p>
<h2 id="comment-format"><a class="header" href="#comment-format">Comment format</a></h2>
<p>JetDoc allows Markdown text to appear within API documentation comments and supports special <code>@</code> tags for extended use.</p>
<pre><code>package org.ourdelivery.api {
    /**
     * Delivery options.
     * @example
     * ```
     * import org.ourdelivery.api.*;
     * const options: RequestOptions = {
     *     urgent: true,
     * };
     * ```
     */
    [Literal]
    public class RequestOptions {
        /**
         * Indicates whether the request is *urgent*.
         */
        public var urgent: Boolean;
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="compilation"><a class="header" href="#compilation">Compilation</a></h1>
<p>Jet can be compiled to other high-level languages or be executed by a virtual machine. For Jet support, a platform must provide its own compiler subset of the Jet Compiler that may traverse the abstract syntax tree and read compile-time symbols, produce Jet bytecode, and then final evaluable code.</p>
<p><img src="overview/compilation-flowchart.png" alt="" /></p>
<p>XML based frameworks may support interpolated expressions and directives using the above process.</p>
<h2 id="jet-bytecode"><a class="header" href="#jet-bytecode">Jet bytecode</a></h2>
<p>The Jet bytecode is undocumented as the Jet compiler is a work in progress and will be similiar to the ActionScript Virtual Machine 2 bytecode format by Adobe.</p>
<p>The Jet bytecode shall support:</p>
<ul>
<li>Meta-data with source location attached to definitions</li>
<li>Meta-data with source location attached to specific code regions of a function as result of annotatated block statements</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="conditional-compilation-1"><a class="header" href="#conditional-compilation-1">Conditional compilation</a></h1>
<p>The Jet language supports the <code>configuration</code> directive to allow expanding directives using a conditional language.</p>
<pre><code>package com.x.y {
    configuration {
        if (air::target=ios) {
            public function helloPlatform(): void {
                trace("Hello, iOS!");
            }
        } else {
            public function helloPlatform(): void {
                trace("Hello, non iOS platform!");
            }
        }
    }
}
</code></pre>
<p>The JetPM package manifest allows specifying sources with conditional compilation by using the top-level <code>configuration</code> option.</p>
<h2 id="conditional-language"><a class="header" href="#conditional-language">Conditional language</a></h2>
<p>The conditional language used with JetPM <code>configuration</code> property and the <code>configuration</code> directive supports the following expression forms:</p>
<ul>
<li><code>constant</code> — If a JetPM constant is present</li>
<li><code>constant=value</code> — If a JetPM constant is equals <code>"value"</code></li>
<li><code>constant!=value</code> — If a JetPM constant is not equals <code>"value"</code></li>
<li><code>!expression</code> — If condition is false</li>
<li><code>(expression)</code> — Parenthesized condition</li>
<li><code>expression &amp;&amp; expression</code> — If conditions are true</li>
<li><code>expression || expression</code> — If one condition is true</li>
</ul>
<p>The conditional language shares the same lexical grammar of the Jet language.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="string-encoding"><a class="header" href="#string-encoding">String encoding</a></h1>
<p>The String data type uses an implementation-defined encoding. String indices identify a character in the encoding unit.</p>
<h2 id="characters"><a class="header" href="#characters">Characters</a></h2>
<pre><code>// Number of Unicode Scalar Values
string.chars().length()

// Number of encoding units
string.length

string.isEmpty
string == ""
</code></pre>
<h2 id="miscellaneous"><a class="header" href="#miscellaneous">Miscellaneous</a></h2>
<pre><code>string.charAt(i)

for each (const ch in string) {
    /* Action */
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exceptions"><a class="header" href="#exceptions">Exceptions</a></h1>
<p>Jet supports throwing errors as in Java, in the form of unchecked exceptions that may occur during program execution.</p>
<pre><code>function task(): void {
    throw new RangeError("Error")
}
try {
    doSomething()
} catch (error: RangeError) {
    doSomething()
}
</code></pre>
<p>Documentation comments use the <code>@throws</code> tag to document thrown errors, as in:</p>
<pre><code>package com.mrrunner {
    /**
     * @throws com.mrrunner.MrRunnerError Thrown when run is a failure.
     */
    public function run(): void {
        /* ... */
    }
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nullability"><a class="header" href="#nullability">Nullability</a></h1>
<p>The <code>T?</code> type is the primary way of working with nullable data.</p>
<ul>
<li>The nullish coalescing operator returns the right operand if the left operand is <code>null</code>.</li>
</ul>
<pre><code>public class ExampleClass {
    public const data: Number?;
    public function ExampleClass(data: Number?) {
        this.data = data;
    }
    public function doubleIt(): ExampleClass (
        new ExampleClass((this.data ?? 0) * 2)
    );
}
// 0
trace(new ExampleClass(null).doubleIt().data);
// 20
trace(new ExampleClass(10).doubleIt().data);
</code></pre>
<ul>
<li>The non-null operator ensures the operand is not <code>null</code>.</li>
</ul>
<pre><code>// TypeError
trace(new ExampleClass(null).data!);
</code></pre>
<ul>
<li>The optional chaining operator returns <code>null</code> if the base object is <code>null</code>.</li>
</ul>
<pre><code>public function process(a: Number?): String? (
    a?.toString(16)
);
</code></pre>
<h2 id="implementation-behavior"><a class="header" href="#implementation-behavior">Implementation behavior</a></h2>
<p>The representation of a <code>T?</code> type varies across implementations.</p>
<ul>
<li>A <code>T?</code> type is equivalent to a nullable reference as in ActionScript.
<ul>
<li>Transpilers to ActionScript may consider interning primitive values into a weak dictionary.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proxy"><a class="header" href="#proxy">Proxy</a></h1>
<p>Jet operators can be customized through <em>proxies</em>.</p>
<p>Proxies are special methods defined with the <code>proxy</code> attribute. Here is an example class that overrides the addition operator:</p>
<pre><code>public final class AdditiveExample {
    public const value: Number;
    public function AdditiveExample(value: Number) {
        this.value = value;
    }
    proxy function add(right: AdditiveExample): AdditiveExample (
        new AdditiveExample(this.value + right.value)
    );
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="destructuring"><a class="header" href="#destructuring">Destructuring</a></h1>
<p>Destructuring patterns are used to extract components from a base value into variables. Here is a basic example:</p>
<pre><code>const {x, y} = f()
var [x1, y1] = f1()
[x1, y1] = f2([x1 + x, y1 + y])
</code></pre>
<p>The language allows the non-null operator within destructuring patterns:</p>
<pre><code>const [x, y]! = f2()
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jet-for-xml"><a class="header" href="#jet-for-xml">Jet for XML</a></h1>
<p>Jet for XML (J4X) adds XML capabilities to the Jet language. It is based on the legacy ECMAScript for XML standard (ECMA-357 second edition).</p>
<pre><code>const person = &lt;Person&gt;
    &lt;name&gt;Razen&lt;/name&gt;
    &lt;interest type="farming" rate="0.5"/&gt;
    &lt;interest type="quantumPhysics" rate="1"/&gt;
&lt;/Person&gt;

trace(person.name.toString())
trace(Number(person..interest.(@type == "quantumPhysics")[0].@rate) == 1)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fixed-versus-dynamic"><a class="header" href="#fixed-versus-dynamic">Fixed versus dynamic</a></h1>
<p>There are two types of properties: <em>fixed</em> and <em>dynamic</em> properties. Fixed properties shadow dynamic properties by default.</p>
<p>Fixed properties are these statically defined by a class. Dynamic properties are these resulting from property accessor proxies.</p>
<p>Classes such as <code>Map</code> use dynamic properties in high frequency.</p>
<pre><code>const o = { x: 10 }
o.x++
</code></pre>
<h2 id="explicit-disambiguation"><a class="header" href="#explicit-disambiguation">Explicit disambiguation</a></h2>
<p>Explicit disambiguation between accessing fixed and dynamic properties is possible by using the reserved Jet for XML qualifiers <code>fixed</code> and <code>dynamic</code>.</p>
<pre><code>o.fixed::x
o.dynamic::x
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="flex"><a class="header" href="#flex">Flex</a></h1>
<p>Based on Apache Flex, Jet Flex is a future reserved Jet technology that allows developing interactive applications using the Adobe AIR platform.</p>
<blockquote>
<p><strong>Note</strong>: This technology requires research on Apache Flex and Apache Royale before it is documented and implemented.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="notation"><a class="header" href="#notation">Notation</a></h1>
<h2 id="grammar-definition"><a class="header" href="#grammar-definition">Grammar definition</a></h2>
<p>This document uses the following notation to define productions of a <em>nonterminal</em> of the grammar:</p>
<table>
    <tr>
        <td colspan="2"><i>NonterminalName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Rule1</i> <i>RuleN</i></td>
    </tr>
</table>
<p>Nonterminals followed by the <sub>opt</sub> subscript are optional rules.</p>
<p>A bracketed clause or predicate may appear between the rules of a production, such as in:</p>
<table>
    <tr>
        <td colspan="2"><i>NonterminalName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ∈ { <b>0</b> }] <i>Rule1</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ∉ { <b>default</b> }] <i>Rule2</i></td>
    </tr>
        <td>&nbsp;</td><td><i>SourceCharacters</i> [but no embedded <b>&lt;!&#x5b;CDATA&#x5b;</b>] <i>Rule3</i></td>
    </tr>
</table>
<p>The «empty» clause is matched by the grammar where other rules do not match otherwise.</p>
<p>Braces subscripts are used to quantify a rule:</p>
<ul>
<li><i>Rule</i><sub>{4}</sub> — Four of <i>Rule</i></li>
<li><i>Rule</i><sub>{2,}</sub> — At least two of <i>Rule</i></li>
<li><i>Rule</i><sub>{1,4}</sub> — One to four of <i>Rule</i></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lexical-structure"><a class="header" href="#lexical-structure">Lexical structure</a></h1>
<p>This section defines the lexical grammar of the Jet language.</p>
<p>The tokenizer scans one of the following input goal symbols depending on the syntactic context:</p>
<ul>
<li><em>InputElementDiv</em></li>
<li><em>InputElementRegExp</em></li>
<li><em>InputElementXMLTag</em></li>
<li><em>InputElementXMLContent</em></li>
</ul>
<p>The following program illustrates how the tokenizer decides which is the input goal symbol to scan:</p>
<pre><code>/(?:)/;
a / b;
&lt;a&gt;Text&lt;/a&gt;;
</code></pre>
<p>The following table indicates which is the input goal symbol that is scanned for each of the tokens comprising the previous program:</p>
<div class="table-wrapper"><table><thead><tr><th>Token</th><th>Input goal</th></tr></thead><tbody>
<tr><td><code>/(?:)/</code></td><td><em>InputElementRegExp</em></td></tr>
<tr><td><code>;</code></td><td><em>InputElementDiv</em></td></tr>
<tr><td><code>a</code></td><td><em>InputElementRegExp</em></td></tr>
<tr><td><code>/</code></td><td><em>InputElementDiv</em></td></tr>
<tr><td><code>b</code></td><td><em>InputElementRegExp</em></td></tr>
<tr><td><code>;</code></td><td><em>InputElementDiv</em></td></tr>
<tr><td><code>&lt;</code></td><td><em>InputElementRegExp</em></td></tr>
<tr><td><code>a</code></td><td><em>InputElementXMLTag</em></td></tr>
<tr><td><code>&gt;</code></td><td><em>InputElementXMLTag</em></td></tr>
<tr><td><code>Text</code></td><td><em>InputElementXMLContent</em></td></tr>
<tr><td><code>&lt;/</code></td><td><em>InputElementXMLContent</em></td></tr>
<tr><td><code>a</code></td><td><em>InputElementXMLTag</em></td></tr>
<tr><td><code>&gt;</code></td><td><em>InputElementXMLTag</em></td></tr>
<tr><td><code>;</code></td><td><em>InputElementDiv</em></td></tr>
</tbody></table>
</div>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>InputElementDiv</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>WhiteSpace</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LineTerminator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Comment</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ReservedWord</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Punctuator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NumericLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>StringLiteral</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>InputElementRegExp</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>WhiteSpace</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LineTerminator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Comment</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ReservedWord</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Punctuator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>/</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>/=</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NumericLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>StringLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RegularExpressionLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLMarkup</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>InputElementXMLTag</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLTagPunctuator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLAttributeValue</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLWhitespace</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x7B;</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>InputElementXMLContent</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLMarkup</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLText</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x7B;</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&lt;</b> [lookahead ∉ { <b>?</b>, <b>!</b>, <b>/</b> }]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&lt;/</b></td>
    </tr>
</table>
<h2 id="source-characters"><a class="header" href="#source-characters">Source Characters</a></h2>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>SourceCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Unicode code point]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>SourceCharacters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacter</i> <i>SourceCharacters</i><sub>opt</sub></td>
    </tr>
</table>
<h2 id="white-space"><a class="header" href="#white-space">White Space</a></h2>
<p>The <em>WhiteSpace</em> token is filtered out by the lexical scanner.</p>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>WhiteSpace</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+09 tab]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+0B vertical tab]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+0C form feed]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+20 space]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+A0 no-break space]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Unicode “space separator”]</td>
    </tr>
</table>
<h2 id="line-terminators"><a class="header" href="#line-terminators">Line terminators</a></h2>
<p>The <em>LineTerminator</em> token is filtered out by the lexical scanner, however it may result in a <em>VirtualSemicolon</em> to be inserted.</p>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>LineTerminator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+0A line feed]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+0D carriage return]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+2028 line separator]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+2029 paragraph separator]</td>
    </tr>
</table>
<h2 id="comments"><a class="header" href="#comments">Comments</a></h2>
<p>The <em>Comment</em> token is filtered out by the lexical scanner, however it propagates any <em>LineTerminator</em> token from its characters.</p>
<p><em>Comment</em> is similiar to that from the ECMA-262 third edition, with support for nested multi-line comments.</p>
<pre><code>/*
 * /*
 *  *
 *  */
 */
</code></pre>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>Comment</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>//</b> <i>SingleLineCommentCharacters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>MultiLineComment</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>SingleLineCommentCharacters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SingleLineCommentCharacter</i> <i>SingleLineCommentCharacters</i><sub>opt</sub></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>SingleLineCommentCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ∉ { <i>LineTerminator</i> }] <i>SourceCharacter</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>MultiLineComment</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>/*</b> <i>MultiLineCommentCharacters</i><sub>opt</sub> <b>*/</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>MultiLineCommentCharacters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacters</i> [but no embedded sequence <b>/*</b>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>MultiLineComment</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>MultiLineCommentCharacters</i> <i>SourceCharacters</i> [but no embedded sequence <b>/*</b>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>MultiLineCommentCharacters</i> <i>MultiLineComment</i></td>
    </tr>
</table>
<h2 id="virtual-semicolons"><a class="header" href="#virtual-semicolons">Virtual semicolons</a></h2>
<p>The <em>VirtualSemicolon</em> nonterminal matches an automatically inserted semicolon, known as a <em>virtual</em> semicolon.</p>
<p>Virtual semicolons are inserted in the following occasions:</p>
<ul>
<li>After a right-curly character <strong>}</strong></li>
<li>Before a <em>LineTerminator</em></li>
</ul>
<h2 id="identifier"><a class="header" href="#identifier">Identifier</a></h2>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>Identifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i> [but not <i>ReservedWord</i> or <i>ContextKeyword</i>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ContextKeyword</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>IdentifierName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierStart</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i> <i>IdentifierPart</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>IdentifierStart</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeLetter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>_</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>$</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeEscapeSequence</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>IdentifierPart</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeLetter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeCombiningMark</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeConnectorPunctuation</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeDigit</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>_</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>$</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeEscapeSequence</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>UnicodeLetter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Unicode letter (“L”)]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Unicode letter number (“Nl”)]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>UnicodeDigit</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Unicode decimal digit number (“Nd”)]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>UnicodeCombiningMark</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Unicode nonspacing mark (“Mn”)]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Unicode spacing combining mark (“Mc”)]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>UnicodeConnectorPunctuation</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Unicode connector punctuation (“Pc”)]</td>
    </tr>
</table>
<h2 id="escape-sequences"><a class="header" href="#escape-sequences">Escape sequences</a></h2>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>UnicodeEscapeSequence</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5c;u</b> <i>HexDigit</i><sub>{4}</sub></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5c;u</b> <b>&#x7b;</b> <i>HexDigit</i><sub>{1,}</sub> <b>&#x7d;</b></td>
    </tr>
</table>
<h2 id="keywords"><a class="header" href="#keywords">Keywords</a></h2>
<p><em>ReservedWord</em> includes the following reserved words:</p>
<pre><code class="language-plain">as
do
if
in
is

for
new
not
try
use
var

case
else
null
this
true
void
with

await
break
catch
class
const
false
super
throw
while
yield

delete
import
public
return
switch
typeof

default
extends
finally
package
private

continue
function
internal

interface
protected

implements
</code></pre>
<p><em>ContextKeyword</em> is one of the following in certain syntactic contexts:</p>
<pre><code class="language-plain">get
set
xml

each
enum
from
meta
type

embed
final
fixed
proxy

native
static

dynamic

abstract
override

namespace

configuration
</code></pre>
<h2 id="punctuators"><a class="header" href="#punctuators">Punctuators</a></h2>
<p><em>Punctuator</em> includes one of the following:</p>
<pre><code class="language-plain">::  @
.  ..  ...
(  )  [  ]  {  }
:  ;  ,
?  !  =
?.
&lt;  &lt;=
&gt;  &gt;=
==  ===
!=  !==
+  -  *  %  **
++  --
&lt;&lt;  &gt;&gt;  &gt;&gt;&gt;
&amp;  ^  |  ~
&amp;&amp;  ^^  ||  ??
</code></pre>
<p>The <code>@</code> punctuator must not be followed by a single quote <b>'</b> or a double quote character <b>"</b>.</p>
<p><em>Punctuator</em> includes <em>CompoundAssignmentPunctuator</em>. <em>CompoundAssignmentPunctuator</em> is one of the following:</p>
<pre><code class="language-plain">+=  -=  *=  %=  **=
&lt;&lt;=  &gt;&gt;=  &gt;&gt;&gt;=  &amp;=  ^=  |=
&amp;&amp;=  ^^=  ||=
??=
</code></pre>
<h2 id="numeric-literal"><a class="header" href="#numeric-literal">Numeric literal</a></h2>
<p><em>NumericLiteral</em> is similiar to <em>NumericLiteral</em> from the ECMA-262 third edition, with support for binary literals and underscore separators:</p>
<pre><code class="language-plain">0b1011
1_000
</code></pre>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>NumericLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DecimalLiteral</i> [lookahead ∉ { <i>IdentifierStart</i>, <i>DecimalDigit</i> }]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>HexIntegerLiteral</i> [lookahead ∉ { <i>IdentifierStart</i>, <i>DecimalDigit</i> }]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BinIntegerLiteral</i> [lookahead ∉ { <i>IdentifierStart</i>, <i>DecimalDigit</i> }]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>DecimalLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DecimalIntegerLiteral</i> <b>.</b> <i>UnderscoreDecimalDigits</i><sub>opt</sub> <i>ExponentPart</i><sub>opt</sub></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>.</b> <i>UnderscoreDecimalDigits</i> <i>ExponentPart</i><sub>opt</sub></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DecimalIntegerLiteral</i> <i>ExponentPart</i><sub>opt</sub></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>DecimalIntegerLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>0</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead = <i>NonZeroDigit</i>] <i>UnderscoreDecimalDigits</i><sub>opt</sub></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>DecimalDigits</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DecimalDigit</i><sub>{1,}</sub></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>UnderscoreDecimalDigits</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DecimalDigits</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnderscoreDecimalDigits</i> <b>_</b> <i>DecimalDigits</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>DecimalDigit</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[decimal digit from U+30 to U+39 (inclusive)]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>NonZeroDigit</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[decimal digit from U+31 to U+39 (inclusive)]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ExponentPart</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ExponentIndicator</i> <i>SignedInteger</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ExponentIndicator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>e</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>E</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>SignedInteger</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnderscoreDecimalDigits</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>+</b> <i>UnderscoreDecimalDigits</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>-</b> <i>UnderscoreDecimalDigits</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>HexIntegerLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>0x</b> <i>UnderscoreHexDigits</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>0X</b> <i>UnderscoreHexDigits</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>HexDigit</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[hexadecimal digit, case-insensitive]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>UnderscoreHexDigits</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>HexDigit</i><sub>{1,}</sub></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnderscoreDecimalDigits</i> <b>_</b> <i>HexDigit</i><sub>{1,}</sub></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>BinIntegerLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>0b</b> <i>UnderscoreBinDigits</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>0B</b> <i>UnderscoreBinDigits</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>BinDigit</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[binary digit from U+30 to U+31 inclusive]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>UnderscoreBinDigits</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BinDigit</i><sub>{1,}</sub></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnderscoreDecimalDigits</i> <b>_</b> <i>BinDigit</i><sub>{1,}</sub></td>
    </tr>
</table>
<h2 id="regular-expression-literal"><a class="header" href="#regular-expression-literal">Regular expression literal</a></h2>
<p><em>RegularExpressionLiteral</em> is similiar to <em>RegularExpressionLiteral</em> from the ECMA-262 third edition, with support for line breaks.</p>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>RegularExpressionLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>/</b> <i>RegularExpressionBody</i> <b>/</b> <i>RegularExpressionFlags</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>RegularExpressionBody</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RegularExpressionFirstChar</i> <i>RegularExpressionChars</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>RegularExpressionChars</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RegularExpressionChars</i> <i>RegularExpressionChar</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>RegularExpressionFirstChar</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacter</i> [but not <b>*</b> or <b>&#x5C;</b> or <b>/</b>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BackslashSequence</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>RegularExpressionChar</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacter</i> [but not <b>&#x5C;</b> or <b>/</b>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BackslashSequence</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>BackslashSequence</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5C;</b> <i>SourceCharacter</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>RegularExpressionFlags</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RegularExpressionFlags</i> <i>IdentifierPart</i></td>
    </tr>
</table>
<h2 id="string-literal"><a class="header" href="#string-literal">String literal</a></h2>
<p><em>StringLiteral</em> is similiar to <em>StringLiteral</em> from the ECMA-262 third edition, with additional features:</p>
<ul>
<li>Scalar <em>UnicodeEscapeSequence</em> using the <code>\u{...}</code> form</li>
<li>Triple string literals</li>
<li>Raw string literals using the <code>@</code> prefix</li>
</ul>
<p>Triple string literals use either <code>"""</code> or <code>'''</code> as delimiter and may span multiple lines. The contents of triple string literals are indentation-based, as can be observed in the following program:</p>
<pre><code>const text = """
    Have a
    nice day!
    """
assert(text == "Have a\nnice day!")
</code></pre>
<p>Triple string literals are processed as follows:</p>
<ul>
<li>The first empty line is ignored.</li>
<li>The base indentation of a triple string literal is that of the last string line.</li>
</ul>
<p>Both regular and triple string literals accept the <code>@</code> prefix, designating raw string literals. Raw string literals contain no escape sequences.</p>
<pre><code>const shaderProgram = @"""
    function main(): void {}
    """
</code></pre>
<p>Escape sequences are described by the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Escape sequence</th><th>Description</th></tr></thead><tbody>
<tr><td><code>\'</code></td><td>U+27 single-quote</td></tr>
<tr><td><code>\"</code></td><td>U+22 double-quote</td></tr>
<tr><td><code>\\</code></td><td>U+5C backslash character</td></tr>
<tr><td><code>\b</code></td><td>U+08 backspace character</td></tr>
<tr><td><code>\f</code></td><td>U+0C form feed character</td></tr>
<tr><td><code>\n</code></td><td>U+0A line feed character</td></tr>
<tr><td><code>\r</code></td><td>U+0D carriage return character</td></tr>
<tr><td><code>\t</code></td><td>U+09 tab character</td></tr>
<tr><td><code>\v</code></td><td>U+0B vertical tab character</td></tr>
<tr><td><code>\0</code></td><td>U+00 character</td></tr>
<tr><td><code>\xHH</code></td><td>Contributes an Unicode code point value</td></tr>
<tr><td><code>\uHHHH</code></td><td>Contributes an Unicode code point value</td></tr>
<tr><td><code>\u{...}</code></td><td>Contributes an Unicode code point value</td></tr>
<tr><td><code>\</code> followed by <em>LineTerminator</em></td><td>Contributes nothing</td></tr>
</tbody></table>
</div>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>StringLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ≠ <b>"""</b>] <b>"</b> <i>DoubleStringCharacter</i><sub>{0,}</sub> <b>"</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ≠ <b>'''</b>] <b>'</b> <i>SingleStringCharacter</i><sub>{0,}</sub> <b>'</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>@</b> [lookahead ≠ <b>"""</b>] <b>"</b> <i>DoubleStringRawCharacter</i><sub>{0,}</sub> <b>"</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>@</b> [lookahead ≠ <b>'''</b>] <b>'</b> <i>SingleStringRawCharacter</i><sub>{0,}</sub> <b>'</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>"""</b> <i>TripleDoubleStringCharacter</i><sub>{0,}</sub> <b>"""</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>'''</b> <i>TripleSingleStringCharacter</i><sub>{0,}</sub> <b>'''</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>@"""</b> <i>TripleDoubleStringRawCharacter</i><sub>{0,}</sub> <b>"""</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>@'''</b> <i>TripleSingleStringRawCharacter</i><sub>{0,}</sub> <b>'''</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>DoubleStringCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacter</i> [but not double-quote <b>"</b> or backslash <b>&#x5C;</b> or <i>LineTerminator</i>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EscapeSequence</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>SingleStringCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacter</i> [but not single-quote <b>'</b> or backslash <b>&#x5C;</b> or <i>LineTerminator</i>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EscapeSequence</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>DoubleStringRawCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacter</i> [but not double-quote <b>"</b> or <i>LineTerminator</i>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>SingleStringRawCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacter</i> [but not single-quote <b>'</b> or <i>LineTerminator</i>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TripleDoubleStringCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ≠ <b>"""</b>] <i>SourceCharacter</i> [but not backslash <b>&#x5C;</b> or <i>LineTerminator</i>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EscapeSequence</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LineTerminator</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TripleSingleStringCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ≠ <b>'''</b>] <i>SourceCharacter</i> [but not backslash <b>&#x5C;</b> or <i>LineTerminator</i>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EscapeSequence</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LineTerminator</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TripleDoubleStringRawCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ≠ <b>"""</b>] <i>SourceCharacter</i> [but not <i>LineTerminator</i>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LineTerminator</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TripleSingleStringRawCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ≠ <b>'''</b>] <i>SourceCharacter</i> [but not <i>LineTerminator</i>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LineTerminator</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>EscapeSequence</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5C;</b> <i>CharacterEscapeSequence</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5C;0</b> [lookahead ∉ <i>DecimalDigit</i>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5C;</b> <i>LineTerminator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>HexEscapeSequence</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeEscapeSequence</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>CharacterEscapeSequence</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SingleEscapeCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NonEscapeCharacter</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>SingleEscapeCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>'</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>"</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5C;</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>b</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>f</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>n</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>r</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>t</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>v</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>NonEscapeCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacter</i> [but not <i>EscapeCharacter</i> or <i>LineTerminator</i>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>EscapeCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SingleEscapeCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DecimalDigit</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>x</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>u</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>HexEscapeSequence</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5C;x</b> <i>HexDigit</i> <i>HexDigit</i></td>
    </tr>
</table>
<h2 id="jet-for-xml-1"><a class="header" href="#jet-for-xml-1">Jet for XML</a></h2>
<p>This section defines nonterminals used in the lexical grammar for the Jet for XML feature.</p>
<p>If a <em>XMLMarkup</em>, <em>XMLAttributeValue</em> or <em>XMLText</em> contains a <em>LineTerminator</em> after parsed, it contributes such <em>LineTerminator</em> to the lexical scanner.</p>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>XMLMarkup</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLComment</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLCDATA</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLPI</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLWhitespaceCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+20 space]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+09 tab]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+0D carriage return]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[U+0A line feed]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLWhitespace</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLWhitespaceCharacter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLWhitespace</i> <i>XMLWhitespaceCharacter</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLText</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacters</i> [but no embedded left-curly <b>&#x7B;</b> or less-than <b>&lt;</b>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLNameStart</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLName</i> <i>XMLNamePart</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLNameStart</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeLetter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[underscore <b>_</b>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[colon <b>:</b>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLNamePart</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeLetter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeDigit</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[period <b>.</b>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[hyphen <b>-</b>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[underscore <b>_</b>]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[colon <b>:</b>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLComment</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&lt;!--</b> <i>XMLCommentCharacters</i><sub>opt</sub> <b>--&gt;</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLCommentCharacters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacters</i> [but no embedded sequence <b>--&gt;</b>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLCDATA</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&lt;![CDATA[</b> <i>XMLCDATACharacters</i> <b>]]&gt;</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLCDATACharacters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacters</i> [but no embedded sequence <b>&#x5D;&#x5D;&gt;</b>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLPI</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&lt;?</b> <i>XMLPICharacters</i><sub>opt</sub> <b>?&gt;</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLPICharacters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacters</i> [but no embedded sequence <b>?&gt;</b>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLAttributeValue</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>"</b> <i>XMLDoubleStringCharacters</i><sub>opt</sub> <b>"</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>'</b> <i>XMLSingleStringCharacters</i><sub>opt</sub> <b>'</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLDoubleStringCharacters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacters</i> [but no embedded double-quote <b>"</b>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLSingleStringCharacters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SourceCharacters</i> [but no embedded single-quote <b>'</b>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLTagPunctuator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>=</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&gt;</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>/&gt;</b></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="types"><a class="header" href="#types">Types</a></h1>
<h2 id="primitive-types"><a class="header" href="#primitive-types">Primitive types</a></h2>
<p>Jet considers the following to be primitive types:</p>
<ul>
<li><code>void</code> type</li>
<li>Number types</li>
<li><code>Boolean</code> type</li>
<li><code>String</code> type</li>
<li><code>Char</code> type</li>
</ul>
<h2 id="default-value"><a class="header" href="#default-value">Default value</a></h2>
<p>The default value of a type <em>t</em> is determined as follows:</p>
<ul>
<li>For <em>t</em> = <code>void</code>, return <code>undefined</code>.</li>
<li>For <em>t</em> = <code>T?</code>, return <code>null</code>.</li>
<li>For <em>t</em> = number type, return zero.</li>
<li>For <em>t</em> = <code>Boolean</code>, return false.</li>
<li>For <em>t</em> = <code>String</code>, return the empty string.</li>
<li>For <em>t</em> = <code>Char</code>, return U+0000.</li>
<li>For <em>t</em> = set enumeration, return an empty set.</li>
<li>Return nothing.</li>
</ul>
<h2 id="auto-boxing"><a class="header" href="#auto-boxing">Auto boxing</a></h2>
<p>The language performs auto boxing of primitive types. Primitive types are represented in a memory efficient way wherever available, including within an <code>Array</code>.</p>
<p>Primitive types are boxed without duplicating identity:</p>
<pre><code>var x: Object = 10
var y: Object = 10

// true
x == y
</code></pre>
<h2 id="any-type"><a class="header" href="#any-type">Any type</a></h2>
<p>The <code>*</code> type contains values from all other types. The any type is the most ascending type of all other types.</p>
<h2 id="void-type"><a class="header" href="#void-type">Void type</a></h2>
<p>The <code>void</code> type consists of the <code>undefined</code> constant.</p>
<h2 id="null-type"><a class="header" href="#null-type">Null type</a></h2>
<p>The null type consists of the <code>null</code> value. Although the null type exists in the specification, no operation in the language can result in the null type.</p>
<h2 id="number-types"><a class="header" href="#number-types">Number types</a></h2>
<p><em>IEEE 754 floating point</em>:</p>
<ul>
<li><code>Number</code> — Double-precision floating point</li>
<li><code>Single</code> — Single-precision floating point</li>
</ul>
<p><em>Signed integer</em>:</p>
<ul>
<li><code>BigInt</code> — Arbitrary range integer</li>
<li><code>Long</code> — Ranges from -2<sup>64 - 1</sup> to 2<sup>64 - 1</sup> - 1 (64-bit)</li>
</ul>
<h2 id="boolean-type"><a class="header" href="#boolean-type">Boolean type</a></h2>
<p>The <code>Boolean</code> type consists of the values <code>false</code> and <code>true</code>.</p>
<h2 id="string-type"><a class="header" href="#string-type">String type</a></h2>
<p>The <code>String</code> type consists of a sequence of Unicode Scalar Values whose encoding is implementation-defined.</p>
<h2 id="char-type"><a class="header" href="#char-type">Char type</a></h2>
<p>The <code>Char</code> type is a Unicode Scalar Value.</p>
<h2 id="function-types"><a class="header" href="#function-types">Function types</a></h2>
<p>Function types consist of zero or more parameters and a return type annotation.</p>
<pre><code>function(): E

// Required parameter
function(a: T): E

// Optional parameter
function(a?: T): E

// Rest parameter
function(...a: [T]): E
</code></pre>
<ul>
<li>Function types inherit from the <code>Function</code> class.</li>
<li>Function types are final classes.</li>
<li>Each parameter is either a required, optional or rest parameter.</li>
<li>The allowed parameter list is a list of zero or more required parameters followed by zero or more optional parameters followed by an optional rest parameter.</li>
<li>The rest parameter must appear at most once.</li>
<li>The rest parameter must be of type <code>Array</code>.</li>
</ul>
<h2 id="tuple-types"><a class="header" href="#tuple-types">Tuple types</a></h2>
<p>Tuple types are in the form <code>[T1, T2, ...TN]</code> and consist of a sequence of two or more element types.</p>
<ul>
<li>Tuple types inherit from the <code>Object</code> class.</li>
<li>Tuple types are final classes.</li>
</ul>
<p>Tuple types contain mutable elements and are compared by reference.</p>
<pre><code>type T = [Number, Number]
const v: T = [10, 10]
v[0] += 1
v == [11, 10] // false
</code></pre>
<h2 id="nullable-type"><a class="header" href="#nullable-type">Nullable type</a></h2>
<p>The <code>T?</code> type is an union of <code>null</code> and <code>T</code>.</p>
<h2 id="array-type"><a class="header" href="#array-type">Array type</a></h2>
<p>The <code>Array.&lt;T&gt;</code> type is a growable collection of <code>T</code> values. <code>Array</code> may be expressed as <code>Array.&lt;T&gt;</code> or <code>[T]</code>.</p>
<h2 id="object-type"><a class="header" href="#object-type">Object type</a></h2>
<p>The <code>Object</code> type is the super type of all other classes and all enums.</p>
<h2 id="expecttype"><a class="header" href="#expecttype">ExpectType()</a></h2>
<p>The internal <em>ExpectType</em>(<em>symbol</em>) function takes the following steps:</p>
<ul>
<li>If <em>symbol</em> is a <em>PackageReferenceValue</em>(<em>base</em>, <em>prop</em>)
<ul>
<li>Return <em>ExpectType</em>(<em>prop</em>)</li>
</ul>
</li>
<li>If <em>symbol</em> is a <em>ScopeReferenceValue</em>(<em>base</em>, <em>prop</em>)
<ul>
<li>Return <em>ExpectType</em>(<em>prop</em>)</li>
</ul>
</li>
<li>If <em>symbol</em> is a <em>TypeAsReferenceValue</em>(<em>type</em>)
<ul>
<li>Return <em>type</em></li>
</ul>
</li>
<li>Throw type error if <em>symbol</em> is not a type.</li>
<li>Return <em>symbol</em>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="type-conversions"><a class="header" href="#type-conversions">Type conversions</a></h1>
<p>Type conversions occur either implicitly or explicitly.</p>
<p>An explicit type conversion occurs through one of the following expressions:</p>
<pre><code>v as T
T(v)
</code></pre>
<p><code>v as T</code> is an optional explicit type conversion.</p>
<h2 id="implicit-constant-conversions"><a class="header" href="#implicit-constant-conversions">Implicit constant conversions</a></h2>
<p>The language performs implicit compile-time type conversions from a constant to a constant of another type. They are described by the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Relationship</th><th>Description</th></tr></thead><tbody>
<tr><td><code>undefined</code> to <code>*</code>, nullable type, or set enumeration</td><td>For nullable types, results into <code>null</code>. For set enumeration, results into an empty set. For <code>*</code>, results into <code>undefined</code>.</td></tr>
<tr><td><code>null</code> to <code>*</code> or nullable type</td><td>Results into <code>null</code>.</td></tr>
<tr><td><code>N</code> constant to <code>*</code>, <code>Object</code> or <code>Object?</code></td><td>Results into a <code>N</code> number constant of a covariant type.</td></tr>
<tr><td><code>NF1</code> constant to <code>NF2</code> or <code>NF2?</code></td><td>Results into a floating point constant with the same numeric value, where <code>NF2</code> is a floating point type whose range is wider than that of <code>NF1</code>.</td></tr>
<tr><td><code>NI1</code> constant to <code>NI2</code> or <code>NI2?</code></td><td>Results into an integer constant with the same numeric value, where <code>NI2</code> is a integer type whose range is wider than that of <code>NI1</code>.</td></tr>
<tr><td><code>NaN</code> constant to <code>NI</code> or <code>NI?</code></td><td>Results into a zero (0) constant where <code>NI</code> is an integer type.</td></tr>
<tr><td><code>-Infinity</code> constant to <code>NI</code> or <code>NI?</code></td><td>Results into the minimum integer constant where <code>NI</code> is an integer type but not <code>BigInt</code>.</td></tr>
<tr><td><code>+Infinity</code> constant to <code>NI</code> or <code>NI?</code></td><td>Results into the maximum integer constant where <code>NI</code> is an integer type but not <code>BigInt</code>.</td></tr>
<tr><td>From non nullable <code>T</code> constant to <code>T?</code></td><td>Results into the same constant but wrapped in a nullable type.</td></tr>
</tbody></table>
</div>
<h2 id="implicit-conversions"><a class="header" href="#implicit-conversions">Implicit conversions</a></h2>
<p>An implicit conversion is followed by an attempt of an implicit constant conversion. Implicit conversions are described by the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Relationship</th><th>Description</th></tr></thead><tbody>
<tr><td>From <code>*</code></td><td>Converts to type from the <code>*</code> type by using an explicit conversion or a conversion failure if the conversion fails at runtime.</td></tr>
<tr><td>To <code>*</code></td><td>Converts to the <code>*</code> type.</td></tr>
<tr><td><code>N1</code> to <code>N2</code>, <code>N1?</code> to <code>N2?</code> or <code>N1</code> to <code>N2?</code></td><td>Results into a number value with the same numeric value, where <code>N2</code> is a number type whose range is wider than that of <code>N1</code>.</td></tr>
<tr><td>From non-nullable to covariant type</td><td>Results into a reference of a covariant type.</td></tr>
<tr><td>From nullable to nullable covariant type</td><td>Results into a reference of a nullable covariant type.</td></tr>
<tr><td>From <code>ìnterface</code> to <code>Object</code></td><td>Results into an <code>Object</code> reference.</td></tr>
<tr><td>From nullable <code>ìnterface</code> to nullable <code>Object</code></td><td>Results into a nullable <code>Object</code> reference.</td></tr>
<tr><td>From <code>T</code> to <code>C?</code></td><td>Implicit conversion from <code>T</code> to <code>C</code> resulting into a nullable <code>C</code>.</td></tr>
</tbody></table>
</div>
<h2 id="explicit-conversions"><a class="header" href="#explicit-conversions">Explicit conversions</a></h2>
<p>An explicit conversion is followed by an attempt of an implicit conversion. Explicit conversions are described by the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Relationship</th><th>Description</th></tr></thead><tbody>
<tr><td>To <code>T</code> through <code>proxy::to</code></td><td>Converts to type <code>T</code> by invoking a <code>to</code> proxy whose result type is <code>T</code> or a subtype of <code>T</code>.</td></tr>
<tr><td>From non-nullable to contravariant type</td><td>Results into a reference of a contravariant type or a conversion failure if destination is incompatible.</td></tr>
<tr><td>From nullable to non-nullable contravariant type</td><td>Results into a reference of a contravariant type or a conversion failure if destination is incompatible.</td></tr>
<tr><td><code>Array</code> to contravariant <code>Array</code></td><td>Constructs a new array filtering out covariant elements.</td></tr>
<tr><td><code>Array</code> to covariant <code>Array</code></td><td>Constructs a new array of a covariant type.</td></tr>
<tr><td><code>N1</code> to <code>N2</code>, <code>N1?</code> to <code>N2?</code> or <code>N1</code> to <code>N2?</code></td><td>Converts from a number type to another number type. The result is implementation-defined.</td></tr>
<tr><td>From <code>String</code> to <code>enum</code></td><td>Converts to <code>enum</code> by identifying a member by its string component. It is a failure if the member is not found.</td></tr>
<tr><td>From number to <code>enum</code></td><td>For a non set enumeration, converts to the <code>enum</code> by identifying a member by its number component. It is a failure if the member is not found. For a set enumeration, converts to the <code>enum</code> by filtering out unrecognized bits.</td></tr>
<tr><td>From <code>undefined</code> value to nullable type</td><td>Results into <code>null</code>.</td></tr>
<tr><td>From <code>String</code> to <code>Char</code></td><td>Results into a <code>Char</code> containing the first Unicode Scalar Value of a <code>String</code> or U+00 if empty.</td></tr>
<tr><td>From <code>Char</code> to <code>String</code></td><td>Results into a <code>String</code> containing a character.</td></tr>
<tr><td>From <code>Char</code> to <code>Number</code></td><td>Results into a number representing the Unicode value of a character.</td></tr>
<tr><td>From <code>Number</code> to <code>Char</code></td><td>It is failure if the number identifies an invalid Unicode Scalar Value, otherwise results into a character by its Unicode value.</td></tr>
<tr><td>From type parameter <code>T</code> to <code>W</code></td><td>Conversion equivalent to <code>W(v as *)</code> or <code>v as * as W</code> where <code>v: T</code>.</td></tr>
<tr><td>From <code>Map.&lt;*, *&gt;</code> to <code>C</code> where <code>C</code> is a class with <code>C</code>[[<em>AllowLiteral</em>]] = true</td><td>Constructs a <code>C</code> object. It is a conversion failure when a <code>C</code> instance variable is unrecognized or an explicit conversion to a variable's static type fails.</td></tr>
<tr><td>From <code>C</code> to <code>Map.&lt;*, *&gt;</code> where <code>C</code> is a class with <code>C</code>[[<em>AllowLiteral</em>]] = true</td><td>Constructs a <code>Map.&lt;*, *&gt;</code> from a <code>C</code> object consisting of the instance variables as <code>Map</code> entries.</td></tr>
<tr><td>From <code>null</code> to <code>T</code></td><td>Where <code>T</code> includes <code>null</code>, results into <code>null</code>.</td></tr>
<tr><td>From <code>T</code> to <code>C?</code></td><td>Explicit conversion from <code>T</code> to <code>C</code> resulting into a nullable <code>C</code>.</td></tr>
</tbody></table>
</div>
<p>The contravariant and covariant <code>Array</code> conversions do not take nullable types except for a conversion from <code>[*]</code> to <code>[W?]</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="visibility"><a class="header" href="#visibility">Visibility</a></h1>
<p>A visibility is either <code>public</code>, <code>private</code>, <code>protected</code> or <code>internal</code>:</p>
<div class="table-wrapper"><table><thead><tr><th>Visibility</th><th>Description</th></tr></thead><tbody>
<tr><td><code>public</code></td><td>The <code>public</code> visibility indicates that a property is accessible from anywhere.</td></tr>
<tr><td><code>private</code></td><td>The <code>private</code> visibility indicates that a property is accessible from within a class block.</td></tr>
<tr><td><code>protected</code></td><td>The <code>protected</code> visibility indicates that a property is accessible from the block of a class and any subclasses.</td></tr>
<tr><td><code>internal</code></td><td>The <code>internal</code> visibility indicates that a property is accessible from the enclosing package, excluding subpackages.</td></tr>
</tbody></table>
</div>
<ul>
<li>When a class static or instance property is not <code>public</code> and it is not an <code>internal</code> property belonging to a top-level class, it is not allowed for such property to be found at runtime.</li>
<li>When a class static or instance property is not <code>public</code> and it is not an <code>internal</code> property belonging to a top-level class, it is not contained in the runtime type description.</li>
</ul>
<pre><code>class C {
    var x
}
const o = new C
const k = "x"
o[k] = 10 // OK since C is a top-level class
</code></pre>
<h2 id="propertyisvisible"><a class="header" href="#propertyisvisible">PropertyIsVisible()</a></h2>
<p>The internal <em>PropertyIsVisible</em>(<em>prop</em>, <em>scope</em>) function takes the following steps:</p>
<ol>
<li>If <em>prop</em> is a value
<ol>
<li>If <em>prop</em> is a <em>StaticReferenceValue</em>(<em>base</em>, <em>prop1</em>)
<ol>
<li>Assign <em>prop</em> = <em>prop1</em></li>
</ol>
</li>
<li>Else if <em>prop</em> is an <em>InstanceReferenceValue</em>(<em>base</em>, <em>prop1</em>)
<ol>
<li>Assign <em>prop</em> = <em>prop1</em></li>
</ol>
</li>
<li>Else if <em>prop</em> is a <em>PackageReferenceValue</em>(<em>base</em>, <em>prop1</em>)
<ol>
<li>Assign <em>prop</em> = <em>prop1</em></li>
</ol>
</li>
<li>Else return true.</li>
</ol>
</li>
<li>Let <em>v</em> be <em>prop</em>[[<em>Visibility</em>]]</li>
<li>If <em>v</em> is <code>public</code>, return true.</li>
<li>If <em>v</em> is <code>internal</code>
<ol>
<li>Let <em>p</em> be undefined.</li>
<li>Let <em>p1</em> be <em>prop</em>[[<em>ParentDefinition</em>]]</li>
<li>While <em>p1</em> is defined
<ol>
<li>If <em>p1</em> is a <code>package</code>
<ol>
<li>Assign <em>p</em> = <em>p1</em></li>
<li>Exit loop</li>
</ol>
</li>
<li>Assign <em>p1</em> = <em>p1</em>[[<em>ParentDefinition</em>]]</li>
</ol>
</li>
<li>If <em>p</em> is undefined
<ol>
<li>Return true.</li>
</ol>
</li>
<li>While <em>scope</em> is defined
<ol>
<li>If <em>scope</em> is a <code>package</code> scope and <em>scope</em>[[<em>Package</em>]] equals <em>p</em>
<ol>
<li>Return true.</li>
</ol>
</li>
<li>Assign <em>scope</em> = <em>scope</em>[[<em>ParentScope</em>]]</li>
</ol>
</li>
<li>Return false.</li>
</ol>
</li>
<li>If <em>v</em> is <code>private</code>
<ol>
<li>Let <em>t</em> be undefined.</li>
<li>Let <em>p</em> be <em>prop</em>[[<em>ParentDefinition</em>]]</li>
<li>While <em>p</em> is defined
<ol>
<li>If <em>p</em> is a <code>class</code> or <code>enum</code>
<ol>
<li>Assign <em>t</em> = <em>p</em></li>
<li>Exit loop</li>
</ol>
</li>
<li>Assign <em>p</em> = <em>p</em>[[<em>ParentDefinition</em>]]</li>
</ol>
</li>
<li>If <em>t</em> is undefined
<ol>
<li>Return false</li>
</ol>
</li>
<li>While <em>scope</em> is defined
<ol>
<li>If <em>scope</em> is a <code>class</code> scope or <code>enum</code> scope and <em>scope</em>[[<em>Class</em>]] equals <em>t</em>
<ol>
<li>Return true.</li>
</ol>
</li>
<li>Assign <em>scope</em> = <em>scope</em>[[<em>ParentScope</em>]]</li>
</ol>
</li>
<li>Return false.</li>
</ol>
</li>
<li>If <em>v</em> is <code>protected</code>
<ol>
<li>Let <em>t</em> be undefined.</li>
<li>Let <em>p</em> be <em>prop</em>[[<em>ParentDefinition</em>]]</li>
<li>While <em>p</em> is defined
<ol>
<li>If <em>p</em> is a <code>class</code> or <code>enum</code>
<ol>
<li>Assign <em>t</em> = <em>p</em></li>
<li>Exit loop</li>
</ol>
</li>
<li>Assign <em>p</em> = <em>p</em>[[<em>ParentDefinition</em>]]</li>
</ol>
</li>
<li>If <em>t</em> is undefined
<ol>
<li>Return false</li>
</ol>
</li>
<li>While <em>scope</em> is defined
<ol>
<li>If <em>scope</em> is a <code>class</code> scope or <code>enum</code> scope
<ol>
<li>Let <em>scopeClass</em> be <em>scope</em>[[<em>Class</em>]]</li>
<li>If <em>scopeClass</em> equals <em>t</em> or <em>scopeClass</em> is a subtype of <em>t</em>
<ol>
<li>Return true.</li>
</ol>
</li>
</ol>
</li>
<li>Assign <em>scope</em> = <em>scope</em>[[<em>ParentScope</em>]]</li>
</ol>
</li>
<li>Return false.</li>
</ol>
</li>
<li>Return false.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="packages"><a class="header" href="#packages">Packages</a></h1>
<p>Packages as denoted by the <code>package</code> keyword are used to organize properties and classes. For an user to refer to a package's property it must be imported beforehand through an <code>import</code> directive.</p>
<pre><code>// Top-level package
package { public const j = Infinity }

// "x.y" package
package x.y { public const w = 10 }

// Infinity
trace(j)

// 10
import x.y.*
trace(w)
trace(x.y.w)
</code></pre>
<p>The fully qualified name of an imported package's property shadows any variable name in scope as described in the <a href="fully-qualified-names.html">Fully qualified names</a> section.</p>
<pre><code>package x.y { public const w = 10 }
class X { const y = new XY }
class XY { const w = Infinity }

import x.y.*

const x = new X

// [object X]
trace(x)

// 10 (not Infinity)
trace(x.y.w)
</code></pre>
<p>Packages consist of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Name</em>]]</td><td>The unqualified name of the package.</td></tr>
<tr><td>[[<em>ParentDefinition</em>]]</td><td>Optional parent package.</td></tr>
<tr><td>[[<em>Properties</em>]]</td><td>Properties of the package as a dictionary from string to symbol.</td></tr>
<tr><td>[[<em>RedirectPackages</em>]]</td><td>The redirect packages of the package.</td></tr>
<tr><td>[[<em>Subpackages</em>]]</td><td>The subpackages of the package.</td></tr>
</tbody></table>
</div>
<h2 id="top-level-package"><a class="header" href="#top-level-package">Top-level package</a></h2>
<p>The top-level package is an unnamed package from which subsequent packages are defined.</p>
<pre><code>// Top-level package definition
package {}
</code></pre>
<h2 id="redirect-packages"><a class="header" href="#redirect-packages">Redirect packages</a></h2>
<p>Directives of the form <code>public use q.*;</code> contribute a redirect package to a package. Redirect packages are used in name resolution to resolve to names from another package.</p>
<pre><code>package org.alias.core {
    public use org.origin.core.*;
}
</code></pre>
<h2 id="subpackages"><a class="header" href="#subpackages">Subpackages</a></h2>
<p>A package may have zero or more subpackages. The top-level package contains the topmost packages as subpackages.</p>
<pre><code>// Subpackage of top-level package
package q1 {}
// Subpackage of "q1"
package q1.q2 {}
// Subpackage of "q1.q2"
package q1.q2.qN {}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="package-sets"><a class="header" href="#package-sets">Package sets</a></h1>
<p>Package sets allow to resolve a property from a set of packages. Package sets are common in XML based frameworks built over the Jet Compiler codebase.</p>
<p>Package sets consist of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Name</em>]]</td><td>The unqualified name of the package set.</td></tr>
<tr><td>[[<em>Visibility</em>]]</td><td>The <a href="visibility.html">visibility</a> of the package set.</td></tr>
<tr><td>[[<em>ParentDefinition</em>]]</td><td>Parent definition of the package set.</td></tr>
<tr><td>[[<em>Packages</em>]]</td><td>The packages within the set.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="variables"><a class="header" href="#variables">Variables</a></h1>
<p>A variable is a fixed slot storing a value.</p>
<pre><code>var x: Number;
const y: Number;
</code></pre>
<p>A variable consists of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Name</em>]]</td><td>The unqualified name of the variable.</td></tr>
<tr><td>[[<em>Type</em>]]</td><td>The type of the variable.</td></tr>
<tr><td>[[<em>Visibility</em>]]</td><td>The <a href="visibility.html">visibility</a> of the variable.</td></tr>
<tr><td>[[<em>ParentDefinition</em>]]</td><td>The parent definition of the variable.</td></tr>
<tr><td>[[<em>ReadOnly</em>]]</td><td>Indicates whether the variable is read-only or not.</td></tr>
<tr><td>[[<em>ConstantInitializer</em>]]</td><td>Constant initializer of the variable as a constant value.</td></tr>
<tr><td>[[<em>PlainMetadata</em>]]</td><td>Plain meta-data attached to the variable.</td></tr>
</tbody></table>
</div>
<h2 id="read-only-variables"><a class="header" href="#read-only-variables">Read-only variables</a></h2>
<p>A variable may be read-only by using the <code>const</code> keyword instead of the <code>var</code> keyword when defining it.</p>
<p>Read-only variables are referred to as <em>constants</em>.</p>
<h2 id="initializer"><a class="header" href="#initializer">Initializer</a></h2>
<p>Variables are lazily initialized with the exception of variables whose static type has a <em>default</em> value, such as a <a href="types.html#primitive-types">primitive type</a> or a nullable type.</p>
<ul>
<li>It is a <code>ReferenceError</code> if the value of a variable is accessed before initialized and the static type of that variable includes no default value.</li>
</ul>
<pre><code>class C {
    const x: Number
    const y: RegExp
    function C() {
        x // 0
        y // ReferenceError
    }
}
</code></pre>
<ul>
<li>It is a <code>VerifyError</code> if a constant is assigned more than once.</li>
<li>A non-instance constant must contain an initializer.</li>
<li>A non-instance constant must not be assigned by an assignment expression.</li>
<li>An instance constant may be assigned in the constructor body.</li>
<li>An instance constant may not be assigned outside the constructor body.</li>
</ul>
<pre><code>const x // VerifyError

const x = 10
x++ // VerifyError

class C {
    const x
    function C(x) {
        this.x = x
    }
    function f() {
        x = 10 // VerifyError
    }
}
</code></pre>
<p><em>Constant initializer</em>: A variable may consist of a constant initializer. A constant initializer consists of a constant expression.</p>
<pre><code>var x = 0
</code></pre>
<h2 id="meta-data"><a class="header" href="#meta-data">Meta data</a></h2>
<p>A variable may contain zero or more plain meta-data.</p>
<pre><code>[N1(n2)]
const x: T;
</code></pre>
<h2 id="optional-variables"><a class="header" href="#optional-variables">Optional variables</a></h2>
<p>Optional variables do not need to be specified when using an object initializer.</p>
<pre><code>[Literal]
public class C {
    public const x: Number?;
}
const o: C = {};
</code></pre>
<p>A variable is <em>optional</em> when the variable's static type contains <code>null</code> or when the variable's static type contains <code>undefined</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="virtual-properties"><a class="header" href="#virtual-properties">Virtual properties</a></h1>
<p>A virtual property is an accessor that may be used as a variable.</p>
<ul>
<li>A virtual property is read-only if it has only a getter.</li>
<li>A virtual property is write-only if it has only a setter.</li>
<li>Getter and setter are functions that belong to the virtual property.</li>
</ul>
<pre><code>function get x(): T (v);
function set x(v: T): void {}
</code></pre>
<p>Virtual properties consist of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Name</em>]]</td><td>The unqualified name of the virtual property.</td></tr>
<tr><td>[[<em>Type</em>]]</td><td>The type of the virtual property, inferred from the getter or setter.</td></tr>
<tr><td>[[<em>Visibility</em>]]</td><td>The <a href="visibility.html">visibility</a> of the virtual property.</td></tr>
<tr><td>[[<em>ParentDefinition</em>]]</td><td>The parent definition of the virtual property.</td></tr>
<tr><td>[[<em>ReadOnly</em>]]</td><td>Indicates whether the virtual property is read-only or not.</td></tr>
<tr><td>[[<em>WriteOnly</em>]]</td><td>Indicates whether the virtual property is write-only or not.</td></tr>
<tr><td>[[<em>Getter</em>]]</td><td>Indicates the getter function of the virtual property.</td></tr>
<tr><td>[[<em>Setter</em>]]</td><td>Indicates the setter function of the virtual property.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="functions"><a class="header" href="#functions">Functions</a></h1>
<p>A function represents an invokable symbol that takes parameters and returns a value.</p>
<p>Functions consist of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Name</em>]]</td><td>The unqualified name of the function.</td></tr>
<tr><td>[[<em>Signature</em>]]</td><td>A static function type describing the function signature.</td></tr>
<tr><td>[[<em>Visibility</em>]]</td><td>The <a href="visibility.html">visibility</a> of the function.</td></tr>
<tr><td>[[<em>ParentDefinition</em>]]</td><td>The parent definition of the function.</td></tr>
<tr><td>[[<em>TypeParameters</em>]]</td><td>The type parameter sequence of the function if it is type parameterized.</td></tr>
<tr><td>[[<em>IsGenerator</em>]]</td><td>Indicates whether the function is a generator.</td></tr>
<tr><td>[[<em>IsAsync</em>]]</td><td>Indicates whether the function is asynchronous.</td></tr>
<tr><td>[[<em>IsNative</em>]]</td><td>Indicates whether the function is native.</td></tr>
<tr><td>[[<em>IsOptionalInterfaceMethod</em>]]</td><td>Indicates whether the function is an optional interface method.</td></tr>
<tr><td>[[<em>IsOverriding</em>]]</td><td>Indicates whether the function is overriding another function.</td></tr>
<tr><td>[[<em>IsFinal</em>]]</td><td>Indicates whether a method is final.</td></tr>
<tr><td>[[<em>IsAbstract</em>]]</td><td>Indicates whether a method is abstract.</td></tr>
<tr><td>[[<em>IsConstructor</em>]]</td><td>Indicates whether a function is a constructor.</td></tr>
<tr><td>[[<em>OfVirtualProperty</em>]]</td><td>Indicates the virtual property to which a getter or setter belongs.</td></tr>
<tr><td>[[<em>Activation</em>]]</td><td>The activation scope of the function.</td></tr>
<tr><td>[[<em>PlainMetadata</em>]]</td><td>Plain meta-data attached to the function.</td></tr>
</tbody></table>
</div>
<h2 id="type-parameters"><a class="header" href="#type-parameters">Type parameters</a></h2>
<p>A function may be <a href="type-parameters.html">type parameterized</a>:</p>
<pre><code>function f.&lt;T&gt;(): void {}
</code></pre>
<h2 id="generators"><a class="header" href="#generators">Generators</a></h2>
<p>A function is a generator if it contains the <code>yield</code> operator.</p>
<ul>
<li>Non asynchronous generators return <code>Generator.&lt;T&gt;</code>.</li>
<li>Asynchronous generators return <code>Generator.&lt;Promise.&lt;T&gt;&gt;</code>.</li>
</ul>
<pre><code>function f(): Number {
    for (var i = 0; i &lt; 10; ++i) yield i
}
</code></pre>
<h2 id="asynchronous-functions"><a class="header" href="#asynchronous-functions">Asynchronous functions</a></h2>
<p>A function is asynchronous if it contains the <code>await</code> operator.</p>
<ul>
<li>Non generator asynchronous functions return <code>Promise.&lt;T&gt;</code>.</li>
<li>Asynchronous generators return <code>Generator.&lt;Promise.&lt;T&gt;&gt;</code>.</li>
</ul>
<pre><code>function f(): void {
    await f1()
}
</code></pre>
<h2 id="native-functions"><a class="header" href="#native-functions">Native functions</a></h2>
<p>A function is native if it contains the <code>native</code> attribute.</p>
<pre><code>native function f(): void;
</code></pre>
<h2 id="meta-data-1"><a class="header" href="#meta-data-1">Meta data</a></h2>
<p>A function may contain zero or more plain meta-data.</p>
<pre><code>[N1(n2)]
function f1(): void {}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="instance-methods"><a class="header" href="#instance-methods">Instance methods</a></h1>
<p>An instance method is a non static function directly enclosed by a <code>class</code>, <code>enum</code> or <code>interface</code> block.</p>
<pre><code>class C {
    function f() {}
}
</code></pre>
<p>Instance methods are <em>bound</em> methods and produce the same <code>Function</code> object from an instance.</p>
<pre><code>class C {
    function f() {}
}

const o = new C
trace(o.f == o.f)
</code></pre>
<h2 id="abstract-methods"><a class="header" href="#abstract-methods">Abstract methods</a></h2>
<p>An abstract method contains the <code>abstract</code> attribute.</p>
<ul>
<li>Abstract methods must not contain a body.</li>
<li>Abstract methods must be overriden by subclasses of the enclosing class.</li>
</ul>
<h2 id="final-methods"><a class="header" href="#final-methods">Final methods</a></h2>
<p>A final method contains the <code>final</code> attribute.</p>
<ul>
<li>Final methods must not be overriden by subclasses of the enclosing class.</li>
</ul>
<h2 id="overriding"><a class="header" href="#overriding">Overriding</a></h2>
<p>An overriding method contains the <code>override</code> attribute.</p>
<pre><code>class C1 {
    function f(): void {}
}
class C2 extends C1 {
    override function f(): void {}
}
</code></pre>
<p>A method must not be overriden if it is type parameterized or if the overriding method is type parameterized.</p>
<pre><code>class C1 {
    function f.&lt;T&gt;(): void {}
}
class C2 extends C1 {
    override function f(): void {} // VerifyError
}

class C3 {
    function f(): void {}
}
class C4 extends C3 {
    override function f.&lt;T&gt;(): void {} // VerifyError
}
</code></pre>
<h3 id="overriding-signature"><a class="header" href="#overriding-signature">Overriding signature</a></h3>
<p>It is a verify error if the overriding signature is not compatible with the base class's method signature.</p>
<ul>
<li>The overriding signature is compatible with the base type's signature if either:
<ul>
<li>it is equals the base type's signature, or</li>
<li>it introduces optional parameters and/or a rest parameter to the base type's signature and either the result type is equals to that of the base type's signature or the result type is a subtype of that of the base type's signature.</li>
</ul>
</li>
</ul>
<pre><code>class C1 {
    function f(): * (undefined);
}
class C2 extends C1 {
    override function f(a: Number = 10): Number (a ** 2);
}
</code></pre>
<h3 id="overriding-symbol"><a class="header" href="#overriding-symbol">Overriding symbol</a></h3>
<p>It is allowed for an overriding method to override:</p>
<ul>
<li>A regular method</li>
<li>A getter</li>
<li>A setter</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interface-methods"><a class="header" href="#interface-methods">Interface methods</a></h1>
<p>An interface method is an instance method belonging to an interface.</p>
<pre><code>interface I {
    function f(): void
}
</code></pre>
<h2 id="implementation"><a class="header" href="#implementation">Implementation</a></h2>
<p>Implementors of an interface must implement non optional interface methods. The method visibility must match <code>public</code> if the implementor is at a <code>package</code>, otherwise the visibility must match <code>internal</code>.</p>
<pre><code>interface I {
    function f() {}
}
class C implements I {
    function f() {}
}
</code></pre>
<h2 id="optional-interface-method"><a class="header" href="#optional-interface-method">Optional interface method</a></h2>
<p>A function that is an interface method may be optional by specifying its body.</p>
<pre><code>interface I {
    function f() {}
}
</code></pre>
<h2 id="interface-method-forms"><a class="header" href="#interface-method-forms">Interface method forms</a></h2>
<p>An interface method is allowed to be:</p>
<ul>
<li>A regular method</li>
<li>A getter</li>
<li>A setter</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getters-and-setters"><a class="header" href="#getters-and-setters">Getters and setters</a></h1>
<p>A function that belongs to a virtual property is either a getter or setter.</p>
<pre><code>function get x(): T (v);
function set x(v: T): void {}
</code></pre>
<p><strong>Semantics</strong></p>
<ul>
<li>Getters and setters must not be type parameterized.</li>
<li>Getters and setters must not be asynchronous.</li>
<li>Getters and setters must not be generators.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constructors"><a class="header" href="#constructors">Constructors</a></h1>
<p>A constructor is a function whose name matches the enclosing class's name.</p>
<pre><code>class C {
    function C() {}
}
</code></pre>
<p><strong>Semantics</strong></p>
<ul>
<li>A constructor must not be type parameterized.</li>
<li>A constructor must not be asynchronous.</li>
<li>A constructor must not be a generator.</li>
<li>It is a verify error if the constructor has no <code>super();</code> statement and the constructor of the parent class has a non-empty parameter list.</li>
<li>A constructor is allowed to perform assignments to constant instance variables.</li>
<li>A constructor is allowed to contain a single <code>super();</code> statement.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proxies"><a class="header" href="#proxies">Proxies</a></h1>
<p>A proxy is a function containing the <code>proxy</code> attribute, enclosed by a <code>class</code> or <code>enum</code> block. The name of a proxy must be one of the several proxy names listed in this section.</p>
<ul>
<li><a href="functions/proxies.html#positive"><code>positive</code></a></li>
<li><a href="functions/proxies.html#negate"><code>negate</code></a></li>
<li><a href="functions/proxies.html#bitwisenot"><code>bitwiseNot</code></a></li>
<li><a href="functions/proxies.html#add"><code>add</code></a></li>
<li><a href="functions/proxies.html#subtract"><code>subtract</code></a></li>
<li><a href="functions/proxies.html#multiply"><code>multiply</code></a></li>
<li><a href="functions/proxies.html#divide"><code>divide</code></a></li>
<li><a href="functions/proxies.html#remainder"><code>remainder</code></a></li>
<li><a href="functions/proxies.html#power"><code>power</code></a></li>
<li><a href="functions/proxies.html#bitwiseand"><code>bitwiseAnd</code></a></li>
<li><a href="functions/proxies.html#bitwisexor"><code>bitwiseXor</code></a></li>
<li><a href="functions/proxies.html#bitwiseor"><code>bitwiseOr</code></a></li>
<li><a href="functions/proxies.html#shiftleft"><code>shiftLeft</code></a></li>
<li><a href="functions/proxies.html#shiftright"><code>shiftRight</code></a></li>
<li><a href="functions/proxies.html#shiftrightunsigned"><code>shiftRightUnsigned</code></a></li>
<li><a href="functions/proxies.html#to"><code>to</code></a></li>
<li><a href="functions/proxies.html#getproperty"><code>getProperty</code></a></li>
<li><a href="functions/proxies.html#setproperty"><code>setProperty</code></a></li>
<li><a href="functions/proxies.html#deleteproperty"><code>deleteProperty</code></a></li>
<li><a href="functions/proxies.html#has"><code>has</code></a></li>
<li><a href="functions/proxies.html#keys"><code>keys</code></a></li>
<li><a href="functions/proxies.html#values"><code>values</code></a></li>
</ul>
<h2 id="positive"><a class="header" href="#positive">positive</a></h2>
<pre><code>class C {
    proxy function positive(): T {}
}
</code></pre>
<h2 id="negate"><a class="header" href="#negate">negate</a></h2>
<pre><code>class C {
    proxy function negate(): T {}
}
</code></pre>
<h2 id="bitwisenot"><a class="header" href="#bitwisenot">bitwiseNot</a></h2>
<pre><code>class C {
    proxy function bitwiseNot(): T {}
}
</code></pre>
<h2 id="add"><a class="header" href="#add">add</a></h2>
<pre><code>class C {
    proxy function add(right: C): T {}
}
</code></pre>
<h2 id="subtract"><a class="header" href="#subtract">subtract</a></h2>
<pre><code>class C {
    proxy function subtract(right: C): T {}
}
</code></pre>
<h2 id="multiply"><a class="header" href="#multiply">multiply</a></h2>
<pre><code>class C {
    proxy function multiply(right: C): T {}
}
</code></pre>
<h2 id="divide"><a class="header" href="#divide">divide</a></h2>
<pre><code>class C {
    proxy function divide(right: C): T {}
}
</code></pre>
<h2 id="remainder"><a class="header" href="#remainder">remainder</a></h2>
<pre><code>class C {
    proxy function remainder(right: C): T {}
}
</code></pre>
<h2 id="power"><a class="header" href="#power">power</a></h2>
<pre><code>class C {
    proxy function power(right: C): T {}
}
</code></pre>
<h2 id="bitwiseand"><a class="header" href="#bitwiseand">bitwiseAnd</a></h2>
<pre><code>class C {
    proxy function bitwiseAnd(right: C): T {}
}
</code></pre>
<h2 id="bitwisexor"><a class="header" href="#bitwisexor">bitwiseXor</a></h2>
<pre><code>class C {
    proxy function bitwiseXor(right: C): T {}
}
</code></pre>
<h2 id="bitwiseor"><a class="header" href="#bitwiseor">bitwiseOr</a></h2>
<pre><code>class C {
    proxy function bitwiseOr(right: C): T {}
}
</code></pre>
<h2 id="shiftleft"><a class="header" href="#shiftleft">shiftLeft</a></h2>
<pre><code>class C {
    proxy function shiftLeft(right: C): T {}
}
</code></pre>
<h2 id="shiftright"><a class="header" href="#shiftright">shiftRight</a></h2>
<pre><code>class C {
    proxy function shiftRight(right: C): T {}
}
</code></pre>
<h2 id="shiftrightunsigned"><a class="header" href="#shiftrightunsigned">shiftRightUnsigned</a></h2>
<pre><code>class C {
    proxy function shiftRightUnsigned(right: C): T {}
}
</code></pre>
<h2 id="to"><a class="header" href="#to">to</a></h2>
<ul>
<li>The <code>to</code> proxy adds explicit conversion from the enclosing class to the type it returns.</li>
<li>The <code>to</code> proxy may be defined multiple times.</li>
<li>The <code>to</code> proxy indicates conversion failure by throwing a <code>TypeError</code> error.</li>
</ul>
<pre><code>class C {
    proxy function to(): T {}
}
</code></pre>
<h2 id="getproperty"><a class="header" href="#getproperty">getProperty</a></h2>
<pre><code>class C {
    proxy function getProperty(k: K): T {}
}
</code></pre>
<h2 id="setproperty"><a class="header" href="#setproperty">setProperty</a></h2>
<pre><code>class C {
    proxy function setProperty(k: K, v: V): void {}
}
</code></pre>
<h2 id="deleteproperty"><a class="header" href="#deleteproperty">deleteProperty</a></h2>
<pre><code>class C {
    proxy function deleteProperty(k: K): Boolean {}
}
</code></pre>
<h2 id="has"><a class="header" href="#has">has</a></h2>
<p>The <code>has</code> proxy is used for the <code>in</code> operator.</p>
<pre><code>class C {
    proxy function has(v: T): Boolean {}
}
</code></pre>
<h2 id="keys"><a class="header" href="#keys">keys</a></h2>
<p>The <code>keys</code> proxy is used for the <code>for..in</code> statement.</p>
<pre><code>class C {
    proxy function keys(): Iterator.&lt;K&gt; {}
}
</code></pre>
<h2 id="values"><a class="header" href="#values">values</a></h2>
<p>The <code>values</code> proxy is used for the <code>for each</code> statement.</p>
<pre><code>class C {
    proxy function values(): Iterator.&lt;V&gt; {}
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="type-parameters-1"><a class="header" href="#type-parameters-1">Type parameters</a></h1>
<p>The language supports type parameterized types and functions.</p>
<pre><code>class C.&lt;T&gt; {}
function f.&lt;T&gt;(): void {}
</code></pre>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>TypeParameters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>. &lt;</b> <i>TypeParameterList</i> <b>&gt;</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TypeParameterList</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeParameter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeParameterList</i> <b>,</b> <i>TypeParameter</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TypeParameter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i></td>
    </tr>
</table>
<h2 id="polymorphism"><a class="header" href="#polymorphism">Polymorphism</a></h2>
<p>The language uses polymorphism for type parameterized types and functions, but certain implementations are allowed to not use polymorphism for the <code>Array</code> class applied with a <a href="types.html#primitive-types">primitive type</a> such as a number type. With polymorphism, type parameters are substituted in runtime by the <code>*</code> type in most implementations and additional compile-time type checking occurs when using the type parameterized type or function.</p>
<h2 id="constraints"><a class="header" href="#constraints">Constraints</a></h2>
<p>The language does not support constraints on type parameters in the present, such as those present in the Java language.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="meta-data-2"><a class="header" href="#meta-data-2">Meta-data</a></h1>
<p>The language supports directive attributes using brackets notation called <em>meta-data</em>. The language recognizes <em>reserved</em> meta-data and <em>plain</em> meta-data.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reserved-meta-data"><a class="header" href="#reserved-meta-data">Reserved meta-data</a></h1>
<p>Reserved meta-data are meta-data that cannot be overriden by plain meta-data. This section enumerates all reserved meta-data.</p>
<ul>
<li><a href="metadata/reserved-metadata.html#literal"><code>[Literal]</code></a></li>
<li><a href="metadata/reserved-metadata.html#set"><code>[Set]</code></a></li>
</ul>
<h2 id="literal"><a class="header" href="#literal">Literal</a></h2>
<p>The <code>Literal</code> meta-data is reserved at the <code>class</code> definition. It is used for indicating that the class can be initialized through an object initializer.</p>
<h2 id="set"><a class="header" href="#set">Set</a></h2>
<p>The <code>Set</code> meta-data is reserved at the <code>enum</code> definition. It is used for indicating that the <code>enum</code> is a set enumeration.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plain-meta-data"><a class="header" href="#plain-meta-data">Plain meta-data</a></h1>
<p>Plain meta-data are uninterpreted meta-data attached to a definition.</p>
<p>Plain meta-data consists of a <code>Name()</code> or <code>Name</code> form that consists of zero or more entries. The following are the possible entry forms:</p>
<ul>
<li><code>key = "value"</code> — String entry</li>
<li><code>key = boolean</code> — Boolean entry</li>
<li><code>key = number</code> — Number entry</li>
<li><code>key = File("path/to/file")</code> — File entry</li>
<li><code>key = List(...)</code> — Entry consisting of a list of subsequent key-value entries</li>
<li><code>value</code> — Keyless string entry, equivalent to <code>"value"</code></li>
<li><code>"value"</code> — Keyless string entry, equivalent to <code>value</code></li>
<li><code>boolean</code> — Keyless boolean entry</li>
<li><code>number</code> — Keyless number entry</li>
<li><code>File("path/to/file")</code> — Keyless file entry</li>
<li><code>List(...)</code> — Keyless entry consisting of a list of subsequent key-value entries</li>
</ul>
<p>Additional syntax and characteristics:</p>
<ul>
<li>The identifiers used in the meta-data form and the entries are allowed to use a <code>::</code> separator, as in <code>q::N</code>.</li>
<li><code>boolean</code> is a <em>BooleanLiteral</em>.</li>
<li><code>number</code> is a <em>NumericLiteral</em> optionally preceded by a minus token <strong>-</strong> and corresponds to a double-precision floating point.</li>
</ul>
<pre><code>[N1(x = "y", z, "w", File("myExtension.dll"))]
[N2]
[N3(x = List(x = "v", y = "v"), y = "v")]
class C {}
</code></pre>
<p>The entry keys are not unique and may appear more than once.</p>
<h2 id="file"><a class="header" href="#file">File</a></h2>
<p>The <code>File</code> value of a file entry may be in one of the following production forms:</p>
<ul>
<li><strong>File</strong> <strong>(</strong> <em>StringLiteral</em> <strong>)</strong> production resolves to a file path (value of the <em>StringLiteral</em>) relative to the file path of the program.</li>
<li><strong>File</strong> <strong>(</strong> <strong>output</strong> <strong>+</strong> <em>StringLiteral</em> <strong>)</strong> production resolves to a file path (value of the <em>StringLiteral</em>) relative to the JetPM output directory.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="aliases"><a class="header" href="#aliases">Aliases</a></h1>
<p>An alias is a symbol that translates to another symbol. Aliases are a result from <code>type</code> definitions and alias <code>import</code> directives.</p>
<pre><code>type Double = Number;
import N2 = p.N1;
// Package alias
import p2 = p.*;
</code></pre>
<p>Aliases consist of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Name</em>]]</td><td>The unqualified name of the alias.</td></tr>
<tr><td>[[<em>Visibility</em>]]</td><td>The <a href="visibility.html">visibility</a> of the alias.</td></tr>
<tr><td>[[<em>AliasOf</em>]]</td><td>The symbol to which this alias translates.</td></tr>
<tr><td>[[<em>ParentDefinition</em>]]</td><td>The parent definition of the alias.</td></tr>
<tr><td>[[<em>PlainMetadata</em>]]</td><td>Plain meta-data attached to the class.</td></tr>
</tbody></table>
</div>
<h2 id="meta-data-3"><a class="header" href="#meta-data-3">Meta data</a></h2>
<p>An alias may contain zero or more plain meta-data:</p>
<pre><code>[N1(n2)]
type T2 = T1;
</code></pre>
<h2 id="resolvealias"><a class="header" href="#resolvealias">ResolveAlias()</a></h2>
<p>The internal <em>ResolveAlias</em>(<em>type</em>) function takes the following steps:</p>
<ol>
<li>If <em>type</em> is an alias, return <em>ResolveAlias</em>(<em>type</em>[[<em>AliasOf</em>]]).</li>
<li>Return <em>type</em>.</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="enumerations"><a class="header" href="#enumerations">Enumerations</a></h1>
<p>The language supports user enumeration types based on (<em>string</em>, <em>number</em>) groups. Enumerations are defined using the <code>enum</code> keyword.</p>
<p>An enumeration is a final class that inherits the <code>Object</code> type.</p>
<pre><code>enum FoodType {
    const LIQUID
    const SOLID
}
const type1: FoodType = "liquid"
const type2: FoodType = "solid"
</code></pre>
<p>The language additionally features set enumerations.</p>
<pre><code>[Set]
enum Toggles {
    const OBJECTS_LAYER
    const FLOORS_LAYER
}
const toggles: Toggles = ["objectsLayer", "floorsLayer"]
trace("objectsLayer" in toggles)
</code></pre>
<h2 id="enum-block"><a class="header" href="#enum-block">Enum block</a></h2>
<p>The <code>enum</code> block supports defining properties other than enumeration members, including instance methods, static methods, static properties and proxies.</p>
<p>The <code>enum</code> block does not support defining a constructor.</p>
<pre><code>enum E {
    const M1
    const M2
    function math(): Number (
        valueOf() * 16
    )
}
</code></pre>
<h2 id="members"><a class="header" href="#members">Members</a></h2>
<p>A single enumeration member consists of a (<em>string</em>, <em>number</em>) group. Members within the <code>enum</code> block are defined using non <code>static</code>, <code>const</code> definitions, without destructuring and without a type annotation. The <em>string</em> and <em>number</em> values are corresponding to a <code>String</code> and a number.</p>
<p>The value for <em>string</em> and <em>number</em> may be specified in different forms. If in any of the forms a component is omitted, the value is automatically assigned to that component. The values for the (<em>string</em>, <em>number</em>) group are given in the initializer of the <code>const</code> definition, as follows:</p>
<pre><code>const M;
const M = "string";
const M = number;
const M = ["string", number];
const M = [number, "string"];
</code></pre>
<p>In the presented forms, <code>number</code> must be a constant expression that is a number constant whose type is the representation type.</p>
<p>It is a verify error if any of the following conditions are true:</p>
<ul>
<li>The member name already exists.</li>
<li>The <em>string</em> already belongs to another member.</li>
<li>The <em>number</em> already belongs to another member.</li>
<li>If it is a <code>Set</code> enumeration and the <em>number</em> is not one or a power of two.</li>
</ul>
<h3 id="automatic-string"><a class="header" href="#automatic-string">Automatic string</a></h3>
<p>If the <em>string</em> component is omitted when defining a member, its value is a screaming snake case to camel case transformation of the member name, as illustrated in the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Member name</th><th>Member string</th></tr></thead><tbody>
<tr><td><code>M</code></td><td><code>"m"</code></td></tr>
<tr><td><code>SOME_MEMBER</code></td><td><code>"someMember"</code></td></tr>
<tr><td><code>SOME_BBQ</code></td><td><code>"someBbq"</code></td></tr>
</tbody></table>
</div>
<h3 id="automatic-number"><a class="header" href="#automatic-number">Automatic number</a></h3>
<p>If the <em>number</em> component is omitted when defining a member, its value is selected based on the previous member definition.</p>
<p>For non <code>Set</code> enumerations, the initial member number is zero (0) and the next member number is an increment of 1 of the previous member number:</p>
<pre><code>const M1 // = 0
const M2 // = 1
</code></pre>
<p>For <code>Set</code> enumerations, the initial member number is one (1) and the next member number is the double of the previous member number:</p>
<pre><code>const M1 // = 1
const M2 // = 2
const M4 // = 4
</code></pre>
<h2 id="representation-type"><a class="header" href="#representation-type">Representation type</a></h2>
<p>Enumerations consist of a representation number type. The representation number type may be specified by the <code>as</code> clause.</p>
<p>By default, an enumeration uses <code>Number</code> as the representation number type.</p>
<pre><code>enum ExampleEnum as Long {
    const EXAMPLE_MEMBER;
}
</code></pre>
<h2 id="set-enumerations"><a class="header" href="#set-enumerations">Set enumerations</a></h2>
<p>Set enumerations are defined with the <code>Set</code> meta-data. Set enumerations are immutable data types represented by zero or more members, using bitwise capabilities.</p>
<pre><code>[Set]
enum Toggles {
    const TOGGLE_1;
    const TOGGLE_2;
}
</code></pre>
<h2 id="enumeration-inference"><a class="header" href="#enumeration-inference">Enumeration inference</a></h2>
<p>Throughout Jet code, the user is allowed to use a string literal to identify an enumeration member by its <em>string</em> value wherever the enumeration is expected at compile-time.</p>
<pre><code>function peopleEat(foodType: FoodType): Boolean (
    foodType == "solid"
);
trace(peopleEat("solid"));
</code></pre>
<p>Set enumerations can additionally be initialized through an array or object initializer.</p>
<h2 id="conversion"><a class="header" href="#conversion">Conversion</a></h2>
<p>It is allowed to convert to an enumeration using the call operator. The conversion accepts a <code>String</code> or a number of the representation type. It is a <code>TypeError</code> if such conversions fail due to unrecognized <code>String</code> or number. For set enumerations, converting from a number always succeeds, as the members are identified by the corresponding bits and the unrecognized bits are ignored.</p>
<pre><code>E(v)
</code></pre>
<h2 id="native-methods"><a class="header" href="#native-methods">Native methods</a></h2>
<p>Enumerations automatically define the following methods, where <code>N</code> is the representation type:</p>
<pre><code>/**
 * The number value.
 */
public native function valueOf(): N;

/**
 * The string value(s). For a set enumeration, returns a comma-separated string list.
 */
override public native function toString(): String;
</code></pre>
<p>Set enumerations automatically define the following constants, where <code>E</code> is the enumeration:</p>
<pre><code>/**
 * A set containing all members.
 */
public static const all: E;
</code></pre>
<p>Set enumerations automatically define the following methods, where <code>E</code> is the enumeration:</p>
<pre><code>public function apply(other: E, value: Boolean): E (
    value ? this.include(other) : this.exclude(other)
);

public function include(other: E): E (
    E(this.valueOf() | other.valueOf())
);

public function exclude(other: E): E (
    E(other in this ? this.valueOf() ^ other.valueOf() : this.valueOf())
);

public function toggle(other: E): E (
    E(this.valueOf() ^ other.valueOf())
);

public function filter(other: E): E (
    E(this.valueOf() &amp; other.valueOf())
);

// memberSet in set
proxy function has(value: E): Boolean (
    this.valueOf() &amp; value.valueOf() != 0
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="classes"><a class="header" href="#classes">Classes</a></h1>
<p>A class as denoted by the <code>class</code> keyword represents an object type. A class is reflected as a <code>Class</code> object.</p>
<p>Classes consist of several internal properties, as described in the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Name</em>]]</td><td>The unqualified name of the class.</td></tr>
<tr><td>[[<em>Visibility</em>]]</td><td>The <a href="visibility.html">visibility</a> of the class.</td></tr>
<tr><td>[[<em>ParentDefinition</em>]]</td><td>The parent definition of the class.</td></tr>
<tr><td>[[<em>BaseClass</em>]]</td><td>The base class. It is undefined for the <code>Object</code> class.</td></tr>
<tr><td>[[<em>Implements</em>]]</td><td>Set of interfaces the class implements.</td></tr>
<tr><td>[[<em>IsFinal</em>]]</td><td>Indicates whether the class is final or not.</td></tr>
<tr><td>[[<em>IsStatic</em>]]</td><td>Indicates whether the class is static or not.</td></tr>
<tr><td>[[<em>IsAbstract</em>]]</td><td>Indicates whether the class is abstract or not.</td></tr>
<tr><td>[[<em>AllowLiteral</em>]]</td><td>Indicates whether the class may be initialized through an object initializer or not; that is, if it has the <code>[Literal]</code> meta-data.</td></tr>
<tr><td>[[<em>TypeParameters</em>]]</td><td>The type parameter sequence of the class.</td></tr>
<tr><td>[[<em>StaticProperties</em>]]</td><td>Static properties of the class.</td></tr>
<tr><td>[[<em>Constructor</em>]]</td><td>The constructor function of the class.</td></tr>
<tr><td>[[<em>Prototype</em>]]</td><td>Properties of the class prototype as a dictionary from string to symbol.</td></tr>
<tr><td>[[<em>Proxies</em>]]</td><td>Proxies defined by the class as a dictionary from string to function symbol.</td></tr>
<tr><td>[[<em>ListOfToProxies</em>]]</td><td><code>to</code> proxies defined by the class as function symbols.</td></tr>
<tr><td>[[<em>PlainMetadata</em>]]</td><td>Plain meta-data attached to the class.</td></tr>
</tbody></table>
</div>
<h2 id="inheritance"><a class="header" href="#inheritance">Inheritance</a></h2>
<p>Instance properties must not be duplicate in the class inheritance.</p>
<pre><code>class C1 {
    var x
}
class C2 extends C1 {
    var x // VerifyError
}
</code></pre>
<p>Overriding methods are allowed to be duplicate in the class inheritance.</p>
<pre><code>class C1 {
    function f() {}
    function get x() 10
}
class C2 extends C1 {
    override function f() {} // OK
    function get x() 10 // VerifyError (must override)
}
</code></pre>
<h2 id="base-class"><a class="header" href="#base-class">Base class</a></h2>
<p>By default, all classes, excluding <code>Object</code>, have <code>Object</code> as their base class.</p>
<p>It is a verify error if:</p>
<ul>
<li>a class attempts to extend itself;</li>
<li>a class attempts to extend a subclass of itself.</li>
</ul>
<h2 id="literal-classes"><a class="header" href="#literal-classes">Literal classes</a></h2>
<p>Classes containing the <code>[Literal]</code> meta-data have the following restrictions:</p>
<ul>
<li>They are implicitly marked final.</li>
<li>They must extend the <code>Object</code> class.</li>
</ul>
<pre><code>[Literal]
final class C {
    var x
}

const o: C = { x: 10 }
</code></pre>
<h2 id="meta-data-4"><a class="header" href="#meta-data-4">Meta data</a></h2>
<p>A class may contain zero or more plain meta-data:</p>
<pre><code>[N1(n2)]
class C {}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interfaces"><a class="header" href="#interfaces">Interfaces</a></h1>
<p>An interface as denoted by the <code>interface</code> keyword represents an abstract object type. An interface is reflected as a <code>Class</code> object.</p>
<p>Interfaces consist of a small number of internal properties, described in the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Name</em>]]</td><td>The unqualified name of the interface.</td></tr>
<tr><td>[[<em>Visibility</em>]]</td><td>The <a href="visibility.html">visibility</a> of the interface.</td></tr>
<tr><td>[[<em>ParentDefinition</em>]]</td><td>The parent definition of the interface.</td></tr>
<tr><td>[[<em>BaseInterfaces</em>]]</td><td>The base interfaces of the interface.</td></tr>
<tr><td>[[<em>TypeParameters</em>]]</td><td>The type parameter sequence of the interface.</td></tr>
<tr><td>[[<em>Prototype</em>]]</td><td>Properties of the interface prototype as a dictionary from string to symbol.</td></tr>
<tr><td>[[<em>PlainMetadata</em>]]</td><td>Plain meta-data attached to the interface.</td></tr>
</tbody></table>
</div>
<h2 id="inheritance-1"><a class="header" href="#inheritance-1">Inheritance</a></h2>
<p>Methods must not be a duplicate in the interface inheritance:</p>
<pre><code>interface I1 {
    function f() {}
}
interface I2 extends I1 {
    function f() {} // VerifyError
}
</code></pre>
<h2 id="base-interfaces"><a class="header" href="#base-interfaces">Base interfaces</a></h2>
<p>It is a verify error if:</p>
<ul>
<li>an interface attempts to extend itself;</li>
<li>an interface attempts to extend a subtype of itself.</li>
</ul>
<h2 id="meta-data-5"><a class="header" href="#meta-data-5">Meta data</a></h2>
<p>An interface may contain zero or more plain meta-data:</p>
<pre><code>[N1(n2)]
interface I {}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="property-resolution"><a class="header" href="#property-resolution">Property resolution</a></h1>
<h2 id="resolveproperty"><a class="header" href="#resolveproperty">ResolveProperty()</a></h2>
<p>The internal <em>ResolveProperty</em>(<em>base</em>, <em>qual</em>, <em>key</em>, <em>disambiguation</em> = <strong>default</strong>) function takes a <em>base</em> object, a <em>qual</em> qualifier value and a <em>key</em> value, and resolves to a reference value. <em>ResolveProperty</em> takes the following steps:</p>
<ol>
<li>If <em>base</em> is a value whose type is one of { <code>XML</code>, <code>XMLList</code> }, return <em>XMLReferenceValue</em>(<em>base</em>, <em>qual</em>, <em>key</em>, <em>disambiguation</em>).</li>
<li>If <em>base</em> is a scope, return <em>ResolveScopeProperty</em>(<em>base</em>, <em>qual</em>, <em>key</em>).</li>
<li>If <em>base</em> is a value whose type is <code>*</code> or if <em>key</em> is not a <code>String</code> or <code>Number</code> constant
<ol>
<li>Return <em>DynamicReferenceValue</em>(<em>base</em>, <em>qual</em>, <em>key</em>, <em>disambiguation</em>)</li>
</ol>
</li>
<li>Return undefined if <em>qual</em> is not undefined.</li>
<li>If <em>base</em> is a <code>class</code> or <code>enum</code>
<ol>
<li>Return undefined if <em>key</em> is not a <code>String</code> constant.</li>
<li>While <em>base</em> is not undefined
<ol>
<li>Let <em>r</em> be the symbol in <em>base</em>[[<em>StaticProperties</em>]] whose key is equals <em>key</em>.</li>
<li>Return <em>StaticReferenceValue</em>(<em>base</em>, <em>r</em>) if <em>r</em> is not undefined.</li>
<li>Assign <em>base</em> = <em>base</em>[[<em>BaseClass</em>]]</li>
</ol>
</li>
<li>Return undefined.</li>
</ol>
</li>
<li>If <em>base</em> is the <code>import.meta</code> value
<ol>
<li>Return undefined if <em>key</em> is not a <code>String</code> constant.</li>
<li>If <em>key</em> equals <code>env</code>, return the <code>import.meta.env</code> symbol.</li>
<li>If <em>key</em> equals <code>output</code>, return the <code>import.meta.output</code> special value.</li>
<li>Return undefined.</li>
</ol>
</li>
<li>If <em>base</em> is the <code>import.meta.env</code> value
<ol>
<li>Return undefined if <em>key</em> is not a <code>String</code> constant.</li>
<li>Let <em>evDict</em> be the result of loading environment variables.</li>
<li>Let <em>ev</em> be <em>evDict</em>[<em>key</em>]</li>
<li>If <em>ev</em> is not undefined, return a <code>String</code> constant consisting of the <em>ev</em> string.</li>
<li>Return undefined.</li>
</ol>
</li>
<li>If <em>base</em> is a value
<ol>
<li>Return undefined if the type of <em>base</em> is <code>void</code> or a nullable type.</li>
<li>If <em>key</em> is a <code>String</code> constant and <em>disambiguation</em> is one of { <strong>default</strong>, <strong>fixed</strong> }
<ol>
<li>For each descending <em>type</em> in the type hierarchy of <em>base</em>
<ol>
<li>For each (<em>propName</em>, <em>prop</em>) in <em>type</em>[[<em>Prototype</em>]]
<ol>
<li>If <em>propName</em> is equals <em>key</em>, return <em>InstanceReferenceValue</em>(<em>base</em>, <em>prop</em>).</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>If <em>disambiguation</em> is one of { <strong>default</strong>, <strong>dynamic</strong> }
<ol>
<li>For each descending <em>type</em> in the type hierarchy of <em>base</em>
<ol>
<li>Let <em>proxy</em> be <em>FindPropertyProxy</em>(<em>type</em>)</li>
<li>If <em>proxy</em> is not undefined
<ol>
<li>If the first parameter type of <em>proxy</em> is equals the type of <em>key</em> or if the type of <em>key</em> is a subtype of the first parameter type of <em>proxy</em>
<ol>
<li>Return <em>ProxyReferenceValue</em>(<em>base</em>, <em>proxy</em>)</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>If <em>key</em> is a <code>Number</code> constant value and <em>base</em> is of a tuple type
<ol>
<li>Let <em>key</em> be <em>ToUInt32</em>(<em>key</em>)</li>
<li>Assuming <em>key</em> to be a zero-based index, if the <em>key</em> index is not out of bounds of the element sequence of the tuple type of <em>base</em>
<ol>
<li>Return <em>TupleReferenceValue</em>(<em>base</em>, <em>key</em>).</li>
</ol>
</li>
</ol>
</li>
<li>Return undefined.</li>
</ol>
</li>
<li>If <em>base</em> is a <code>package</code>
<ol>
<li>Return undefined if <em>key</em> is not a <code>String</code> constant.</li>
<li>Let <em>r</em> be a symbol in <em>base</em>[[<em>Properties</em>]] whose key is equals <em>key</em>.</li>
<li>Return <em>WrapPropertyReference</em>(<em>ResolveAlias</em>(<em>r</em>)) if <em>r</em> is not undefined.</li>
<li>For each <em>p</em> in <em>base</em>[[<em>RedirectPackages</em>]]
<ol>
<li>Let <em>r</em> be <em>ResolveProperty</em>(<em>p</em>, undefined, <em>key</em>, <em>disambiguation</em>)</li>
<li>Return <em>r</em> if it is not undefined.</li>
</ol>
</li>
<li>Return undefined.</li>
</ol>
</li>
<li>If <em>base</em> is a package set
<ol>
<li>Return undefined if <em>key</em> is not a <code>String</code> constant.</li>
<li>For each <em>p</em> in <em>base</em>[[<em>Packages</em>]]
<ol>
<li>Let <em>r</em> be <em>ResolveProperty</em>(<em>p</em>, undefined, <em>key</em>, <em>disambiguation</em>)</li>
<li>Return <em>r</em> if it is not undefined.</li>
</ol>
</li>
<li>Return undefined.</li>
</ol>
</li>
<li>Return undefined.</li>
</ol>
<h2 id="findpropertyproxy"><a class="header" href="#findpropertyproxy">FindPropertyProxy()</a></h2>
<p>The internal <em>FindPropertyProxy</em>(<em>type</em>) function takes the following steps:</p>
<ol>
<li>Return undefined if <em>type</em> does not contain [[<em>Proxies</em>]].</li>
<li>Return a function of <em>type</em>[[<em>Proxies</em>]] whose key equals <code>getProperty</code>.</li>
</ol>
<h2 id="resolvescopeproperty"><a class="header" href="#resolvescopeproperty">ResolveScopeProperty()</a></h2>
<p>The internal <em>ResolveScopeProperty</em>(<em>base</em>, <em>qual</em>, <em>key</em>, <em>disambiguation</em>) function takes the following steps:</p>
<ol>
<li>If <em>base</em> is a <code>with</code> scope
<ol>
<li>If the static type of <em>base</em>[[<em>Object</em>]] is one of the types { <code>*</code>, <code>XML</code>, <code>XMLList</code> }
<ol>
<li>Return <em>DynamicScopeReferenceValue</em>(<em>base</em>, <em>qual</em>, <em>key</em>, <em>disambiguation</em>)</li>
</ol>
</li>
<li>Let <em>r</em> be <em>ResolveProperty</em>(<em>base</em>[[<em>Object</em>]], <em>qual</em>, <em>key</em>, <em>disambiguation</em>)</li>
<li>Return <em>r</em> if it is not undefined.</li>
</ol>
</li>
<li>If <em>base</em> is a filter operator scope
<ol>
<li>Return <em>DynamicScopeReferenceValue</em>(<em>base</em>, <em>qual</em>, <em>key</em>, <em>disambiguation</em>).</li>
</ol>
</li>
<li>Let <em>r</em> be undefined.</li>
<li>If <em>qual</em> is undefined and <em>key</em> is a <code>String</code> constant
<ol>
<li>Assign <em>r</em> = a symbol of <em>base</em>[[<em>Properties</em>]] whose key equals <em>key</em>.</li>
</ol>
</li>
<li>If <em>r</em> is not undefined
<ol>
<li>Assign <em>r</em> = <em>WrapPropertyReference</em>(<em>ResolveAlias</em>(<em>r</em>))</li>
<li>Return <em>r</em></li>
</ol>
</li>
<li>If <em>base</em> is an activation scope and <em>base</em>[[<em>This</em>]] is not undefined
<ol>
<li>Assign <em>r</em> = <em>ResolveProperty</em>(<em>base</em>[[<em>This</em>]], <em>qual</em>, <em>key</em>, <em>disambiguation</em>)</li>
<li>Return <em>r</em> if it is not undefined.</li>
</ol>
</li>
<li>If <em>base</em> is a <code>class</code> scope or <code>enum</code> scope
<ol>
<li>Assign <em>r</em> = <em>ResolveProperty</em>(<em>base</em>[[<em>Class</em>]], <em>qual</em>, <em>key</em>, <em>disambiguation</em>)</li>
</ol>
</li>
<li>Let <em>amb</em> be undefined.</li>
<li>If <em>base</em> is a <code>package</code> scope
<ol>
<li>Assign <em>amb</em> = <em>ResolveProperty</em>(<em>base</em>[[<em>Package</em>]], <em>qual</em>, <em>key</em>, <em>disambiguation</em>)</li>
<li>It is an ambiguous reference error if <em>r</em> is not undefined</li>
<li>Assign <em>r</em> = <em>amb</em></li>
</ol>
</li>
<li>If <em>qual</em> is undefined and <em>key</em> is a <code>String</code> constant
<ol>
<li>For each <em>p</em> in <em>base</em>[[<em>Imports</em>]]
<ol>
<li>If <em>p</em>[[<em>Name</em>]] equals <em>key</em>
<ol>
<li>Assign <em>amb</em> = <em>WrapPropertyReference</em>(<em>ResolveAlias</em>(<em>p</em>))</li>
<li>It is an ambiguous reference error if <em>r</em> is not undefined</li>
<li>Assign <em>r</em> = <em>amb</em></li>
</ol>
</li>
</ol>
</li>
</ol>
</li>
<li>For each <em>op</em> in <em>base</em>[[<em>OpenPackages</em>]]
<ol>
<li>Assign <em>amb</em> = <em>ResolveProperty</em>(<em>op</em>, <em>qual</em>, <em>key</em>, <em>disambiguation</em>)</li>
<li>It is an ambiguous reference error if <em>r</em> is not undefined</li>
<li>Assign <em>r</em> = <em>amb</em></li>
</ol>
</li>
<li>If <em>r</em> is undefined and <em>base</em>[[<em>ParentScope</em>]] is not undefined
<ol>
<li>Return <em>ResolveScopeProperty</em>(<em>base</em>[[<em>ParentScope</em>]], <em>qual</em>, <em>key</em>)</li>
</ol>
</li>
<li>Return <em>r</em></li>
</ol>
<h2 id="wrappropertyreference"><a class="header" href="#wrappropertyreference">WrapPropertyReference()</a></h2>
<p>The internal <em>WrapPropertyReference</em>(<em>prop</em>) function takes the following steps:</p>
<ol>
<li>If <em>prop</em> is a type and <em>prop</em> is either the void type (<code>void</code>), the any type (<code>*</code>), a function type, a tuple type or a nullable type
<ol>
<li>Return <em>TypeAsReferenceValue</em>(<em>prop</em>)</li>
</ol>
</li>
<li>Let <em>parent</em> be <em>prop</em>[[<em>ParentDefinition</em>]]</li>
<li>If <em>parent</em> is a <code>class</code> or <code>enum</code>, return <em>StaticReferenceValue</em>(<em>parent</em>, <em>prop</em>)</li>
<li>If <em>parent</em> is a <code>package</code>, return <em>PackageReferenceValue</em>(<em>parent</em>, <em>prop</em>)</li>
<li>Assert that <em>parent</em> is a scope.</li>
<li>Return <em>ScopeReferenceValue</em>(<em>parent</em>, <em>prop</em>)</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reference-values"><a class="header" href="#reference-values">Reference values</a></h1>
<p>The internal reference values described in this section are used at compile-time to represent references that may be read or overwritten.</p>
<p>In the subsections, <em>disambiguation</em> is one of { <strong>default</strong>, <strong>fixed</strong>, <strong>dynamic</strong> }.</p>
<h2 id="xmlreferencevaluebase-qual-key-disambiguation"><a class="header" href="#xmlreferencevaluebase-qual-key-disambiguation">XMLReferenceValue(base, qual, key, disambiguation)</a></h2>
<p>The internal <em>XMLReferenceValue</em>(<em>base</em>, <em>qual</em>, <em>key</em>, <em>disambiguation</em>) reference value has the following characteristics:</p>
<ul>
<li>It is not read-only.</li>
<li>It is not write-only.</li>
<li>Its static type is <code>*</code>.</li>
</ul>
<h2 id="dynamicreferencevaluebase-qual-key-disambiguation"><a class="header" href="#dynamicreferencevaluebase-qual-key-disambiguation">DynamicReferenceValue(base, qual, key, disambiguation)</a></h2>
<p>The internal <em>DynamicReferenceValue</em>(<em>base</em>, <em>qual</em>, <em>key</em>, <em>disambiguation</em>) reference value has the following characteristics:</p>
<ul>
<li>It is not read-only.</li>
<li>It is not write-only.</li>
<li>Its static type is <code>*</code>.</li>
</ul>
<h2 id="staticreferencevaluebase-prop"><a class="header" href="#staticreferencevaluebase-prop">StaticReferenceValue(base, prop)</a></h2>
<p>The internal <em>StaticReferenceValue</em>(<em>base</em>, <em>prop</em>) reference value has the following characteristics:</p>
<ul>
<li>It is read-only if <em>prop</em> is read-only.</li>
<li>It is write-only if <em>prop</em> is write-only.</li>
<li>Its static type is <a href="reference-values.html#propertystatictype"><em>PropertyStaticType</em></a>(<em>prop</em>).</li>
</ul>
<h2 id="instancereferencevaluebase-prop"><a class="header" href="#instancereferencevaluebase-prop">InstanceReferenceValue(base, prop)</a></h2>
<p>The internal <em>InstanceReferenceValue</em>(<em>base</em>, <em>prop</em>) reference value has the following characteristics:</p>
<ul>
<li>It is read-only if <em>prop</em> is read-only.</li>
<li>It is write-only if <em>prop</em> is write-only.</li>
<li>Its static type is <a href="reference-values.html#propertystatictype"><em>PropertyStaticType</em></a>(<em>prop</em>).</li>
</ul>
<h2 id="proxyreferencevaluebase-proxy"><a class="header" href="#proxyreferencevaluebase-proxy">ProxyReferenceValue(base, proxy)</a></h2>
<p>The internal <em>ProxyReferenceValue</em>(<em>base</em>, <em>proxy</em>) reference value has the following characteristics:</p>
<ul>
<li><em>proxy</em> is the <code>getProperty()</code> proxy.</li>
<li>It is read-only if the type hierarchy of the <em>base</em> static type does not define the <code>setProperty()</code> proxy.</li>
<li>It is not write-only.</li>
<li>Its static type is the result type of signature of <em>proxy</em>.</li>
</ul>
<h2 id="tuplereferencevaluebase-index"><a class="header" href="#tuplereferencevaluebase-index">TupleReferenceValue(base, index)</a></h2>
<p>The internal <em>TupleReferenceValue</em>(<em>base</em>, <em>index</em>) reference value has the following characteristics:</p>
<ul>
<li><em>index</em> is a zero-based index into the <em>base</em> tuple.</li>
<li>It is not read-only.</li>
<li>It is not write-only.</li>
<li>Its static type is the type of the <em>i</em>th element of the <em>base</em> tuple given where <em>i</em> is <em>index</em>.</li>
</ul>
<h2 id="scopereferencevaluebase-prop"><a class="header" href="#scopereferencevaluebase-prop">ScopeReferenceValue(base, prop)</a></h2>
<p>The internal <em>ScopeReferenceValue</em>(<em>base</em>, <em>prop</em>) reference value has the following characteristics:</p>
<ul>
<li>It is read-only if <em>prop</em> is read-only.</li>
<li>It is write-only if <em>prop</em> is write-only.</li>
<li>Its static type is <a href="reference-values.html#propertystatictype"><em>PropertyStaticType</em></a>(<em>prop</em>).</li>
</ul>
<h2 id="dynamicscopereferencevaluebase-qual-key-disambiguation"><a class="header" href="#dynamicscopereferencevaluebase-qual-key-disambiguation">DynamicScopeReferenceValue(base, qual, key, disambiguation)</a></h2>
<p>The internal <em>DynamicScopeReferenceValue</em>(<em>base</em>, <em>qual</em>, <em>key</em>, <em>disambiguation</em>) reference value has the following characteristics:</p>
<ul>
<li>It is not read-only.</li>
<li>It is not write-only.</li>
<li>Its static type is <code>*</code>.</li>
</ul>
<h2 id="packagereferencevaluebase-prop"><a class="header" href="#packagereferencevaluebase-prop">PackageReferenceValue(base, prop)</a></h2>
<p>The internal <em>PackageReferenceValue</em>(<em>base</em>, <em>prop</em>) reference value has the following characteristics:</p>
<ul>
<li>It is read-only if <em>prop</em> is read-only.</li>
<li>It is write-only if <em>prop</em> is write-only.</li>
<li>Its static type is <a href="reference-values.html#propertystatictype"><em>PropertyStaticType</em></a>(<em>prop</em>).</li>
</ul>
<h2 id="typeasreferencevaluetype"><a class="header" href="#typeasreferencevaluetype">TypeAsReferenceValue(type)</a></h2>
<p>The internal <em>TypeAsReferenceValue</em>(<em>type</em>) reference value has the following characteristics:</p>
<ul>
<li>It is used for types such as <code>*</code>, <code>void</code>, tuple types and function types.</li>
<li>It is read-only.</li>
<li>It is not write-only.</li>
<li>Its static type is <code>Class</code>.</li>
</ul>
<h2 id="propertystatictype"><a class="header" href="#propertystatictype">PropertyStaticType()</a></h2>
<p>The static type of a property is determined by the internal <em>PropertyStaticType</em>(<em>prop</em>) function as follows:</p>
<ul>
<li>If it is a variable or virtual property, return <em>prop</em>[[<em>Type</em>]].</li>
<li>If it is a function, return <em>prop</em>[[<em>Signature</em>]].</li>
<li>Assert that it is a type.</li>
<li>Return <code>Class</code>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fully-qualified-names"><a class="header" href="#fully-qualified-names">Fully qualified names</a></h1>
<h2 id="fully-qualified-name-of-a-property"><a class="header" href="#fully-qualified-name-of-a-property">Fully qualified name of a property</a></h2>
<p>Properties have a fully qualified name which is a left-to-right combination of each <em>p</em><sub><i>i</i></sub>[[<em>Name</em>]] where <em>p</em> is the list of ascending parent definitions and the descending definition and <em>i</em> goes from the ascending.</p>
<pre><code>package q.f { public var x }
import q.f.x
q.f.x
</code></pre>
<h2 id="resolvefullyqualifiednamee"><a class="header" href="#resolvefullyqualifiednamee">ResolveFullyQualifiedName(e)</a></h2>
<p>Given a syntax construct <em>e</em> consisting of an <em>Identifier</em> token followed by one or more <strong>.</strong> <em>IdentifierName</em> productions, the internal <em>ResolveFullyQualifiedName</em>(<em>e</em>) function takes the following steps:</p>
<ul>
<li>Let <em>S</em> be a string sequence consisting of each name in <em>E</em> from left-to-right.</li>
<li>If <em>S</em> matches the fully qualified name of a property <em>P1</em> from (current scope)[[<em>Imports</em>]], return <em>WrapPropertyReference</em>(<em>P1</em>).</li>
</ul>
<pre><code>import com.qux.bar.BarType
com.qux.bar.BarType.BETA
</code></pre>
<ul>
<li>If <em>S</em> minus the trailing name matches the fully qualified name of a package <em>P1</em> from (current scope)[[<em>OpenPackages</em>]]
<ul>
<li>Let <em>r</em> be <em>ResolveProperty</em>(<em>P1</em>, undefined, trailing name of <em>S</em>)</li>
<li>If <em>r</em> is not undefined and <a href="./visibility.html#propertyisvisible"><em>PropertyIsVisible</em></a>(<em>r</em>, <em>current scope</em>) is true
<ul>
<li>Return <em>r</em>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>import com.qux.bar.*
com.qux.bar.BarType.BETA
</code></pre>
<ul>
<li>If <em>S</em> minus the trailing name matches the name of a package alias <em>P1</em> from (current scope)[[<em>PackageAliases</em>]]
<ul>
<li>Let <em>r</em> be <em>ResolveProperty</em>(<em>P1</em>, undefined, trailing name of <em>S</em>)</li>
<li>If <em>r</em> is not undefined and <a href="./visibility.html#propertyisvisible"><em>PropertyIsVisible</em></a>(<em>r</em>, <em>current scope</em>) is true
<ul>
<li>Return <em>r</em>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>import b = com.qux.bar.*
b.BarType.BETA
</code></pre>
<ul>
<li>Return undefined.</li>
</ul>
<p>If <em>e</em> is a different syntax construct, the <em>ResolveFullyQualifiedName</em>() function returns undefined.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scopes"><a class="header" href="#scopes">Scopes</a></h1>
<p>A scope consists of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>ParentScope</em>]]</td><td>The parent scope.</td></tr>
<tr><td>[[<em>Properties</em>]]</td><td>Properties of the scope as a dictionary of string to symbol.</td></tr>
<tr><td>[[<em>Imports</em>]]</td><td>Set of package imported properties.</td></tr>
<tr><td>[[<em>OpenPackages</em>]]</td><td>Set of open packages.</td></tr>
<tr><td>[[<em>PackageAliases</em>]]</td><td>Set of package aliases.</td></tr>
<tr><td>[[<em>LocalVariableScopeCount</em>]]</td><td>Number of local variable scopes. Used for variable shadowing.</td></tr>
</tbody></table>
</div>
<p>The [[<em>Imports</em>]] property of a scope holds <em>non aliased</em> properties imported from a package.</p>
<p>The [[<em>OpenPackages</em>]] property of a scope holds <em>non aliased</em> opened packages.</p>
<p>The [[<em>PackageAliases</em>]] property of a scope contains package aliases resulting from the <code>import</code> directive.</p>
<p>An <code>import</code> directive that aliases a property or package contributes an alias to [[<em>Properties</em>]].</p>
<h2 id="with-scope"><a class="header" href="#with-scope">With scope</a></h2>
<p>A <code>with</code> scope in addition consists of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Object</em>]]</td><td>The object specified in the <code>with</code> statement.</td></tr>
</tbody></table>
</div>
<h2 id="filter-operator-scope"><a class="header" href="#filter-operator-scope">Filter operator scope</a></h2>
<p>A filter operator scope in addition consists of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Base</em>]]</td><td>The base object of the filter operator.</td></tr>
</tbody></table>
</div>
<h2 id="activation-scope"><a class="header" href="#activation-scope">Activation scope</a></h2>
<p>An activation scope in addition consists of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Function</em>]]</td><td>The function to which this scope belongs.</td></tr>
<tr><td>[[<em>This</em>]]</td><td>The object returned by the <code>this</code> literal.</td></tr>
</tbody></table>
</div>
<h2 id="class-scope"><a class="header" href="#class-scope">Class scope</a></h2>
<p>A <code>class</code> scope in addition consists of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Class</em>]]</td><td>The enclosing class.</td></tr>
</tbody></table>
</div>
<h2 id="enum-scope"><a class="header" href="#enum-scope">Enum scope</a></h2>
<p>A <code>enum</code> scope in addition consists of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Class</em>]]</td><td>The enclosing <code>enum</code>.</td></tr>
</tbody></table>
</div>
<h2 id="interface-scope"><a class="header" href="#interface-scope">Interface scope</a></h2>
<p>An <code>interface</code> scope in addition consists of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Interface</em>]]</td><td>The enclosing <code>interface</code>.</td></tr>
</tbody></table>
</div>
<h2 id="package-scope"><a class="header" href="#package-scope">Package scope</a></h2>
<p>A <code>package</code> scope in addition consists of the following internal properties:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Package</em>]]</td><td>The enclosing <code>package</code>.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="root-scope"><a class="header" href="#root-scope">Root scope</a></h1>
<p>The root scope of a program is subsequent from the single root scope of the language. The language's root scope have the top-level and <code>jet.lang</code> packages present in the internal [[<em>OpenPackages</em>]] property.</p>
<ul>
<li>(language root scope)[[<em>OpenPackages</em>]] includes the top-level package</li>
<li>(language root scope)[[<em>OpenPackages</em>]] includes <code>jet.lang.*</code></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="environment-variables"><a class="header" href="#environment-variables">Environment variables</a></h1>
<p>The <code>import.meta.env</code> expression returns the special <code>import.meta.env</code> value that loads environment variables from an optional <code>.env</code> file from a project.</p>
<pre><code class="language-plain">import.meta.env.EXAMPLE
</code></pre>
<p><em>.env</em></p>
<pre><code class="language-plain"># Example variable
EXAMPLE=value
</code></pre>
<p>The <code>import.meta.env</code> value has the any type (<code>*</code>) and returns <code>undefined</code> wherever used.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="output-directory"><a class="header" href="#output-directory">Output directory</a></h1>
<p>This section describes facilities included in the language for working with the JetPM output directory.</p>
<h2 id="importmetaoutput"><a class="header" href="#importmetaoutput">import.meta.output</a></h2>
<p>The <code>import.meta.output</code> expression evaluates to the JetPM output directory path.</p>
<pre><code>import node.filesystem.*;

// Locate {output}/my/data.txt
const myDataText = new File(import.meta.output).resolvePath("my/data.txt");

// Write to {output}/my/data.txt
myDataText.write("Text");
</code></pre>
<h2 id="meta-data-entries"><a class="header" href="#meta-data-entries">Meta-data entries</a></h2>
<p><a href="metadata/plain-metadata.html">Plain meta-data</a> support file entries resolving files from the JetPM output directory path through the <code>output + "path/to/file"</code> form.</p>
<pre><code>package q {
    [DLL(library = File(output + "q.dll"))]
    internal class DLL {
        [DLL(name = "f")]
        public native function f(): void;
    }
}
</code></pre>
<h2 id="embedding-files"><a class="header" href="#embedding-files">Embedding files</a></h2>
<p>The <code>embed</code> expression supports embedding files from the JetPM output directory.</p>
<pre><code>const byteArray = embed {
    source: output + "auto/generated.bin",
    type: ByteArray,
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="phases-of-execution"><a class="header" href="#phases-of-execution">Phases of execution</a></h1>
<p>Jet programs execute in three phases: parsing, verification and evaluation. The verification and evaluation phases may overlap. The verification phase may occur during compile time wherever possible.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="type-expressions"><a class="header" href="#type-expressions">Type expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>TypeExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeExpression</i><sup>noPrefix</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>?</b> <i>TypeExpression</i><sup>noPrefix</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TypeExpression</i><sup>noPrefix</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>*</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>void</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5B;</b> <i>TypeExpression</i> <b>&#x5D;</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x28;</b> <i>TypeExpression</i> <b>&#x29;</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TupleTypeExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FunctionTypeExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeExpression</i><sup>noPrefix</sup> <b>.</b> <i>IdentifierName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeExpression</i><sup>noPrefix</sup> <i>TypeArguments</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeExpression</i><sup>noPrefix</sup> <b>?</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeExpression</i><sup>noPrefix</sup> <b>!</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TypeExpressionList</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeExpressionList</i> <b>,</b> <i>TypeExpression</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TypeArguments</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>.</b> <b>&lt;</b> <i>TypeArgumentsList</i> <b>&gt;</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>.</b> <b>&lt;</b> <i>TypeArgumentsList</i> [initial <b>&gt;</b> from the offending token]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TypeArgumentsList</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeArgumentsList</i> <b>,</b> <i>TypeExpression</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TupleTypeExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5B;</b> <i>TupleElementTypes</i> <b>&#x5D;</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TupleElementTypes</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i><i>TypeExpression</i> <b>,</b> <i>TypeExpression</i></i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i><i>TupleElementTypes</i> <b>,</b> <i>TypeExpression</i></i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>FunctionTypeExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>function</b> <b>(</b> <i>FunctionTypeParameters</i> <b>)</b> <b>:</b> <i>TypeExpression</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>FunctionTypeParameters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FunctionTypeParameter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FunctionTypeParameters</i> <b>,</b> <i>FunctionTypeParameter</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>FunctionTypeParameter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FunctionTypeOptionalParameter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>...</b> <i>TypedIdentifier</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TypedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i> <b>:</b> <i>TypeExpression</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>FunctionTypeOptionalParameter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i> <b>?</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i> <b>?</b> <b>:</b> <i>TypeExpression</i></td>
    </tr>
</table>
<p><strong>Verification</strong></p>
<p><i>TypeExpression</i> : <i>TypeExpression</i><sup>noPrefix</sup></p>
<ul>
<li>Return the verification result of <i>TypeExpression</i><sup>noPrefix</sup>.</li>
</ul>
<p><i>TypeExpression</i> : <b>?</b> <i>TypeExpression</i><sup>noPrefix</sup></p>
<ul>
<li>Return the verification result of <i>TypeExpression</i><sup>noPrefix</sup> if it is a nullable type.</li>
<li>Return a nullable type consisting of the verification result of <i>TypeExpression</i><sup>noPrefix</sup>.</li>
</ul>
<p><i>TypeExpression</i><sup>noPrefix</sup> : <b>*</b></p>
<ul>
<li>Return the any type.</li>
</ul>
<p><i>TypeExpression</i><sup>noPrefix</sup> : <i>Identifier</i></p>
<ul>
<li>Let <em>p</em> be <em>ResolveProperty</em>(<em>current scope</em>, undefined, string of <i>Identifier</i>)</li>
<li>It is a verify error if <em>p</em> is undefined.</li>
<li>It is a verify error if <a href="visibility.html#propertyisvisible"><em>PropertyIsVisible</em></a>(<em>p</em>, <em>current scope</em>) is false.</li>
<li>It is a verify error if <em>p</em> is not a type and the rule is not followed by a postfix operator.</li>
<li>It is a verify error if <em>p</em> is a reference value that references a type parameterized type and the expression is not followed by <i>TypeArguments</i>.</li>
<li>Return <em>p</em>.</li>
</ul>
<p><i>TypeExpression</i><sup>noPrefix</sup> : <b>void</b></p>
<ul>
<li>Return the void type.</li>
</ul>
<p><i>TypeExpression</i><sup>noPrefix</sup> : <i>TupleTypeExpression</i></p>
<ul>
<li>Return the verification of <i>TupleTypeExpression</i>.</li>
</ul>
<p><i>TypeExpression</i><sup>noPrefix</sup> : <i>FunctionTypeExpression</i></p>
<ul>
<li>Return the verification of <i>FunctionTypeExpression</i>.</li>
</ul>
<p><i>TypeExpression</i><sup>noPrefix</sup> : <b>[</b> <i>TypeExpression</i> <b>]</b></p>
<ul>
<li>Return an array type consisting of the verification result of <i>TypeExpression</i>.</li>
</ul>
<p><i>TypeExpression</i><sup>noPrefix</sup> : <b>(</b> <i>TypeExpression</i> <b>)</b></p>
<ul>
<li>Return the verification result of <i>TypeExpression</i>.</li>
</ul>
<p><i>TypeExpression</i><sup>noPrefix</sup> : <i>TypeExpression</i><sup>noPrefix</sup> <b>.</b> <i>IdentifierName</i></p>
<ul>
<li>Let <em>p</em> be <a href="./fully-qualified-names.html#resolvefullyqualifiednamee"><em>ResolveFullyQualifiedName</em></a>(type expression).</li>
<li>If <em>p</em> is not undefined
<ul>
<li>Return <em>p</em>.</li>
</ul>
</li>
<li>Let <em>base</em> be the verification result of <i>TypeExpression</i><sup>noPrefix</sup>.</li>
<li>Let <em>p</em> be <em>ResolveProperty</em>(<em>base</em>, undefined, string of <i>IdentifierName</i>)</li>
<li>It is a verify error if <em>p</em> is undefined.</li>
<li>It is a verify error if <a href="visibility.html#propertyisvisible"><em>PropertyIsVisible</em></a>(<em>p</em>, <em>current scope</em>) is false.</li>
<li>It is a verify error if <em>p</em> is a reference value that references a type parameterized type and the expression is not followed by <i>TypeArguments</i>.</li>
<li>Return <em>p</em>.</li>
</ul>
<p><i>TypeExpression</i><sup>noPrefix</sup> : <i>TypeExpression</i><sup>noPrefix</sup> <i>TypeArguments</i></p>
<ul>
<li>Let <em>base</em> be the verification result of <i>TypeExpression</i><sup>noPrefix</sup>.</li>
<li>It is a verify error if <em>base</em> is not a type with [[<em>TypeParameters</em>]].</li>
<li>It is a verify error if <em>base</em>[[<em>TypeParameters</em>]] is empty.</li>
<li>Let <em>a</em> be the verification sequence of <i>TypeArguments</i>.</li>
<li>Return a type substitution in <em>base</em> with <em>a</em> as type arguments.</li>
</ul>
<p><i>TypeExpression</i><sup>noPrefix</sup> : <i>TypeExpression</i><sup>noPrefix</sup> <b>?</b></p>
<ul>
<li>Return the verification result of <i>TypeExpression</i><sup>noPrefix</sup> if it is a nullable type.</li>
<li>Return a nullable type consisting of the verification result of <i>TypeExpression</i><sup>noPrefix</sup>.</li>
</ul>
<p><i>TypeExpression</i><sup>noPrefix</sup> : <i>TypeExpression</i><sup>noPrefix</sup> <b>!</b></p>
<ul>
<li>Return a non nullable type from the verification result of <i>TypeExpression</i><sup>noPrefix</sup>.</li>
</ul>
<p><i>TupleTypeExpression</i> : <b>[</b> <i>TupleElementTypes</i> <b>]</b></p>
<ul>
<li>Let <em>e</em> be an empty list.</li>
<li>For each <em>e</em><sub>0</sub> <i>TypeExpression</i> in <i>TupleElementTypes</i>
<ul>
<li>Append to <em>e</em> the verification result of <em>e</em><sub>0</sub></li>
</ul>
</li>
<li>Return a tuple type consisting of the element types <em>e</em>.</li>
</ul>
<p><i>FunctionTypeExpression</i> : <b>function</b> <b>(</b> <i>FunctionTypeParameters</i> <b>)</b> <b>:</b> <i>TypeExpression</i></p>
<ul>
<li>It is a verify error if <i>FunctionTypeParameters</i> is not a sequence of zero or more <i>TypedIdentifier</i> followed by zero or more <i>FunctionTypeOptionalParameter</i> followed by optional <b>...</b> <i>TypedIdentifier</i>.</li>
<li>Let <em>p</em><sub>0</sub> be an empty list.</li>
<li>Let <em>p</em><sub>1</sub> be an empty list.</li>
<li>Let <em>p</em><sub>2</sub> be undefined.</li>
<li>For each <i>TypedIdentifier</i> as <em>typedId</em> in <i>FunctionTypeParameters</i>
<ul>
<li>Let (<em>name</em>, <em>type</em>) be the verification of <em>typedId</em>.</li>
<li>Contribute (<em>name</em>, <em>type</em>) to <em>p</em><sub>0</sub>.</li>
</ul>
</li>
<li>For each <i>FunctionTypeOptionalParameter</i> as <em>optParam</em> in <i>FunctionTypeParameters</i>
<ul>
<li>Let (<em>name</em>, <em>type</em>) be the verification of <em>optParam</em>.</li>
<li>Contribute (<em>name</em>, <em>type</em>) to <em>p</em><sub>1</sub>.</li>
</ul>
</li>
<li>If <i>FunctionTypeParameters</i> contains <b>...</b> <i>TypedIdentifier</i> as <em>typeId</em>
<ul>
<li>Let (<em>name</em>, <em>type</em>) be the verification of <em>typedId</em>.</li>
<li>It is a verify error if <em>type</em> is not the <code>Array</code> type.</li>
<li>Assign <em>p</em><sub>2</sub> = (<em>name</em>, <em>type</em>)</li>
</ul>
</li>
<li>Let <em>returnType</em> be the verification of <i>TypeExpression</i> preceded by the <b>:</b> result type prefix.</li>
<li>Return a function type consisting of required parameters <em>p</em><sub>0</sub>, optional parameters <em>p</em><sub>1</sub>, rest parameter <em>p</em><sub>2</sub> and return type <em>returnType</em>.</li>
</ul>
<p><i>TypedIdentifier</i> : <i>IdentifierName</i><br>
<i>FunctionTypeOptionalParameter</i> : <i>IdentifierName</i> <b>?</b></p>
<ul>
<li>It is a verify error if no context type is given.</li>
<li>Return (string of <i>IdentifierName</i>, context type)</li>
</ul>
<p><i>TypedIdentifier</i> : <i>IdentifierName</i> <b>:</b> <i>TypeExpression</i><br>
<i>FunctionTypeOptionalParameter</i> : <i>IdentifierName</i> <b>?</b> <b>:</b> <i>TypeExpression</i></p>
<ul>
<li>Return (string of <i>IdentifierName</i>, verification of <i>TypeExpression</i>)</li>
</ul>
<p><i>TypeArguments</i> : <b>.</b> <b>&lt;</b> <i>TypeArgumentsList</i> <b>&gt;</b><br>
<i>TypeArguments</i> : <b>.</b> <b>&lt;</b> <i>TypeArgumentsList</i> [initial <b>&gt;</b> from the offending token]</p>
<ul>
<li>Return the verification of each <i>TypeExpression</i> in <i>TypeArgumentsList</i> in a sequence.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="expressions"><a class="header" href="#expressions">Expressions</a></h1>
<p>The syntactic grammar for expressions declares the β parameter, which is assigned either <code>allowIn</code> or <code>noIn</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="identifiers"><a class="header" href="#identifiers">Identifiers</a></h1>
<p><strong>Syntax</strong></p>
<pre><code>x
*
q::x
q::[k]     ;
(q)::x     ;
(q)::[k]   ;
@x
@[k]
@q::x
@q::[k]
@(q)::x
@(q)::[k]
</code></pre>
<p><em>Fixed versus dynamic</em>: the qualifier identifiers <code>fixed</code> and <code>dynamic</code> are reserved words used for indicating a property disambiguation.</p>
<pre><code>o.fixed::x
o.dynamic::x
</code></pre>
<table>
    <tr>
        <td colspan="2"><i>PropertyIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i> [when keywords are enabled]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i> [when keywords are disabled]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>*</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Qualifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>PropertyIdentifier</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>SimpleQualifiedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>PropertyIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Qualifier</i> <b>::</b> <i>PropertyIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Qualifier</i> <b>::</b> <i>Brackets</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ExpressionQualifiedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ParenExpression</i> <b>::</b> <i>PropertyIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ParenExpression</i> <b>::</b> <i>Brackets</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>NonAttributeQualifiedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SimpleQualifiedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ExpressionQualifiedIdentifier</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>QualifiedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>@</b> <i>Brackets</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>@</b> <i>NonAttributeQualifiedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NonAttributeQualifiedIdentifier</i></td>
    </tr>
</table>
<p><strong>Verification</strong></p>
<p>The <em>Identifier</em> and <em>IdentifierName</em> productions of <em>PropertyIdentifier</em> result into a string consisting of the respective identifier characters. The <b><em></b> production of <em>PropertyIdentifier</em> results into the <b></em></b> string.</p>
<ul>
<li>Let <em>disambiguation</em> be <strong>default</strong>.</li>
</ul>
<p>The qualifier <em>PropertyIdentifier</em> preceding the <b>::</b> punctuator is treated as follows:</p>
<ul>
<li>If it is equals <strong>fixed</strong> or <strong>dynamic</strong>
<ul>
<li>Assign <em>disambiguation</em> = string of <em>PropertyIdentifier</em></li>
</ul>
</li>
<li>Else
<ul>
<li>Let <em>qid</em> be the translation of it into a <em>PrimaryExpression</em> <strong>:</strong> <em>QualifiedIdentifier</em>.</li>
<li>Verify <em>qid</em> as such production limited to the <code>Namespace</code> type.</li>
<li>Let the qualifier be the value of <em>qid</em>.</li>
</ul>
</li>
</ul>
<p>The qualifier <em>ParenExpression</em> preceding the <b>::</b> punctuator is treated as follows:</p>
<ul>
<li>Limit the <em>ParenExpression</em> symbol to the <code>Namespace</code> type.</li>
</ul>
<p><em>Brackets</em> must be of the <code>String</code> type.</p>
<p>Verifying <em>QualifiedIdentifier</em> results into a (<em>qual</em>, <em>key</em>, <em>disambiguation</em>) group consisting of an optional qualifier <code>Namespace</code> object, a key <code>String</code> value and <em>disambiguation</em> respectively.</p>
<p><strong>Evaluation</strong></p>
<p>The qualifier <em>PropertyIdentifier</em> preceding the <b>::</b> punctuator translates to a <em>PrimaryExpression</em> <strong>:</strong> <em>QualifiedIdentifier</em> and is evaluated as such production.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="primary-expressions"><a class="header" href="#primary-expressions">Primary expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>PrimaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NullLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BooleanLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NumericLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>StringLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ThisLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RegularExpressionLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>QualifiedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLInitializer</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ParenListExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ArrayInitializer</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ObjectInitializer</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EmbedExpression</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>NullLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>null</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>BooleanLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>true</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>false</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ThisLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>this</b></td>
    </tr>
</table>
<p><strong>Verification</strong></p>
<p><i>PrimaryExpression</i> : <i>NullLiteral</i></p>
<ul>
<li>If the context type is <code>T?</code>
<ul>
<li>Return a <code>null</code> constant of the context type.</li>
</ul>
</li>
<li>Return a <code>null</code> constant of the <code>*</code> type.</li>
</ul>
<p><i>PrimaryExpression</i> : <i>NumericLiteral</i></p>
<ul>
<li>If the context type is <code>N</code> or <code>N?</code> where <code>N</code> is a number type
<ul>
<li>Return a number constant consisting of the <i>NumericLiteral</i> mathematical value of the context type.</li>
</ul>
</li>
<li>Return a number constant consisting of the <i>NumericLiteral</i> mathematical value of the <code>Number</code> type.</li>
</ul>
<p><i>PrimaryExpression</i> : <i>StringLiteral</i></p>
<ul>
<li>If the context type is <code>Char</code> or <code>Char?</code>
<ul>
<li>It is a verify error if the string of <i>StringLiteral</i> does not consist of a single Unicode Scalar Value.</li>
<li>Return a <code>Char</code> constant of the context type whose value is the first Unicode Scalar Value of the <i>StringLiteral</i> string.</li>
</ul>
</li>
<li>If the context type is <code>E</code> or <code>E?</code> where <code>E</code> is an <code>enum</code>
<ul>
<li>Let <em>s</em> be the string of <i>StringLiteral</i>.</li>
<li>It is a verify error if <code>E</code> contains no <code>enum</code> member with a string equals <em>s</em>.</li>
<li>Return an <code>enum</code> constant, of the context type, identifying the <code>enum</code> member of <code>E</code> with a string equals <em>s</em>.</li>
</ul>
</li>
<li>Return a string constant of the <code>String</code> type consisting of the string of <i>StringLiteral</i>.</li>
</ul>
<p><i>PrimaryExpression</i> : <i>QualifiedIdentifier</i></p>
<ul>
<li>Let (<em>qual</em>, <em>key</em>, <em>disambiguation</em>) be the result of verifying the nonterminal symbol on right-hand side of the production.</li>
<li>Let <em>r</em> be <em>ResolveProperty</em>(<em>current scope</em>, <em>qual</em>, <em>key</em>, <em>disambiguation</em>).</li>
<li>It is a verify error if <em>r</em> is undefined.</li>
<li>It is a verify error if <a href="expressions/../visibility.html#propertyisvisible"><em>PropertyIsVisible</em></a>(<em>r</em>, <em>current scope</em>) is false.</li>
<li>It is a verify error if <em>r</em> is a reference value that references a type parameterized type and the expression is not followed by <i>TypeArguments</i>.</li>
<li>It is a verify error if <em>r</em> is a reference value that references a type parameterized function and the expression is not followed by <i>TypeArguments</i>.</li>
<li>If <em>r</em> is a reference value to a constant <em>c</em> that sets the [[<em>ConstantInitializer</em>]] property
<ul>
<li>Return <em>c</em>[[<em>ConstantInitializer</em>]]</li>
</ul>
</li>
<li>Return <em>r</em>.</li>
</ul>
<p><i>PrimaryExpression</i> : <i>ThisLiteral</i></p>
<ul>
<li>Let <em>act</em> be the enclosing activation.</li>
<li>It is a verify error if <em>act</em> is undefined or if <em>act</em>[[<em>This</em>]] is undefined.</li>
<li>Return <em>act</em>[[<em>This</em>]].</li>
</ul>
<p><i>PrimaryExpression</i> : <i>RegularExpressionLiteral</i></p>
<ul>
<li>Return a value of type <code>RegExp</code>.</li>
</ul>
<p><i>PrimaryExpression</i> : <i>BooleanLiteral</i></p>
<ul>
<li>If <i>BooleanLiteral</i> is <b>true</b>, return a boolean constant of value <code>true</code> of the <code>Boolean</code> type.</li>
<li>Return a boolean constant of value <code>false</code> of the <code>Boolean</code> type.</li>
</ul>
<p><i>PrimaryExpression</i> : <i>ParenListExpression</i></p>
<ul>
<li>Return the result of verifying the nonterminal symbol on right-hand side of the production.</li>
</ul>
<p><i>PrimaryExpression</i> : <i>EmbedExpression</i></p>
<ul>
<li>Return the result of verifying the nonterminal symbol on right-hand side of the production.</li>
</ul>
<p><i>PrimaryExpression</i> : <i>XMLInitializer</i></p>
<ul>
<li>Return the result of verifying the nonterminal symbol on right-hand side of the production.</li>
</ul>
<p><i>PrimaryExpression</i> : <i>ArrayInitializer</i></p>
<ul>
<li>Return the result of verifying the nonterminal symbol on right-hand side of the production.</li>
</ul>
<p><i>PrimaryExpression</i> : <i>ObjectInitializer</i></p>
<ul>
<li>Return the result of verifying the nonterminal symbol on right-hand side of the production.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="parenthesized-expressions"><a class="header" href="#parenthesized-expressions">Parenthesized expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ParenExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>(</b> <i>AssignmentExpression</i><sup>allowIn</sup> <b>)</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ParenListExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ParenExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>(</b> <i>ListExpression</i><sup>allowIn</sup> <b>,</b> <i>AssignmentExpression</i><sup>allowIn</sup> <b>)</b></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="object-initializer"><a class="header" href="#object-initializer">Object initializer</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ObjectInitializer</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>{</b> <i>FieldList</i> <b>}</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>FieldList</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NonEmptyFieldList</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NonEmptyFieldList</i> <b>,</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>NonEmptyFieldList</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>InitializerField</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>InitializerRest</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NonEmptyFieldList</i> <b>,</b> <i>InitializerField</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NonEmptyFieldList</i> <b>,</b> <i>InitializerRest</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>InitializerRest</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>...</b> <i>AssignmentExpression</i><sup>allowIn</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>InitializerField</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FieldName</i> <b>:</b> <i>AssignmentExpression</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>FieldName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Brackets</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>StringLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NumericLiteral</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>The object initializer may be used to initialize the following types:</p>
<ul>
<li><code>*</code></li>
<li><code>Object</code></li>
<li><code>Map.&lt;K, V&gt;</code></li>
<li>Set enumerations</li>
<li>Classes containing the <code>[Literal]</code> meta-data</li>
</ul>
<p>Initializing a type that is one of { <code>*</code>, <code>Object</code>, <code>Object?</code> } results into a <code>Map.&lt;*, *&gt;</code> object.</p>
<p>The default context type is the <code>Map.&lt;*, *&gt;</code> type.</p>
<p><strong>Verification</strong></p>
<p>A field item is either an <em>InitializerRest</em> or an <i>InitializerField</i>, from left-to-right.</p>
<p><em>ObjectInitializer</em></p>
<ul>
<li>Let <em>ctxType</em> be the initially given context type or <code>Map.&lt;*, *&gt;</code> otherwise.</li>
<li>Match the nonterminal symbol with <em>AnyOrObject</em>(<em>ctxType</em>).</li>
<li>Otherwise match the nonterminal symbol with <em>Map</em>(<em>ctxType</em>).</li>
<li>Otherwise match the nonterminal symbol with <em>SetEnum</em>(<em>ctxType</em>).</li>
<li>Otherwise match the nonterminal symbol with <em>LiteralClass</em>(<em>ctxType</em>).</li>
<li>Otherwise throw a verify error.</li>
</ul>
<p><em>ResolveShorthand</em>(<em>IdentifierName</em>) internal function</p>
<ul>
<li>Let <em>r</em> be <em>ResolveProperty</em>(current scope, undefined, <em>IdentifierName</em> string).</li>
<li>Throw a verify error if <em>r</em> is undefined.</li>
<li>Throw a verify error if <em>PropertyIsVisible</em>(<em>ref</em>, current scope) is false.</li>
<li>Throw a verify error if <em>r</em> is a reference value that references a type parameterized type.</li>
<li>Throw a verify error if <em>r</em> is a reference value that references a type parameterized function.</li>
<li>Return <em>r</em></li>
</ul>
<p><em>ResolveInstanceVariable</em>(<code>C</code>, <em>name</em>) internal function</p>
<ul>
<li>Let <em>variable</em> be a non-inherited instance variable of <code>C</code> whose [[<em>Name</em>]] equals the <em>name</em> string.</li>
<li>Throw a verify error if <em>variable</em> is undefined.</li>
<li>Throw a verify error if <em>PropertyIsVisible</em>(<em>variable</em>, current scope) is false.</li>
<li>Return <em>variable</em>.</li>
</ul>
<p><em>AnyOrObject</em>(<em>ctxType</em>) internal matcher</p>
<ul>
<li>If <em>ctxType</em> is not one of { <code>*</code>, <code>Object</code>, <code>Object?</code>, <code>Map.&lt;*, *&gt;</code>, <code>Map.&lt;*, *&gt;?</code> }, return match failure.</li>
<li>For each field item <em>field</em>
<ul>
<li>If <em>field</em> is <em>InitializerRest</em>
<ul>
<li>Limit the type of the expression of <em>field</em> to <code>Map.&lt;*, *&gt;</code>.</li>
</ul>
</li>
<li>Else if the <em>field</em> is a shorthand field <em>IdentifierName</em>
<ul>
<li>Call <em>ResolveShorthand</em>(<em>IdentifierName</em>).</li>
</ul>
</li>
<li>Else
<ul>
<li>If the <i>FieldName</i> of <em>field</em> is a <em>Brackets</em> symbol
<ul>
<li>Verify the <em>Brackets</em> symbol.</li>
</ul>
</li>
<li>Verify the <i>AssignmentExpression</i><sup>allowIn</sup> symbol of the <em>InitializerField</em>.</li>
</ul>
</li>
</ul>
</li>
<li>Return a value of the <em>ctxType</em> type.</li>
</ul>
<p><em>Map</em>(<em>ctxType</em>) internal matcher</p>
<ul>
<li>If <em>ctxType</em> is not <code>M</code> or <code>M?</code>, where <code>M</code> is <code>Map.&lt;K, V&gt;</code>, return match failure.</li>
<li>For each field item <em>field</em>
<ul>
<li>If <em>field</em> is <em>InitializerRest</em>
<ul>
<li>Limit the type of the expression of <em>field</em> to <code>Map.&lt;K, V&gt;</code>.</li>
</ul>
</li>
<li>Else if the <em>field</em> is a shorthand field <em>IdentifierName</em>
<ul>
<li>Let <em>shortRef</em> be <em>ResolveShorthand</em>(<em>IdentifierName</em>).</li>
<li>Limit the static type of <em>shortRef</em> to <code>V</code>.</li>
<li>Throw a verify error if <code>K</code> is not one of { <code>*</code>, <code>Object</code>, <code>String</code> }.</li>
</ul>
</li>
<li>Else
<ul>
<li>If the <i>FieldName</i> of <em>field</em> is a <em>Brackets</em> symbol
<ul>
<li>Limit the type of the <em>Brackets</em> expression to <code>K</code>.</li>
</ul>
</li>
<li>Else if the <i>FieldName</i> of <em>field</em> is an <em>IdentifierName</em> symbol
<ul>
<li>Throw a verify error if <code>K</code> is not one of { <code>*</code>, <code>Object</code>, <code>String</code> }.</li>
</ul>
</li>
<li>Else if the <i>FieldName</i> of <em>field</em> is a <em>StringLiteral</em> symbol
<ul>
<li>Throw a verify error if <code>K</code> is not one of { <code>*</code>, <code>Object</code>, <code>String</code> }.</li>
</ul>
</li>
<li>Else if the <i>FieldName</i> of <em>field</em> is a <em>NumericLiteral</em> symbol
<ul>
<li>Throw a verify error if <code>K</code> is not one of { <code>*</code>, <code>Object</code>, <code>Number</code> }.</li>
</ul>
</li>
<li>Limit the type of the <i>AssignmentExpression</i><sup>allowIn</sup> symbol of the <em>InitializerField</em> to <code>V</code>.</li>
</ul>
</li>
</ul>
</li>
<li>Return a value of the <em>ctxType</em> type.</li>
</ul>
<p><em>SetEnum</em>(<em>ctxType</em>) internal matcher</p>
<ul>
<li>If <em>ctxType</em> is not <code>E</code> or <code>E?</code>, where <code>E</code> is a set enumeration, return match failure.</li>
<li>Let <em>c</em> be zero.</li>
<li>Let <em>isConst</em> be true.</li>
<li>For each field item <em>field</em>
<ul>
<li>If <em>field</em> is <em>InitializerRest</em>
<ul>
<li>Let <em>c1</em> be the result of limiting the type of the expression of <em>field</em> to <code>E</code>.</li>
<li>If <em>c1</em> is an <code>enum</code> constant and <em>isConst</em> is true
<ul>
<li>Assign <em>c</em> = bitwise OR(<em>c</em>, number of <em>c1</em>)</li>
</ul>
</li>
<li>Else assign <em>isConst</em> = false</li>
</ul>
</li>
<li>Else if the <em>field</em> is a shorthand field <em>IdentifierName</em>
<ul>
<li>Let <em>shortRef</em> be <em>ResolveShorthand</em>(<em>IdentifierName</em>).</li>
<li>Limit the static type of <em>shortRef</em> to <code>Boolean</code>.</li>
<li>Let <em>member</em> be an enumeration member of <code>E</code> whose string equals the <em>IdentifierName</em> string</li>
<li>Throw a verify error if <em>member</em> is undefined.</li>
<li>If <em>shortRef</em> is a boolean constant and <em>isConst</em> is true
<ul>
<li>If <em>shortRef</em> boolean is true
<ul>
<li>Assign <em>c</em> = bitwise OR(<em>c</em>, number of <em>member</em>)</li>
</ul>
</li>
<li>Else assign <em>c</em> = erase bits of (number of <em>member</em>) from <em>c</em> if all bits are included</li>
</ul>
</li>
<li>Else assign <em>isConst</em> = false</li>
</ul>
</li>
<li>Else
<ul>
<li>Let <em>c1</em> be the result of limiting the type of the <i>AssignmentExpression</i><sup>allowIn</sup> symbol of the <em>InitializerField</em> to <code>E</code>.</li>
<li>If the <i>FieldName</i> of <em>field</em> is a <em>Brackets</em> symbol
<ul>
<li>Limit the type of the <em>Brackets</em> expression to <code>String</code>.</li>
<li>Assign <em>isConst</em> = false</li>
</ul>
</li>
<li>Else if the <i>FieldName</i> of <em>field</em> is an <em>IdentifierName</em> symbol or a <em>StringLiteral</em> symbol
<ul>
<li>Let <em>member</em> be an enumeration member of <code>E</code> whose string equals the string of the <em>IdentifierName</em> symbol or <em>StringLiteral</em> symbol.</li>
<li>Throw a verify error if <em>member</em> is undefined.</li>
<li>If <em>c1</em> is a boolean constant and <em>isConst</em> is true
<ul>
<li>If <em>c1</em> boolean is true
<ul>
<li>Assign <em>c</em> = bitwise OR(<em>c</em>, number of <em>member</em>)</li>
</ul>
</li>
<li>Else assign <em>c</em> = erase bits of (number of <em>member</em>) from <em>c</em> if all bits are included</li>
</ul>
</li>
<li>Else assign <em>isConst</em> = false</li>
</ul>
</li>
<li>Else if the <i>FieldName</i> of <em>field</em> is a <em>NumericLiteral</em> symbol
<ul>
<li>Throw a verify error.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>If <em>isConst</em> is true
<ul>
<li>Return an <code>enum</code> constant with number <em>c</em> and static type as <em>ctxType</em>.</li>
</ul>
</li>
<li>Return a value of the <em>ctxType</em> type.</li>
</ul>
<p><em>LiteralClass</em>(<em>ctxType</em>) internal matcher</p>
<ul>
<li>If <em>ctxType</em> is not <code>C</code> or <code>C?</code>, where <code>C</code> is a <code>class</code> and <code>C</code>[[<em>AllowLiteral</em>]] is true, return match failure.</li>
<li>Let <em>missing</em> be a set containing all non optional non-inherited instance variables of <code>C</code>.</li>
<li>For each field item <em>field</em>
<ul>
<li>If <em>field</em> is <em>InitializerRest</em>
<ul>
<li>Limit the type of the expression of <em>field</em> to <code>C</code>.</li>
<li>Assign <em>missing</em> = empty set</li>
</ul>
</li>
<li>Else if the <em>field</em> is a shorthand field <em>IdentifierName</em>
<ul>
<li>Let <em>variable</em> be <em>ResolveInstanceVariable</em>(<code>C</code>, <em>IdentifierName</em> string).</li>
<li>Remove <em>variable</em> from the <em>missing</em> set.</li>
<li>Let <em>shortRef</em> be <em>ResolveShorthand</em>(<em>IdentifierName</em>).</li>
<li>Limit the static type of <em>shortRef</em> to <em>variable</em>[[<em>Type</em>]].</li>
</ul>
</li>
<li>Else
<ul>
<li>If the <i>FieldName</i> of <em>field</em> is a <em>Brackets</em> symbol
<ul>
<li>Limit the type of the <em>Brackets</em> expression to <code>String</code>.</li>
<li>Verify the <i>AssignmentExpression</i><sup>allowIn</sup> symbol of the <em>InitializerField</em>.</li>
<li>Assign <em>missing</em> = empty set</li>
</ul>
</li>
<li>Else if the <i>FieldName</i> of <em>field</em> is an <em>IdentifierName</em> symbol or a <em>StringLiteral</em> symbol
<ul>
<li>Let <em>variable</em> be <em>ResolveInstanceVariable</em>(<code>C</code>, <em>IdentifierName</em> string or <em>StringLiteral</em> string).</li>
<li>Remove <em>variable</em> from the <em>missing</em> set.</li>
<li>Limit the type of the <i>AssignmentExpression</i><sup>allowIn</sup> symbol of the <em>InitializerField</em> to <em>variable</em>[[<em>Type</em>]].</li>
</ul>
</li>
<li>Else if the <i>FieldName</i> of <em>field</em> is a <em>NumericLiteral</em> symbol
<ul>
<li>Verify the <i>AssignmentExpression</i><sup>allowIn</sup> symbol of the <em>InitializerField</em>.</li>
<li>Throw a verify error.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Throw a verify error if <em>missing</em> is a non empty set.</li>
<li>Return a value of the <em>ctxType</em> type.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="array-initializer"><a class="header" href="#array-initializer">Array initializer</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ArrayInitializer</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>[</b> <i>Elision</i><sub>opt</sub> <b>]</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>[</b> <i>ElementList</i> <b>]</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>[</b> <i>ElementList</i> <b>,</b> <i>Elision</i><sub>opt</sub> <b>]</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Elision</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>,</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Elision</i> <b>,</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ElementList</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Elision</i><sub>opt</sub> <i>AssignmentExpression</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Elision</i><sub>opt</sub> <i>InitializerRest</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ElementList</i> <b>,</b> <i>Elision</i><sub>opt</sub> <i>AssignmentExpression</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ElementList</i> <b>,</b> <i>Elision</i><sub>opt</sub> <i>InitializerRest</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>The array initializer may be used to initialize the following types:</p>
<ul>
<li><code>*</code></li>
<li><code>Object</code></li>
<li>Tuple types</li>
<li><code>[T]</code></li>
<li>Set enumerations</li>
</ul>
<p>Initializing <code>*</code> or <code>Object</code> results in constructing a <code>[*]</code> object.</p>
<p>By default, the array initializer results in an object of the <code>[*]</code> type.</p>
<p>Elision commas result into <code>undefined</code> elements.</p>
<pre><code>const array = [,,,]
array.length == 3
array[0] === undefined
</code></pre>
<p><strong>Verification</strong></p>
<p><em>ArrayInitializer</em></p>
<ul>
<li>Let <em>ctxType</em> be the initially given context type or the <code>[*]</code> type otherwise.</li>
<li>Match the nonterminal symbol with <em>AnyOrObject</em>(<em>ctxType</em>).</li>
<li>Otherwise match the nonterminal symbol with <em>Tuple</em>(<em>ctxType</em>).</li>
<li>Otherwise match the nonterminal symbol with <em>Array</em>(<em>ctxType</em>).</li>
<li>Otherwise match the nonterminal symbol with <em>SetEnum</em>(<em>ctxType</em>).</li>
<li>Otherwise throw a verify error.</li>
</ul>
<p><em>VerifyRest</em>(<em>r</em>, <code>T</code>) internal function</p>
<ul>
<li>Verifying the expression of the <i>InitializerRest</i> nonterminal symbol <em>r</em> must return a value where either whose static type includes the <code>values</code> proxy <em>proxy</em> or where whose static type is equals or a subtype of <code>Iterator.&lt;T&gt;</code>.</li>
<li>If <em>proxy</em> is not undefined, its signature must return <code>Iterator.&lt;T&gt;</code> or a subtype of <code>Iterator.&lt;T&gt;</code>.</li>
</ul>
<p>An element item corresponds to either an <i>Elision</i>, <i>AssignmentExpression</i><sup>allowIn</sup> or <i>InitializerRest</i>, from left-to-right.</p>
<p><em>AnyOrObject</em>(<em>ctxType</em>) internal matcher</p>
<ul>
<li>If <em>ctxType</em> is not one of { <code>*</code>, <code>Object</code>, <code>Object?</code>, <code>[*]</code>, <code>[*]?</code> }, return match failure.</li>
<li>For each element item <em>elem</em>
<ul>
<li>If <em>elem</em> is <i>InitializerRest</i>
<ul>
<li><em>VerifyRest</em>(<em>elem</em>, <code>*</code>)</li>
</ul>
</li>
<li>Else if <em>elem</em> is <i>AssignmentExpression</i><sup>allowIn</sup>
<ul>
<li>Verify <em>elem</em></li>
</ul>
</li>
</ul>
</li>
<li>Return a value of the <em>ctxType</em> type.</li>
</ul>
<p><em>Tuple</em>(<em>ctxType</em>) internal matcher</p>
<ul>
<li>If <em>ctxType</em> type is not <code>T</code> or <code>T?</code> where <code>T</code> is a tuple type, return match failure.</li>
<li>For each element index <em>i</em> element item <em>elem</em>
<ul>
<li>If <em>elem</em> is <i>,</i>
<ul>
<li>Throw a verify error</li>
</ul>
</li>
<li>Else if <em>elem</em> is <i>InitializerRest</i>
<ul>
<li>Throw a verify error</li>
</ul>
</li>
<li>Else if <em>elem</em> is <i>AssignmentExpression</i><sup>allowIn</sup>
<ul>
<li>It is a verify error if <em>i</em> is equals or greater than the element length of <code>T</code>.</li>
<li>Limit <em>elem</em> to the <em>i</em>th element type of <code>T</code>.</li>
</ul>
</li>
</ul>
</li>
<li>Return a value of the <em>ctxType</em> type.</li>
</ul>
<p>When verifying <em>ArrayInitializer</em>, if the context type is <code>[T]</code> or <code>[T]?</code>:</p>
<p><em>Array</em>(<em>ctxType</em>) internal matcher</p>
<ul>
<li>If <em>ctxType</em> type is not <code>[T]</code> or <code>[T]?</code>, return match failure.</li>
<li>For each element item <em>elem</em>
<ul>
<li>If <em>elem</em> is <i>,</i>
<ul>
<li>Throw a verify error</li>
</ul>
</li>
<li>Else if <em>elem</em> is <i>InitializerRest</i>
<ul>
<li><em>VerifyRest</em>(<em>elem</em>, <code>T</code>)</li>
</ul>
</li>
<li>Else if <em>elem</em> is <i>AssignmentExpression</i><sup>allowIn</sup>
<ul>
<li>Limit <em>elem</em> to <code>T</code> type.</li>
</ul>
</li>
</ul>
</li>
<li>Return a value of the <em>ctxType</em> type.</li>
</ul>
<p><em>SetEnum</em>(<em>ctxType</em>) internal matcher</p>
<ul>
<li>If <em>ctxType</em> type is not <code>E</code> or <code>E?</code> where <code>E</code> is a set enumeration, return match failure.</li>
<li>Let <em>c</em> be zero.</li>
<li>Let <em>isConst</em> be true.</li>
<li>For each element item <em>elem</em>*
<ul>
<li>If <em>elem</em> is <i>,</i>
<ul>
<li>Throw a verify error</li>
</ul>
</li>
<li>Else if <em>elem</em> is <i>InitializerRest</i>
<ul>
<li>Throw a verify error</li>
</ul>
</li>
<li>Else if <em>elem</em> is <i>AssignmentExpression</i><sup>allowIn</sup>
<ul>
<li>Let <em>c1</em> be the result of limiting <em>elem</em> to the <code>E</code> type.</li>
<li>If <em>c1</em> is an <code>enum</code> constant and <em>isConst</em> is true
<ul>
<li>Assign <em>c</em> = bitwise OR(<em>c</em>, number of <em>c1</em>)</li>
</ul>
</li>
<li>Else
<ul>
<li>Assign <em>isConst</em> = false</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>If <em>isConst</em> is true
<ul>
<li>Return an <code>enum</code> constant with number <em>c</em> and static type as <em>ctxType</em>.</li>
</ul>
</li>
<li>Return a value of the <em>ctxType</em> type.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xml-initializers"><a class="header" href="#xml-initializers">XML initializers</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>XMLInitializer</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLMarkup</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLElement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&lt;</b> <b>&gt;</b> <i>XMLElementContent</i> <b>&lt;/</b> <b>&gt;</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLElement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&lt;</b> <i>XMLTagContent</i> <i>XMLWhitespace</i><sub>opt</sub> <b>/&gt;</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&lt;</b> <i>XMLTagContent</i> <i>XMLWhitespace</i><sub>opt</sub> <b>&gt;</b> <i>XMLElementContent</i> <b>&lt;/</b> <i>XMLTagName</i> <i>XMLWhitespace</i><sub>opt</sub> <b>&gt;</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLTagContent</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLTagName</i> <i>XMLAttributes</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLTagName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>{</b> <i>AssignmentExpression</i><sup>allowIn</sup> <b>}</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLName</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLAttributes</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLWhitespace</i> <b>{</b> <i>AssignmentExpression</i><sup>allowIn</sup> <b>}</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLAttribute</i> <i>XMLAttributes</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLAttribute</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLWhitespace</i> <i>XMLName</i> <i>XMLWhitespace</i><sub>opt</sub> <b>=</b> <i>XMLWhitespace</i><sub>opt</sub> <b>{</b> <i>AssignmentExpression</i><sup>allowIn</sup> <b>}</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLWhitespace</i> <i>XMLName</i> <i>XMLWhitespace</i><sub>opt</sub> <b>=</b> <i>XMLWhitespace</i><sub>opt</sub> <i>XMLAttributeValue</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>XMLElementContent</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>{</b> <i>AssignmentExpression</i><sup>allowIn</sup> <b>}</b> <i>XMLElementContent</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLMarkup</i> <i>XMLElementContent</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLText</i> <i>XMLElementContent</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>XMLElement</i> <i>XMLElementContent</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>Interpolation expressions such as in <code>&lt;&gt;{x}&lt;/&gt;</code> result in string concatenation.</p>
<p><strong>Verification</strong></p>
<p><i>XMLInitializer</i> : <i>XMLMarkup</i></p>
<ul>
<li>Return a value of the <code>XML</code> type.</li>
</ul>
<p><i>XMLInitializer</i> : <i>XMLElement</i></p>
<ul>
<li>Verify the nonterminal symbol on right-hand side of the production.</li>
<li>Return a value of the <code>XML</code> type.</li>
</ul>
<p><i>XMLInitializer</i> : <b>&lt;</b> <b>&gt;</b> <i>XMLElementContent</i> <b>&lt;/</b> <b>&gt;</b></p>
<ul>
<li>Verify the <i>XMLElementContent</i> nonterminal.</li>
<li>Return a value of the <code>XMLList</code> type.</li>
</ul>
<p><i>XMLElement</i></p>
<ul>
<li>Verify every root <i>AssignmentExpression</i><sup>allowIn</sup>.</li>
</ul>
<p><i>XMLElementContent</i></p>
<ul>
<li>Verify every root <i>AssignmentExpression</i><sup>allowIn</sup>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="embed-expression"><a class="header" href="#embed-expression">Embed expression</a></h1>
<p>The embed expression is used to embed static files in the program at compile time. It may be used to embed a file either as a <code>ByteArray</code> object or as an UTF-8 encoded <code>String</code> text.</p>
<pre><code>const text = embed {
    source: "path/to/data.txt",
    type: String,
}
const byteArray = embed {
    source: "path/to/data.bin",
    type: ByteArray,
}
</code></pre>
<p>The embed expression allows resolving files from the JetPM output directory:</p>
<pre><code>const byteArray = embed {
    source: output + "auto/generated.bin",
    type: ByteArray,
}
</code></pre>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>EmbedExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>embed</b> <i>ObjectInitializer</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>The <em>ObjectInitializer</em> symbol as part of the <code>embed</code> expression is read as a compile-time description pointing to a file as the <code>source</code> property and its result type as the <code>type</code> property. The result type must be either <code>String</code> or <code>ByteArray</code>.</p>
<ul>
<li>A result type of <code>String</code> indicates that the file is read as an UTF-8 encoded text.</li>
<li>A result type of <code>ByteArray</code> indicates that the file is read as binary data.</li>
</ul>
<p>The <code>source</code> property of <em>ObjectInitializer</em> may be specified in one of the following forms:</p>
<ul>
<li>A <em>StringLiteral</em> production resolving to a file path (value of the <em>StringLiteral</em>) relative to the file path of the program.</li>
<li>An <strong>output</strong> <strong>+</strong> <em>StringLiteral</em> production resolving to a file path (value of the <em>StringLiteral</em>) relative to the JetPM output directory.</li>
</ul>
<p>If the result type is unspecified, it is set to the context type.</p>
<p><strong>Verification</strong></p>
<ul>
<li>It is a verify error if fields other than <code>source</code> and <code>type</code> are present.</li>
<li>It is a verify error if the <code>source</code> field is unspecified.</li>
<li>Let <em>filePath</em> be a string</li>
<li>If the <code>source</code> field consists of a <em>StringLiteral</em> production
<ul>
<li>Assign <em>filePath</em> = resolution from the file path of the source file to the file path specified by the <em>StringLiteral</em> string.</li>
</ul>
</li>
<li>Else if the <code>source</code> field consists of a <strong>output</strong> <strong>+</strong> <em>StringLiteral</em> production
<ul>
<li>Assign <em>filePath</em> = resolution from the JetPM output directory to the file path specified by the <em>StringLiteral</em> string.</li>
</ul>
</li>
<li>Else it is a verify error.</li>
<li>Let <em>resultType</em> be undefined.</li>
<li>Let <em>typeExp</em> be the refining of the value of the <code>type</code> field of <em>ObjectInitializer</em> into a <em>TypeExpression</em>.</li>
<li>Assign <em>resultType</em> = <em>ExpectType</em>(verification of <em>typeExp</em>)</li>
<li>If <em>resultType</em> is undefined, assign <em>resultType</em> = context type.</li>
<li><em>resultType</em> is converted to a non-nullable type if it is explicitly nullable.</li>
<li>It is a verify error if <em>resultType</em> is undefined or <em>resultType</em> is not one of { <code>ByteArray</code>, <code>String</code> }.</li>
<li>Let <em>v</em> be an <code>embed</code> value of type <em>resultType</em>.</li>
<li>If <em>resultType</em> is <code>ByteArray</code>
<ul>
<li>Let <em>content</em> be the bytes from the file path <em>filePath</em>.</li>
<li>Contribute <em>content</em> to <em>v</em>.</li>
</ul>
</li>
<li>Else if <em>resultType</em> is <code>String</code>
<ul>
<li>Let <em>content</em> be an UTF-8 encoded text from the file path <em>filePath</em>.</li>
<li>Contribute <em>content</em> to <em>v</em>.</li>
</ul>
</li>
<li>Return <em>v</em>.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="super-expression"><a class="header" href="#super-expression">Super expression</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>SuperExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>super</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>super</b> <i>Arguments</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="postfix-expressions"><a class="header" href="#postfix-expressions">Postfix expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>PostfixExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullPostfixExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ShortNewExpression</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>FullPostfixExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>PrimaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>MetaProperty</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullNewExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullPostfixExpression</i> <i>PropertyOperator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SuperExpression</i> <i>PropertyOperator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullPostfixExpression</i> <i>NonNull</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullPostfixExpression</i> <i>Arguments</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullPostfixExpression</i> <i>TypeArguments</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullPostfixExpression</i> <i>QueryOperator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullPostfixExpression</i> [no line break] <b>++</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullPostfixExpression</i> [no line break] <b>--</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullPostfixExpression</i> <i>OptionalChaining</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>NonNull</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>!</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>OptionalChaining</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>?.</b> <i>QualifiedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>?.</b> <i>Brackets</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>?.</b> <i>Arguments</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>OptionalChaining</i> <i>PropertyOperator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>OptionalChaining</i> <i>NonNull</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>OptionalChaining</i> <i>Arguments</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>OptionalChaining</i> <i>TypeArguments</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>OptionalChaining</i> <i>QueryOperator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>OptionalChaining</i> <i>OptionalChaining</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>Fully qualified names are preprocessed on postfix expressions by calling <a href="expressions/../fully-qualified-names.html#resolvefullyqualifiednamee"><em>ResolveFullyQualifiedName</em>(postfix expression)</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="property-accessors"><a class="header" href="#property-accessors">Property accessors</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>PropertyOperator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>.</b> <i>QualifiedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Brackets</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Brackets</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>[</b> <i>ListExpression</i><sup>allowIn</sup> <b>]</b></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="query-operators"><a class="header" href="#query-operators">Query operators</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>QueryOperator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>..</b> <i>QualifiedIdentifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>.</b> <b>(</b> <i>ListExpression</i><sup>allowIn</sup> <b>)</b></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="call-expressions"><a class="header" href="#call-expressions">Call expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>Arguments</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>(</b> <b>)</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>(</b> <i>ListExpression</i><sup>allowIn</sup> <b>)</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ArgumentList</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ArgumentList</i><sup>β</sup> <b>,</b> <i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>Call expression over a type base is equivalent to an explicit type conversion. In the following program, <code>v</code> is verified with the context type <code>T</code> and then explicitly converted to <code>T</code>.</p>
<pre><code>T(v)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="meta-properties"><a class="header" href="#meta-properties">Meta properties</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>MetaProperty</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ImportMeta</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ImportMeta</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>import</b> <b>.</b> <b>meta</b></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>The <code>import.meta</code> expression returns the <code>import.meta</code> value. The <code>import.meta</code> value has the any type (<code>*</code>) and returns <code>undefined</code> wherever used.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="new-expressions"><a class="header" href="#new-expressions">New expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>FullNewExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>new</b> <i>FullNewSubexpression</i> <i>Arguments</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>FullNewSubexpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>PrimaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullNewExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullNewSubexpression</i> <i>PropertyOperator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SuperExpression</i> <i>PropertyOperator</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ShortNewExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>new</b> <i>ShortNewSubexpression</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ShortNewSubexpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FullNewSubexpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ShortNewExpression</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>The new expression is used to instantiate a class.</p>
<p>The new expression may not be used to instantiate static classes and enumerations.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unary-expressions"><a class="header" href="#unary-expressions">Unary expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>UnaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>PostfixExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>delete</b> <i>PostfixExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>void</b> <i>UnaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>await</b> <i>UnaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>typeof</b> <i>UnaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>++</b> <i>PostfixExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>--</b> <i>PostfixExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>+</b> <i>UnaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>-</b> <i>UnaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>~</b> <i>UnaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>!</b> <i>UnaryExpression</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="binary-expressions"><a class="header" href="#binary-expressions">Binary expressions</a></h1>
<p>The binary operators are left-associative, excluding the following cases:</p>
<ul>
<li>The exponentiation operator is right-associative.</li>
</ul>
<p>The short circuit operators (<code>||</code>, <code>^^</code>) have the lowest precedence and the exponentiation operator (<code>**</code>) has the highest precedence.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exponentiation-expressions"><a class="header" href="#exponentiation-expressions">Exponentiation expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ExponentiationExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnaryExpression</i> <b>**</b> <i>ExponentiationExpression</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="multiplicative-expressions"><a class="header" href="#multiplicative-expressions">Multiplicative expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>MultiplicativeExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ExponentiationExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>MultiplicativeExpression</i> <b>*</b> <i>ExponentiationExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>MultiplicativeExpression</i> <b>/</b> <i>ExponentiationExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>MultiplicativeExpression</i> <b>%</b> <i>ExponentiationExpression</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="additive-expressions"><a class="header" href="#additive-expressions">Additive expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>AdditiveExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>MultiplicativeExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>AdditiveExpression</i> <b>+</b> <i>MultiplicativeExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>AdditiveExpression</i> <b>-</b> <i>MultiplicativeExpression</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="shift-expressions"><a class="header" href="#shift-expressions">Shift expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ShiftExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>AdditiveExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ShiftExpression</i> <b>&lt;&lt;</b> <i>AdditiveExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ShiftExpression</i> <b>&gt;&gt;</b> <i>AdditiveExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ShiftExpression</i> <b>&gt;&gt;&gt;</b> <i>AdditiveExpression</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="relational-expressions"><a class="header" href="#relational-expressions">Relational expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>RelationalExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ShiftExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RelationalExpression</i><sup>β</sup> <b>&gt;</b> <i>ShiftExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RelationalExpression</i><sup>β</sup> <b>&lt;</b> <i>ShiftExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RelationalExpression</i><sup>β</sup> <b>&lt;=</b> <i>ShiftExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RelationalExpression</i><sup>β</sup> <b>&gt;=</b> <i>ShiftExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RelationalExpression</i><sup>β</sup> <b>as</b> <i>ShiftExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RelationalExpression</i><sup>β</sup> <b>is</b> <i>ShiftExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RelationalExpression</i><sup>β</sup> <b>is not</b> <i>ShiftExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[β = allowIn] <i>RelationalExpression</i><sup>β</sup> <b>in</b> <i>ShiftExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[β = allowIn] <i>RelationalExpression</i><sup>β</sup> <b>not in</b> <i>ShiftExpression</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="equality-expressions"><a class="header" href="#equality-expressions">Equality expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>EqualityExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RelationalExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EqualityExpression</i><sup>β</sup> <b>==</b> <i>RelationalExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EqualityExpression</i><sup>β</sup> <b>!=</b> <i>RelationalExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EqualityExpression</i><sup>β</sup> <b>===</b> <i>RelationalExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EqualityExpression</i><sup>β</sup> <b>!==</b> <i>RelationalExpression</i><sup>β</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="bitwise-expressions"><a class="header" href="#bitwise-expressions">Bitwise expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>BitwiseAndExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EqualityExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BitwiseAndExpression</i><sup>β</sup> <b>&amp;</b> <i>EqualityExpression</i><sup>β</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>BitwiseXorExpression</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BitwiseAndExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BitwiseXorExpression</i><sup>β</sup> <b>^</b> <i>BitwiseAndExpression</i><sup>β</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>BitwiseOrExpression</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BitwiseXorExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BitwiseOrExpression</i><sup>β</sup> <b>|</b> <i>BitwiseXorExpression</i><sup>β</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="logical-expressions"><a class="header" href="#logical-expressions">Logical expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>LogicalAndExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BitwiseOrExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LogicalAndExpression</i><sup>β</sup> <b>&amp;&amp;</b> <i>BitwiseOrExpression</i><sup>β</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>LogicalXorExpression</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LogicalAndExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LogicalXorExpression</i><sup>β</sup> <b>^^</b> <i>LogicalAndExpression</i><sup>β</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>LogicalOrExpression</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LogicalXorExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LogicalOrExpression</i><sup>β</sup> <b>||</b> <i>LogicalXorExpression</i><sup>β</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="coalesce-expression"><a class="header" href="#coalesce-expression">Coalesce expression</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>CoalesceExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>CoalesceExpressionHead</i><sup>β</sup> <b>??</b> <i>BitwiseOrExpression</i><sup>β</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>CoalesceExpressionHead</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>CoalesceExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BitwiseOrExpression</i><sup>β</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="short-circuit-expressions"><a class="header" href="#short-circuit-expressions">Short circuit expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ShortCircuitExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LogicalOrExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>CoalesceExpression</i><sup>β</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="conditional-expressions"><a class="header" href="#conditional-expressions">Conditional expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ConditionalExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ShortCircuitExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ShortCircuitExpression</i><sup>β</sup> <b>?</b> <i>AssignmentExpression</i><sup>β</sup> <b>:</b> <i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="non-assignment-expressions"><a class="header" href="#non-assignment-expressions">Non assignment expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>NonAssignmentExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ShortCircuitExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>yield</b> [no line break] <i>NonAssignmentExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FunctionExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ShortCircuitExpression</i><sup>β</sup> <b>?</b> <i>NonAssignmentExpression</i><sup>β</sup> <b>:</b> <i>NonAssignmentExpression</i><sup>β</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="assignment-expressions"><a class="header" href="#assignment-expressions">Assignment expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ConditionalExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>yield</b> [no line break] <i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FunctionExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>AssignmentLeftHandSide</i> <b>=</b> <i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>PostfixExpression</i> <i>CompoundAssignmentPunctuator</i> <i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>PostfixExpression</i> <n>/=</b> <i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>AssignmentLeftHandSide</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ArrayDestructuring</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ObjectDestructuring</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>PostfixExpression</i> [but not <i>ArrayDestructuring</i> or <i>ObjectDestructuring</i>]</td>
    </tr>
</table>
<p><strong>Verification</strong></p>
<p><i>AssignmentExpression</i><sup>β</sup> : <i>ConditionalExpression</i><sup>β</sup></p>
<ul>
<li>Return the result of verifying the nonterminal symbol on right-hand side of the production.</li>
</ul>
<p><i>AssignmentExpression</i><sup>β</sup> : <i>FunctionExpression</i><sup>β</sup></p>
<ul>
<li>Return the result of verifying the nonterminal symbol on right-hand side of the production.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="function-expression"><a class="header" href="#function-expression">Function expression</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>FunctionExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>function</b> <i>FunctionCommon</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>function</b> <i>IdentifierName</i> <i>FunctionCommon</i><sup>β</sup></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>The <code>function</code> expression results in an object of a function type compliant to the function signature. The language does not perform type inference on function signatures.</p>
<pre><code>// 30
trace([10, 20].reduce(function(acc: Number, v: Number): Number (acc + v), 0));
</code></pre>
<p>A call to a function resulting from a <code>function</code> expression has implementation-defined behavior: the number of formal parameters may or may not be restricted to the number of call arguments.</p>
<p><strong>Verification</strong></p>
<p><i>FunctionExpression</i><sup>β</sup> : <b>function</b> <i>FunctionCommon</i><sup>β</sup><br>
<i>FunctionExpression</i><sup>β</sup> : <b>function</b> <i>IdentifierName</i> <i>FunctionCommon</i><sup>β</sup></p>
<ul>
<li>Let <em>act</em> be an activation scope.</li>
<li>Let <em>signature</em> be the result of verifying the <i>FunctionSignature</i> symbol within <i>FunctionCommon</i> by passing <em>act</em> as the activation scope <em>act</em>, therefore contributing properties to <em>act</em>.</li>
<li>Let <em>f</em> be a function.</li>
<li>If the <i>IdentifierName</i> symbol appears
<ul>
<li>Assign <em>f</em>[[<em>Name</em>]] = <i>IdentifierName</i> string</li>
</ul>
</li>
<li>Assign <em>f</em>[[<em>IsGenerator</em>]] = true if the <code>yield</code> operator appears within the function body or false otherwise</li>
<li>Assign <em>f</em>[[<em>IsAsync</em>]] = true if the <code>await</code> operator appears within the function body or false otherwise</li>
<li>Assign <em>f</em>[[<em>Signature</em>]] = <em>signature</em></li>
<li>Assign <em>act</em>[[<em>This</em>]] = (enclosing activation)[[<em>This</em>]] or undefined.</li>
<li>Assign <em>act</em>[[<em>Function</em>]] = <em>f</em></li>
<li>Assign <em>f</em>[[<em>Activation</em>]] = <em>act</em></li>
<li>If <em>f</em>[[<em>Name</em>]] is a non empty string
<ul>
<li>It is a verify error if <em>act</em>[[<em>Properties</em>]][<em>f</em>[[<em>Name</em>]]] is already defined.</li>
<li>Let <em>thisFunc</em> be a read-only variable of the <em>signature</em> type whose name is <em>f</em>[[<em>Name</em>]].</li>
<li>Assign <em>thisFunc</em>[[<em>ParentDefinition</em>]] = <em>act</em>.</li>
<li>Assign <em>act</em>[[<em>Properties</em>]][<em>f</em>[[<em>Name</em>]]] = <em>thisFunc</em>.</li>
</ul>
</li>
<li>Call <a href="expressions/../definitions/function-definition.html#verifyfunctionbody"><em>VerifyFunctionBody</em></a>(the <em>FunctionCommon</em> symbol, <em>act</em>, <em>f</em>, <em>signature</em>)</li>
<li>Return a <code>function</code> value of the <em>signature</em> type and <em>act</em> activation.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="list-expressions"><a class="header" href="#list-expressions">List expressions</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ListExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ListExpression</i><sup>β</sup> <b>,</b> <i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="destructuring-1"><a class="header" href="#destructuring-1">Destructuring</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>Destructuring</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i> [if keywords are enabled]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i> [if keywords are disabled]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ArrayDestructuring</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ObjectDestructuring</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Destructuring</i> <i>NonNull</i> [lookahead ∉ <i>NonNull</i>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ArrayDestructuring</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>[</b> <i>Elision</i><sub>opt</sub> <b>]</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>[</b> <i>DestructuringElementList</i> <b>]</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>[</b> <i>DestructuringElementList</i> <b>,</b> <i>Elision</i><sub>opt</sub> <b>]</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ObjectDestructuring</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>{</b> <i>DestructuringFields</i><sub>opt</sub> <b>}</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>{</b> <i>DestructuringFields</i> <b>, }</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TypedDestructuring</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Destructuring</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Destructuring</i> <b>:</b> <i>TypeExpression</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>DestructuringElementList</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Elision</i><sub>opt</sub> <i>Destructuring</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Elision</i><sub>opt</sub> <i>DestructuringRest</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DestructuringElementList</i> <b>,</b> <i>Elision</i><sub>opt</sub> <i>Destructuring</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DestructuringElementList</i> <b>,</b> <i>Elision</i><sub>opt</sub> <i>DestructuringRest</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>DestructuringRest</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>...</b> <i>Destructuring</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>DestructuringFields</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DestructuringField</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DestructuringFields</i> <b>,</b> <i>DestructuringField</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>DestructuringField</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FieldName</i> <i>NonNull</i><sub>opt</sub> <b>:</b> <i>Destructuring</i><sup>allowIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i> <i>NonNull</i><sub>opt</sub></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>Array destructuring is allowed for the following context types:</p>
<ul>
<li>Any type (<code>*</code>) — Yields <code>*</code> typed elements.</li>
<li><code>[T1, T2, ...]</code> type — Yields tuple reference values.</li>
<li>Classes defining a <code>getProperty</code> proxy that takes the <code>Number</code> type
<ul>
<li>Yields proxy reference values.</li>
<li>Destructuring assignments require a corresponding <code>setProperty</code> proxy in the same class.</li>
</ul>
</li>
</ul>
<pre><code>const [x, y, , ,] = a
</code></pre>
<p>Object destructuring is allowed for any context type, except <code>void</code>.</p>
<pre><code>const {x, y} = o
</code></pre>
<p><strong>Verification</strong></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="statements"><a class="header" href="#statements">Statements</a></h1>
<p>The <code>ω</code> superscript used throughout the document translates to one of the following names:</p>
<ul>
<li><code>abbrev</code></li>
<li><code>noShortIf</code></li>
<li><code>full</code></li>
</ul>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>Statement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SuperStatement</i> <i>Semicolon</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BlockAttributes</i><sub>opt</sub> <i>Block</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IfStatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SwitchStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DoStatement</i> <i>Semicolon</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>WhileStatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ForStatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>WithStatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ContinueStatement</i> <i>Semicolon</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BreakStatement</i> <i>Semicolon</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ReturnStatement</i> <i>Semicolon</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ThrowStatement</i> <i>Semicolon</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TryStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ExpressionStatement</i> <i>Semicolon</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>LabeledStatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DefaultXMLNamespaceStatement</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Substatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EmptyStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Statement</i><sup>ω</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Substatements</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SubstatementsPrefix</i> <i>Substatement</i><sup>abbrev</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>SubstatementsPrefix</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>SubstatementsPrefix</i> <i>Substatement</i><sup>full</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Semicolon</i><sup>abbrev</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>;</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>VirtualSemicolon</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Semicolon</i><sup>noShortIf</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Semicolon</i><sup>abbrev</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Semicolon</i><sup>full</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>;</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>VirtualSemicolon</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="empty-statement"><a class="header" href="#empty-statement">Empty statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>EmptyStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>;</b></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="expression-statement"><a class="header" href="#expression-statement">Expression statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ExpressionStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ∉ { <b>function</b>, <b>&#x7B;</b> }] <i>ListExpression</i><sup>allowIn</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="super-statement"><a class="header" href="#super-statement">Super statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>SuperStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>super</b> <i>Arguments</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="block-statement"><a class="header" href="#block-statement">Block statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>Block</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x7B;</b> <i>Directives</i> <b>&#x7D;</b></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>The block statement is allowed to contain only plain meta-data.</p>
<pre><code>[N1(n2 = 10)]
{
    trace("Log")
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="labeled-statement"><a class="header" href="#labeled-statement">Labeled statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>LabeledStatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i> <b>:</b> <i>Substatement</i><sup>ω</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="if-statement"><a class="header" href="#if-statement">If statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>IfStatement</i><sup>abbrev</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>if</b> <i>ParenListExpression</i> <i>Substatement</i><sup>abbrev</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>if</b> <i>ParenListExpression</i> <i>Substatement</i><sup>noShortIf</sup> <b>else</b> <i>Substatement</i><sup>abbrev</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>IfStatement</i><sup>full</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>if</b> <i>ParenListExpression</i> <i>Substatement</i><sup>full</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>if</b> <i>ParenListExpression</i> <i>Substatement</i><sup>noShortIf</sup> <b>else</b> <i>Substatement</i><sup>full</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>IfStatement</i><sup>noShortIf</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>if</b> <i>ParenListExpression</i> <i>Substatement</i><sup>noShortIf</sup> <b>else</b> <i>Substatement</i><sup>noShortIf</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="switch-statement"><a class="header" href="#switch-statement">Switch statement</a></h1>
<p>The switch statement is similiar to that of Java. Unlike in Java, the switch statement does not include fallthroughs.</p>
<p>A switch statement applied to a discriminant whose context type is an <code>enum</code> must be exhaustive and it must contain case elements matching all of the <code>enum</code> members.</p>
<pre><code>switch (item.category) {
    case "fine":
    case "moderate":
        trace("Fine")
    default:
        trace("Something else")
}
</code></pre>
<p>The <code>switch type</code> statement is used to match the type of a discriminant value.</p>
<pre><code>switch type (v) {
    case (d: Date) {
        // d: Date
    }
    default {
        // No matched case
    }
}
</code></pre>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>SwitchStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>switch</b> <i>ParenListExpression</i> <b>&#x7B;</b> <i>CaseElements</i><sup>abbrev</sup> <b>&#x7D;</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>switch</b> [no line break] <b>type</b> <i>ParenListExpression</i> <b>&#x7B;</b> <i>TypeCaseElements</i> <b>&#x7D;</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>CaseElements</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>CaseElement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>CaseElements</i><sup>full</sup> <i>CaseElement</i><sup>ω</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>CaseElement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>CaseLabel</i><sub>{1,}</sub> <i>CaseDirectives</i><sup>ω</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>CaseLabel</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>case</b> <i>ListExpression</i><sup>allowIn</sup> <b>:</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>default :</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>CaseDirectives</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Directive</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>CaseDirectives</i><sup>full</sup> <i>Directive</i><sup>ω</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TypeCaseElements</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeCaseElement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeCaseElements</i> <i>TypeCaseElement</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>TypeCaseElement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>case &#x28;</b> <i>TypedDestructuring</i> <b>&#x29;</b> <i>Block</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>default</b> <i>Block</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="do-statement"><a class="header" href="#do-statement">Do statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>DoStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>do</b> <i>Substatement</i><sup>abbrev</sup> <b>while</b> <i>ParenListExpression</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="while-statement"><a class="header" href="#while-statement">While statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>WhileStatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>while</b> <i>ParenListExpression</i> <i>Substatement</i><sup>ω</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="for-statements"><a class="header" href="#for-statements">For statements</a></h1>
<p>The <code>for..in</code> statement is used to iterate the keys of an object through the <code>keys</code> proxy.</p>
<pre><code>const map = new Map.&lt;*, *&gt;

for (const key in map) {
    trace(key)
}
</code></pre>
<p>The <code>for each</code> statement is used to either iterate the values of an <code>Iterator</code> implementor or iterate the values of an object through the <code>values</code> proxy.</p>
<pre><code>for each (const value in array) {
    trace(value)
}
</code></pre>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ForStatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>for &#x28;</b> <i>ForInitializer</i> <b>;</b> <i>ListExpression</i><sup>allowIn</sup><sub>opt</sub> <b>;</b> <i>ListExpression</i><sup>allowIn</sup><sub>opt</sub> <b>&#x29;</b> <i>Substatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>for &#x28;</b> <i>ForInBinding</i> <b>in</b> <i>ListExpression</i><sup>allowIn</sup> <b>&#x29;</b> <i>Substatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>for</b> [no line break] <b>each &#x28;</b> <i>ForInBinding</i> <b>in</b> <i>ListExpression</i><sup>allowIn</sup> <b>&#x29;</b> <i>Substatement</i><sup>ω</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ForInitializer</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ListExpression</i><sup>noIn</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>VariableDefinition</i><sup>noIn</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ForInBinding</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>PostfixExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>VariableDefinitionKind</i> <i>VariableBinding</i><sup>noIn</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="continue-statement"><a class="header" href="#continue-statement">Continue statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ContinueStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>continue</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>continue</b> [no line break] <i>Identifier</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="break-statement"><a class="header" href="#break-statement">Break statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>BreakStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>break</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>break</b> [no line break] <i>Identifier</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="with-statement"><a class="header" href="#with-statement">With statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>WithStatement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>with</b> <i>ParenListExpression</i> <i>Substatement</i><sup>ω</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="return-statement"><a class="header" href="#return-statement">Return statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ReturnStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>return</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>return</b> [no line break] <i>ListExpression</i><sup>allowIn</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="throw-statement"><a class="header" href="#throw-statement">Throw statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ThrowStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>throw</b> [no line break] <i>ListExpression</i><sup>allowIn</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="try-statement"><a class="header" href="#try-statement">Try statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>TryStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>try</b> <i>Block</i> <i>CatchClauses</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>try</b> <i>Block</i> <i>CatchClauses</i><sub>opt</sub> <b>finally</b> <i>Block</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>CatchClauses</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>CatchClause</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>CatchClauses</i> <i>CatchClause</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>CatchClause</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>catch &#x28;</b> <i>TypedDestructuring</i> <b>&#x29;</b> <i>Block</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="default-xml-namespace-statement"><a class="header" href="#default-xml-namespace-statement">Default XML namespace statement</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>DefaultXMLNamespaceStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>default</b> [no line break] <b>xml</b> [no line break] <b>namespace =</b> <i>NonAssignmentExpression</i><sup>allowIn</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="directives"><a class="header" href="#directives">Directives</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>Directive</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EmptyStatement</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Statement</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Attributes</i><sub>opt</sub> <i>AnnotatableDirective</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ImportDirective</i> <i>Semicolon</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ConfigurationDirective</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>AnnotatableDirective</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UseDirective</i> <i>Semicolon</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>VariableDefinition</i><sup>allowIn</sup> <i>Semicolon</i><sup>ω</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FunctionDefinition</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ClassDefinition</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>EnumDefinition</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>InterfaceDefinition</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypeDefinition</i> <i>Semicolon</i><sup>ω</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Directives</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DirectivesPrefix</i> <i>Directive</i><sup>abbrev</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>DirectivesPrefix</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>DirectivesPrefix</i> <i>Directive</i><sup>full</sup></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="attributes"><a class="header" href="#attributes">Attributes</a></h1>
<p>Attributes are in the sequence of meta-data followed by modifier keywords.</p>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>Attributes</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Attribute</i> <i>AttributeLineBreakRestriction</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>AttributeCombination</i> <i>AttributeLineBreakRestriction</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>AttributeCombination</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Attribute</i> <i>AttributeLineBreakRestriction</i> <i>Attributes</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>BlockAttributes</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Metadata</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>BlockAttributes</i> <i>Metadata</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>AttributeLineBreakRestriction</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[no line break if the previous and offending tokens match an <i>IdentifierName</i>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Attribute</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Metadata</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>public</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>private</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>protected</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>internal</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>proxy</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>final</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>native</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>static</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>abstract</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>override</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Metadata</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>MetadataPreRestriction</i> <b>&#x5B;</b> <i>AssignmentExpression</i><sup>allowIn</sup> <b>&#x5D;</b>&#x5D;</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>MetadataPreRestriction</i> <b>&#x5B;</b> <i>AssignmentExpression</i><sup>allowIn</sup> <i>MetadataTrailingComma</i> <b>&#x5D;</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>MetadataPreRestriction</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[if the <i>Metadata</i> is in the beginning of <i>Attributes</i> or if the <i>Metadata</i> appears before an <i>IdentifierName</i> in <i>Attributes</i>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>MetadataTrailingComma</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>,</b> [if the <i>Metadata</i> is the first occurrence in <i>Attributes</i> or <i>BlockAttributes</i>]</td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="configuration-directive"><a class="header" href="#configuration-directive">Configuration directive</a></h1>
<p>The <code>configuration</code> directive expands blocks to the enclosing block or context if their compile time condition matches.</p>
<pre><code>configuration {
    if (debug) {
        trace("Running in debug mode.")
    } else {
        trace("Running in release mode.")
    }
}
</code></pre>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ConfigurationDirective</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>configuration</b> <b>&#x7B;</b> <i>ConfigurationSubdirective</i> <b>&#x7D;</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ConfigurationSubdirective</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Block</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>if (</b> <i>ConfigurationExpression</i> <b>)</b> <i>Block</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>if (</b> <i>ConfigurationExpression</i> <b>)</b> <i>Block</i> <b>else</b> <i>ConfigurationSubdirective</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ConfigurationExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ConfigurationPrimaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ConfigurationPrimaryExpression</i> <b>&&</b> <i>ConfigurationExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ConfigurationPrimaryExpression</i> <b>||</b> <i>ConfigurationExpression</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ConfigurationPrimaryExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ConfigurationConstant</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ConfigurationConstant</i> <i>ConfigurationEquality</i> <i>Identifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ConfigurationConstant</i> <i>ConfigurationEquality</i> <i>StringLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>(</b> <i>ConfigurationExpression</i> <b>)</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>!</b> <i>ConfigurationPrimaryExpression</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ConfigurationConstant</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i> <b>::</b> <i>IdentifierName</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ConfigurationEquality</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>=</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>!=</b></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="import-directive"><a class="header" href="#import-directive">Import directive</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ImportDirective</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>import</b> <i>PackageName</i> <b>. *</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>import</b> <i>PackageName</i> <b>.</b> <i>IdentifierName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>import</b> <i>Identifier</i> <b>=</b> <i>PackageName</i> <b>. *</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>import</b> <i>Identifier</i> <b>=</b> <i>PackageName</i> <b>.</b> <i>IdentifierName</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>An <code>import p.*</code> directive contributes the <code>p</code> package to (current scope)[[<em>OpenPackages</em>]].</p>
<pre><code>package p { public var x }
import p.*
p.x
x
</code></pre>
<p>An <code>import p.x</code> directive contributes the <code>x</code> property of the <code>p</code> package to (current scope)[[<em>Imports</em>]]. It is a verify error if <a href="directives/../visibility.html#propertyisvisible"><em>PropertyIsVisible</em></a>(<strong>p.x</strong>, current scope) is false.</p>
<pre><code>package p { public var x }
import p.x
p.x
x
</code></pre>
<p>An <code>import p2 = p1.*</code> directive contributes an alias <strong>p2</strong> of the package <code>p1</code> to (current scope)[[<em>PackageAliases</em>]].</p>
<pre><code>package p1 { public var x }
import p2 = p1.*
var x
p2.x
x
</code></pre>
<p>An <code>import y = p.x</code> directive assigns (current scope)[[<em>Properties</em>]][<strong>y</strong>] an alias <strong>y</strong> of the <code>x</code> property of the <code>p</code> package.</p>
<ul>
<li>It is a verify error if (current scope)[[<em>Properties</em>]][<strong>y</strong>] already exists before the assignment.</li>
<li>It is a verify error if <a href="directives/../visibility.html#propertyisvisible"><em>PropertyIsVisible</em></a>(<strong>p.x</strong>, current scope) is false.</li>
</ul>
<pre><code>package p { public var x }
import y = p.x
y
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="use-directive"><a class="header" href="#use-directive">Use directive</a></h1>
<p>The <code>use</code> directive is used to export definitions from another package to the enclosing package.</p>
<pre><code>package p1 {}
package p2 { public use p1.* }
</code></pre>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>UseDirective</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>use</b> <i>PackageName</i> <b>. *</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>use</b> <i>PackageName</i> <b>.</b> <i>IdentifierName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>use</b> <i>Identifier</i> <b>=</b> <i>PackageName</i> <b>.</b> <i>IdentifierName</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>An <code>use</code> directive must be directly enclosed by a <code>package</code> scope and must contain the <code>public</code> attribute.</p>
<p>A <code>public use p.*</code> directive contributes the <code>p</code> package to (enclosing package)[[<em>RedirectPackages</em>]].</p>
<pre><code>package p1 { public var x }
package p2 { public use p1.* }
</code></pre>
<p>A <code>public use p.x</code> directive assigns (enclosing packages)[[<em>Properties</em>]][<strong>x</strong>] an alias <strong>x</strong> of the <code>x</code> property of the <code>p</code> package.</p>
<ul>
<li>It is a verify error if (enclosing packages)[[<em>Properties</em>]][<strong>x</strong>] is already defined before the assignment.</li>
<li>It is a verify error if <a href="directives/../visibility.html#propertyisvisible"><em>PropertyIsVisible</em></a>(<strong>p.x</strong>, current scope) is false.</li>
</ul>
<pre><code>package p1 { public var x }
package p2 { public use p1.x }
</code></pre>
<p>A <code>public use y = p.x</code> directive assigns (enclosing package)[[<em>Properties</em>]][<strong>y</strong>] an alias <strong>y</strong> of the <code>x</code> property of the <code>p</code> package.</p>
<ul>
<li>It is a verify error if (enclosing package)[[<em>Properties</em>]][<strong>y</strong>] is already defined before the assignment.</li>
<li>It is a verify error if <a href="directives/../visibility.html#propertyisvisible"><em>PropertyIsVisible</em></a>(<strong>p.x</strong>, current scope) is false.</li>
</ul>
<pre><code>package p1 { public var x }
package p2 { public use y = p1.x }
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="definitions"><a class="header" href="#definitions">Definitions</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="variable-definition"><a class="header" href="#variable-definition">Variable definition</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>VariableDefinition</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>VariableDefinitionKind</i> <i>VariableBindingList</i><sup>β</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>VariableDefinitionKind</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>var</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>const</b></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>VariableBindingList</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>VariableBinding</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>VariableBindingList</i><sup>β</sup> <b>,</b> <i>VariableBinding</i><sup>β</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>VariableBinding</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypedDestructuring</i> <i>VariableInitialization</i><sup>β</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>VariableInitialization</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>=</b> <i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p><em>Local variables</em>: variables of an activation are block-scoped and shadow any previous definition.</p>
<pre><code>const v: String = ""
const v: Number = 0
</code></pre>
<p><em>Type inference:</em> If a variable has no type annotation and has an initializer, its static type is that of the initializer. If a variable has no type annotation and no initializer, the variable is of the any type (<code>*</code>).</p>
<pre><code>// x: *
var x
// x: Number
var x = 10

for (var k in ["x", "y"]) {
    // k: *
}

function f(a) {
    // a: *
}
</code></pre>
<p>A <em>VariableDefinition</em> may be modified by the following attributes:</p>
<div class="table-wrapper"><table><thead><tr><th>Attribute</th><th>Description</th></tr></thead><tbody>
<tr><td><code>static</code></td><td>Adds property to the enclosing class's [[<em>StaticProperties</em>]] internal property.</td></tr>
<tr><td><code>public</code></td><td>Uses the <code>public</code> visibility</td></tr>
<tr><td><code>private</code></td><td>Uses the <code>private</code> visibility</td></tr>
<tr><td><code>protected</code></td><td>Uses the <code>protected</code> visibility</td></tr>
<tr><td><code>internal</code></td><td>Uses the <code>internal</code> visibility (default)</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="function-definition"><a class="header" href="#function-definition">Function definition</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>FunctionDefinition</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>function</b> <i>FunctionName</i> <i>TypeParameters</i><sub>opt</sub> <i>FunctionCommon</i><sup>allowIn</sup></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>A <em>FunctionDefinition</em> may be modified by the following attributes:</p>
<div class="table-wrapper"><table><thead><tr><th>Attribute</th><th>Description</th></tr></thead><tbody>
<tr><td><code>static</code></td><td>Adds property to the enclosing class's [[<em>StaticProperties</em>]] internal property.</td></tr>
<tr><td><code>final</code></td><td>Designates a final instance method.</td></tr>
<tr><td><code>override</code></td><td>Overrides a base class method.</td></tr>
<tr><td><code>abstract</code></td><td>Designates an abstract instance method.</td></tr>
<tr><td><code>native</code></td><td>Designates a native function with native stub.</td></tr>
<tr><td><code>proxy</code></td><td>Designates a proxy method.</td></tr>
<tr><td><code>public</code></td><td>Uses the <code>public</code> visibility. Default if at <code>interface</code> block.</td></tr>
<tr><td><code>private</code></td><td>Uses the <code>private</code> visibility</td></tr>
<tr><td><code>protected</code></td><td>Uses the <code>protected</code> visibility</td></tr>
<tr><td><code>internal</code></td><td>Uses the <code>internal</code> visibility. Default if not at <code>interface</code> block.</td></tr>
</tbody></table>
</div>
<p>A getter or setter function must not contain <em>TypeParameters</em>.</p>
<p>An interface method may contain meta-data, but must not contain any other attributes.</p>
<p>A proxy method must not contain a visibility attribute.</p>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>FunctionName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>get</b> [no line break] <i>IdentifierName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>set</b> [no line break] <i>IdentifierName</i></td>
    </tr>
</table>
<p><em>FunctionName</em> is used inside <em>FunctionDefinition</em>.</p>
<pre><code>function f(): void {}

function get x(): Number (impl.x)

function set x(v: Number): void { impl.x = v }
</code></pre>
<h2 id="function-body"><a class="header" href="#function-body">Function body</a></h2>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>FunctionCommon</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FunctionSignature</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FunctionSignature</i> [lookahead ∉ { <b>&#x7B;</b> }] <i>AssignmentExpression</i><sup>β</sup></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>FunctionSignature</i> <i>Block</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>Interface methods may specify or omit the body.</p>
<pre><code>interface I {
    function f1();
    function f2() {}
}
</code></pre>
<p>Functions that are not interface methods and are marked <code>native</code> or <code>abstract</code> must omit the body.</p>
<pre><code>native function f();
class C {
    abstract function f();
}
</code></pre>
<p>Functions that are not interface methods and are not marked <code>native</code> or <code>abstract</code> must specify the body.</p>
<pre><code>function f() {}
</code></pre>
<h2 id="function-signature"><a class="header" href="#function-signature">Function signature</a></h2>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>FunctionSignature</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>(</b> <i>Parameters</i> <b>)</b> <i>ResultType</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>ResultType</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>:</b> <i>TypeExpression</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p><em>Constructor restrictions</em>: A constructor must not specify <em>ResultType</em>.</p>
<pre><code>class C {
    function C() {}
}
</code></pre>
<p><em>Getter restrictions</em>: A getter signature must contain no parameters. If there is a corresponding setter, that setter must take a parameter of the exact same type as the result type of the getter.</p>
<pre><code>function get x() 10
</code></pre>
<p><em>Setter restrictions</em>: A setter signature must contain exactly one parameter and return <code>void</code>. If there is a corresponding getter, that getter must return the exact same type as the first parameter type of the setter.</p>
<pre><code>function set x(v) {}
</code></pre>
<p><em>Type inference</em>: The constructor and setter signatures always return <code>void</code>. The default result type of a signature is the any type (<code>*</code>).</p>
<pre><code>class C {
    function C() {
        // Signature of this constructor is "function(): void"
    }
}

function set x(v) {
    // Signature of this setter is "function(v: *): void"
}

function f() {
    // Signature of this function is "function(): *"
}
</code></pre>
<h2 id="parameter-list"><a class="header" href="#parameter-list">Parameter list</a></h2>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>Parameters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NonemptyParameters</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>NonemptyParameters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Parameter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Parameter</i> <b>,</b> <i>NonemptyParameters</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RestParameter</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>Parameter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypedDestructuring</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>TypedDestructuring</i> <b>=</b> <i>AssignmentExpression</i><sup>allowIn</sup></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>RestParameter</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>...</b> <i>TypedDestructuring</i></td>
    </tr>
</table>
<h2 id="verifyfunctionbody"><a class="header" href="#verifyfunctionbody">VerifyFunctionBody()</a></h2>
<p>The <em>VerifyFunctionBody</em>(<em>body</em>, <em>act</em>, <em>f</em>, <em>signature</em>) internal function takes the following steps:</p>
<ul>
<li>If <em>body</em> contains an <i>AssignmentExpression</i><sup>β</sup> symbol <em>exp</em>
<ul>
<li>Enter the <em>act</em> scope.</li>
<li>Let <code>T</code> be <em>signature</em>[[<em>ResultType</em>]].</li>
<li>If <em>f</em> is a generator
<ul>
<li>Assign <code>T</code> = <code>void</code></li>
</ul>
</li>
<li>Else if <em>f</em> is an asynchronous function
<ul>
<li>Assign <code>T</code> = first type argument or type parameter of <code>T</code></li>
</ul>
</li>
<li>Limit <em>exp</em> to <code>T</code>.</li>
<li>Exit scope.</li>
</ul>
</li>
<li>Else if <em>body</em> contains a <em>Block</em> symbol
<ul>
<li>Enter the <em>act</em> scope.</li>
<li>Verify the <i>Block</i> symbol.</li>
<li>Let <em>cf</em> be the analysis of the control flow of the <i>Block</i> symbol of <em>body</em>.</li>
<li>If <em>signature</em>[[<em>ResultType</em>]] is not one of { any type (<code>*</code>), <code>void</code> } and <em>f</em> is not a generator and <em>f</em> is not an asynchronous function where <em>signature</em>[[<em>ResultType</em>]] ∈ { <code>Promise.&lt;*&gt;</code>, <code>Promise.&lt;void&gt;</code> } and not all paths of <em>cf</em> end in either a <code>return</code> or <code>throw</code> statement
<ul>
<li>Throw a verify error</li>
</ul>
</li>
<li>Exit scope.</li>
</ul>
</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="class-definition"><a class="header" href="#class-definition">Class definition</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ClassDefinition</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>class</b> <i>IdentifierName</i> <i>TypeParameters</i><sub>opt</sub> <i>Inheritance</i> <i>Block</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p><em>Nesting</em>: nested classes are not allowed. Classes are only allowed in package blocks and top-level blocks.</p>
<h2 id="class-attributes"><a class="header" href="#class-attributes">Class attributes</a></h2>
<p>A class definition may be modified by the following attributes:</p>
<div class="table-wrapper"><table><thead><tr><th>Attribute</th><th>Description</th></tr></thead><tbody>
<tr><td><code>static</code></td><td>Designates a static class.</td></tr>
<tr><td><code>final</code></td><td>Designates a final class.</td></tr>
<tr><td><code>abstract</code></td><td>Designates an abstract class.</td></tr>
<tr><td><code>public</code></td><td>Uses the <code>public</code> visibility</td></tr>
<tr><td><code>internal</code></td><td>Uses the <code>internal</code> visibility (default)</td></tr>
<tr><td><code>[Literal]</code></td><td>Designates a class that may be constructed by an object initializer.</td></tr>
</tbody></table>
</div>
<h2 id="class-inheritance"><a class="header" href="#class-inheritance">Class inheritance</a></h2>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>Inheritance</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>extends</b> <i>TypeExpression</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>implements</b> <i>TypeExpressionList</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>extends</b> <i>TypeExpression</i> <b>implements</b> <i>TypeExpressionList</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="enum-definition"><a class="header" href="#enum-definition">Enum definition</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>EnumDefinition</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>enum</b> <i>IdentifierName</i> <i>EnumRepresentation</i><sub>opt</sub> <i>Block</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>EnumRepresentation</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>as</b> <i>TypeExpression</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>An enum definition may be modified by the following attributes:</p>
<div class="table-wrapper"><table><thead><tr><th>Attribute</th><th>Description</th></tr></thead><tbody>
<tr><td><code>public</code></td><td>Uses the <code>public</code> visibility</td></tr>
<tr><td><code>internal</code></td><td>Uses the <code>internal</code> visibility (default)</td></tr>
<tr><td><code>[Set]</code></td><td>Designates a set enumeration.</td></tr>
</tbody></table>
</div>
<p><em>Nesting</em>: nested enums are not allowed. Enums are only allowed in package blocks and top-level blocks.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interface-definition"><a class="header" href="#interface-definition">Interface definition</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>InterfaceDefinition</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>interface</b> <i>IdentifierName</i> <i>TypeParameters</i><sub>opt</sub> <i>ExtendsList</i> <i>Block</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p>The interface block must only contain function definitions.</p>
<p><em>Nesting</em>: nested interfaces are not allowed. Interfaces are only allowed in package blocks and top-level blocks.</p>
<h2 id="interface-attributes"><a class="header" href="#interface-attributes">Interface attributes</a></h2>
<p>Interface definitions may be modified by the following attributes:</p>
<div class="table-wrapper"><table><thead><tr><th>Attribute</th><th>Description</th></tr></thead><tbody>
<tr><td><code>public</code></td><td>Uses the <code>public</code> visibility</td></tr>
<tr><td><code>internal</code></td><td>Uses the <code>internal</code> visibility (default)</td></tr>
</tbody></table>
</div>
<h2 id="interface-inheritance"><a class="header" href="#interface-inheritance">Interface inheritance</a></h2>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>ExtendsList</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>«empty»</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>extends</b> <i>TypeExpressionList</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="type-definition"><a class="header" href="#type-definition">Type definition</a></h1>
<p>A type definition is used to alias an existing type.</p>
<pre><code>type D = Map.&lt;Long, String&gt;
</code></pre>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>TypeDefinition</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>type</b> <i>IdentifierName</i> <b>=</b> <i>TypeExpression</i></td>
    </tr>
</table>
<p><strong>Semantics</strong></p>
<p><em>Nesting</em>: nested type definitions are not allowed. Type definitions are only allowed in package blocks and top-level blocks.</p>
<h2 id="type-definition-attributes"><a class="header" href="#type-definition-attributes">Type definition attributes</a></h2>
<p>Type definitions may be modified by the following attributes:</p>
<div class="table-wrapper"><table><thead><tr><th>Attribute</th><th>Description</th></tr></thead><tbody>
<tr><td><code>public</code></td><td>Uses the <code>public</code> visibility</td></tr>
<tr><td><code>internal</code></td><td>Uses the <code>internal</code> visibility (default)</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="package-definition"><a class="header" href="#package-definition">Package definition</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>PackageDefinition</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>package</b> <i>PackageName</i><sub>opt</sub> <i>Block</i></td>
    </tr>
</table>
<p>A <em>PackageDefinition</em> may be used in a <em>Program</em> before any <em>Directive</em> that is not a <em>PackageDefinition</em> is used.</p>
<pre><code>package p {
    public class A {}
    public interface I {}
}
package q {
    public var x: Number = 10
    public function f(): void {}
}
import p.*
import q.f
import y = q.x
class B extends A implements I {}
q.f()
trace(x)
</code></pre>
<h2 id="package-name"><a class="header" href="#package-name">Package name</a></h2>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>PackageName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>PackageName</i> <b>.</b> <i>IdentifierName</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="program-definition"><a class="header" href="#program-definition">Program definition</a></h1>
<p><strong>Syntax</strong></p>
<table>
    <tr>
        <td colspan="2"><i>Program</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Directives</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>PackageDefinition</i> <i>Program</i></td>
    </tr>
</table>
<pre><code>package p {
    public function f(): void {}
}
package q {
    public function f(): void {}
}
p.f()
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jetdoc"><a class="header" href="#jetdoc">JetDoc</a></h1>
<p>The Jet Language supports JetDoc comments featuring a Markdown format and miscellaneous <code>@</code> tags. In addition, JetPM packages may contain a JetDoc configuration file for attaching assets and additional sections.</p>
<p>JetDoc comments begin with <code>/**</code> and are preprocessed by ignoring leading whitespace and asterisks in every line and follow the following format:</p>
<pre><code>/**
 * Main body.
 */
</code></pre>
<p>The main body of a JetDoc comment, if non-empty, contains a first sentence which spans from the first character to the period character.</p>
<p>When preprocessing whitespace of a JetDoc comment, code blocks retain indentation based on the prefixing line characters:</p>
<ul>
<li>If the line starts with zero or more whitespace characters followed by asterisk (<code>*</code>) followed by a single whitespace character, the indentantion level starts from after that last single whitespace character.</li>
<li>If the line starts with zero or more whitespace characters followed by asterisk (<code>*</code>), the indentantion level starts from after the asterisk character.</li>
<li>Otherwise, the indentation level starts at the first character of the line.</li>
</ul>
<h2 id="supported-tags"><a class="header" href="#supported-tags">Supported tags</a></h2>
<h3 id="default"><a class="header" href="#default">@default</a></h3>
<p>The <code>@default</code> tag specifies a default value for a property in character form.</p>
<pre><code>package {
    /**
     * @default 0x09
     */
    public var x: Number = 0x09;
}
</code></pre>
<h3 id="deprecated"><a class="header" href="#deprecated">@deprecated</a></h3>
<pre><code>/**
 * @deprecated
 */

/**
 * @deprecated Message.
 */
</code></pre>
<h3 id="event"><a class="header" href="#event">@event</a></h3>
<p>Event sections begin with an <code>@event</code> tag and may be supplemented by <code>@eventType</code>.</p>
<pre><code>package {
    import air.events.Event;
    import air.events.EventDispatcher;

    /**
     * @event eventName1 Description.
     *
     * @event eventName2 Description.
     * @eventType Event.EVENT
     *
     * @event eventName3 Description.
     * @eventType Event
     */
    public class ExampleEventDispatcher extends EventDispatcher {}
}
</code></pre>
<h3 id="eventtype"><a class="header" href="#eventtype">@eventType</a></h3>
<p>The <code>@eventType</code> tag supplements the <code>@event</code> tag by specifying either:</p>
<ul>
<li>The class that represents the event.</li>
<li>A constant that identifies the event.</li>
</ul>
<p>The class or constant reference inherits the surrounding scope.</p>
<h3 id="example"><a class="header" href="#example">@example</a></h3>
<pre><code>package {
    /**
     * @example
     * ```
     * new C
     * ```
     */
    public class C {}
}
</code></pre>
<h3 id="image"><a class="header" href="#image">@image</a></h3>
<p>The <code>@image</code> tag loads an image relative to the directory of the source file and saves it to the same JetDoc output directory of the containing package with the same filename.</p>
<pre><code>/**
 * @image path/to/file
 */
</code></pre>
<h3 id="internal"><a class="header" href="#internal">@internal</a></h3>
<p>The <code>@internal</code> tag is used to add an internal comment.</p>
<pre><code>package {
    /**
     * @internal Enhance this class later.
     */
    public class C {}
}
</code></pre>
<h3 id="param"><a class="header" href="#param">@param</a></h3>
<pre><code>/**
 * @param paramName Description.
 */
</code></pre>
<h3 id="private"><a class="header" href="#private">@private</a></h3>
<p>The <code>@private</code> tag omits a definition from the JetDoc public documentation and omits it from autocomplete lists in the language server protocol.</p>
<pre><code>package expert.core {
    /**
     * @private
     */
    public var x: Number = 10
}
</code></pre>
<h3 id="return"><a class="header" href="#return">@return</a></h3>
<pre><code>/**
 * @return Description.
 */
</code></pre>
<h3 id="see"><a class="header" href="#see">@see</a></h3>
<p>The <code>@see</code> tag references a definition, with optional display text.</p>
<pre><code>/**
 * @see id
 * @see id Display text
 * @see C#x
 * @see C#x Display text
 */
</code></pre>
<p>A <code>#name</code> sequence in the end of a reference indicates an instance property or method.</p>
<p>The reference inherits the surrounding scope.</p>
<h3 id="throws"><a class="header" href="#throws">@throws</a></h3>
<p>The <code>@throws</code> tag indicates a thrown error by reference, with optional display text.</p>
<pre><code>/**
 * @throws Error
 * @throws Error Description
 */
</code></pre>
<p>The reference inherits the surrounding scope.</p>
<h2 id="future-supported-tags"><a class="header" href="#future-supported-tags">Future supported tags</a></h2>
<p>The <code>@copy</code> and <code>@inheritDoc</code> tags are planned for the future in JetDoc, which involve copying a JetDoc comment from another definition respectively. This requires the JetDoc compiler to update anchor links to point to the right location.</p>
<p><code>@copy</code> is planned to allow using a <code>#x</code> fragment to refer to instance properties and methods.</p>
<h2 id="configuration-file"><a class="header" href="#configuration-file">Configuration file</a></h2>
<p>The optional <code>jetdoc.json</code> file, located at the root directory of the JetPM package allows attaching assets and sections to the documentation.</p>
<p>The following JSON demonstrates an example <code>jetdoc.json</code> file:</p>
<pre><code class="language-json">{
    "path": "docs",
    "files": [
        "**/*.png",
        "**/*.svg",
        "**/*.jpg",
    ],
    "home": {
        "title": "My package",
        "path": "home.md",
    },
    "sections": [
        {
            "title": "Foo",
            "path": "foo.md",
            "sections": []
        }
    ]
}
</code></pre>
<h3 id="path-property"><a class="header" href="#path-property">path property</a></h3>
<p>The top-level <code>path</code> property specifies the base path for resolving paths referenced in the top-level <code>files</code> property and in each section.</p>
<h3 id="files-property"><a class="header" href="#files-property">files property</a></h3>
<p>The top-level <code>files</code> property contains zero or more file paths using a match pattern. Files are resolved from the directory specified by the top-level <code>path</code> property.</p>
<h3 id="home-property"><a class="header" href="#home-property">home property</a></h3>
<p>The optional top-level <code>home</code> property specifies a home section.</p>
<h3 id="sections-property"><a class="header" href="#sections-property">sections property</a></h3>
<p>The top-level <code>sections</code> property specifies zero or more sections other than the optional home section.</p>
<p>A section may specify the following properties:</p>
<ul>
<li><code>title</code> (required) — The section title as a string.</li>
<li><code>path</code> (required) — The path to the Markdown document of the section, relative to the directory specified by the top-level <code>path</code> property.</li>
<li><code>sections</code> (optional) — A list of subsections.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="language-library"><a class="header" href="#language-library">Language library</a></h1>
<p>The <code>jet.lang.*</code> package defines all of the language's standard definitions such as <code>Number</code>, <code>String</code> and <code>undefined</code>.</p>
<blockquote>
<p><strong>Note</strong>: This section is incomplete in the present.</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
