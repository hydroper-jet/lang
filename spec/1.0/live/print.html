<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>JetWork Language Specification</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="overview.html"><strong aria-hidden="true">1.</strong> Overview</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="overview/example-programs.html"><strong aria-hidden="true">1.1.</strong> Example programs</a></li><li class="chapter-item "><a href="overview/package-manager.html"><strong aria-hidden="true">1.2.</strong> Package manager</a></li><li class="chapter-item "><a href="overview/compilation.html"><strong aria-hidden="true">1.3.</strong> Compilation and transpilation</a></li><li class="chapter-item "><a href="overview/string-encoding.html"><strong aria-hidden="true">1.4.</strong> String encoding</a></li><li class="chapter-item "><a href="overview/exceptions.html"><strong aria-hidden="true">1.5.</strong> Exceptions</a></li><li class="chapter-item "><a href="overview/nullability.html"><strong aria-hidden="true">1.6.</strong> Nullability</a></li><li class="chapter-item "><a href="overview/proxy.html"><strong aria-hidden="true">1.7.</strong> Proxy</a></li><li class="chapter-item "><a href="overview/j4x.html"><strong aria-hidden="true">1.8.</strong> JetWork for XML</a></li><li class="chapter-item "><a href="overview/jetxml.html"><strong aria-hidden="true">1.9.</strong> JetXML</a></li></ol></li><li class="chapter-item "><a href="notation.html"><strong aria-hidden="true">2.</strong> Notation</a></li><li class="chapter-item "><a href="lexical-structure.html"><strong aria-hidden="true">3.</strong> Lexical structure</a></li><li class="chapter-item "><a href="types.html"><strong aria-hidden="true">4.</strong> Types</a></li><li class="chapter-item "><a href="type-conversions.html"><strong aria-hidden="true">5.</strong> Type conversions</a></li><li class="chapter-item "><a href="visibility.html"><strong aria-hidden="true">6.</strong> Visibility</a></li><li class="chapter-item "><a href="packages.html"><strong aria-hidden="true">7.</strong> Packages</a></li><li class="chapter-item "><a href="variables.html"><strong aria-hidden="true">8.</strong> Variables</a></li><li class="chapter-item "><a href="virtual-properties.html"><strong aria-hidden="true">9.</strong> Virtual properties</a></li><li class="chapter-item "><a href="functions.html"><strong aria-hidden="true">10.</strong> Functions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="functions/instance-methods.html"><strong aria-hidden="true">10.1.</strong> Instance methods</a></li><li class="chapter-item "><a href="functions/interface-methods.html"><strong aria-hidden="true">10.2.</strong> Interface methods</a></li><li class="chapter-item "><a href="functions/getters-and-setters.html"><strong aria-hidden="true">10.3.</strong> Getters and setters</a></li><li class="chapter-item "><a href="functions/constructors.html"><strong aria-hidden="true">10.4.</strong> Constructors</a></li><li class="chapter-item "><a href="functions/proxies.html"><strong aria-hidden="true">10.5.</strong> Proxies</a></li></ol></li><li class="chapter-item "><a href="generics.html"><strong aria-hidden="true">11.</strong> Generics</a></li><li class="chapter-item "><a href="metadata.html"><strong aria-hidden="true">12.</strong> Meta-data</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="metadata/reserved-metadata.html"><strong aria-hidden="true">12.1.</strong> Reserved meta-data</a></li><li class="chapter-item "><a href="metadata/decorator-metadata.html"><strong aria-hidden="true">12.2.</strong> Decorator meta-data</a></li><li class="chapter-item "><a href="metadata/plain-metadata.html"><strong aria-hidden="true">12.3.</strong> Plain meta-data</a></li></ol></li><li class="chapter-item "><a href="aliases.html"><strong aria-hidden="true">13.</strong> Aliases</a></li><li class="chapter-item "><a href="enum.html"><strong aria-hidden="true">14.</strong> Enumerations</a></li><li class="chapter-item "><a href="classes.html"><strong aria-hidden="true">15.</strong> Classes</a></li><li class="chapter-item "><a href="interfaces.html"><strong aria-hidden="true">16.</strong> Interfaces</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">JetWork Language Specification</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p align="center">
  <img alt="JetWork Icon" src="assets/icon.png" width="100">
</p>
<h1 id="overview"><a class="header" href="#overview">Overview</a></h1>
<p>JetWork is a flexible, productive, robust, strongly typed, object-oriented, multi-purpose scripting language.</p>
<p>JetWork is influenced by other languages, including ActionScript, Haxe and Rust. The language is designed such that it is possible to develop platform scalable projects, and allows for native extensions to be implemented without difficulty.</p>
<h2 id="native-extensions"><a class="header" href="#native-extensions">Native extensions</a></h2>
<p>The language allows libraries known as <em>native extensions</em> to be developed through the combination of <a href="metadata/plain-metadata.html">plain meta-data</a> and <a href="overview/package-manager.html#conditional-configuration">conditional configuration</a>.</p>
<p>Plain meta-data allow embedding arbitrary files with binary content, such as dynamic-link libraries, as well as textual files such as application descriptors.</p>
<p>Conditional configuration is used solely at the package manifest of a JetWork project and allows including program sources and dependencies in a conditional way.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="example-programs"><a class="header" href="#example-programs">Example programs</a></h1>
<h2 id="simple-functions"><a class="header" href="#simple-functions">Simple functions</a></h2>
<pre><code>public function isEven(argument: BigInt): Boolean (
    argument % 2 == 0
);

trace(isEven(11));

// https://en.wikipedia.org/wiki/Heron%27s_formula
public function triangleArea(a: Number, b: Number, c: Number): Number {
    const s = (a + b + c) / 2;
    return (s * (s - a) * (s - b) * (s - c)) ** 0.5;
}

trace(triangleArea(5, 6, 7));
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="package-manager"><a class="header" href="#package-manager">Package manager</a></h1>
<p>The language is integrated with JetPM, a package manager with support for vital features:</p>
<ul>
<li>workspaces;</li>
<li>specifying a dependency through a directory path;</li>
<li>registry namespaces.</li>
</ul>
<h2 id="build-process"><a class="header" href="#build-process">Build process</a></h2>
<p>The package manifest represents a JetWork project, and locates its sources; therefore, the package manager is able to build a project through a simple command such as <code>jetpm build</code>, resulting into a bytecode artifact.</p>
<p>Here is an example package manifest:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;org.q.f&quot;,
    &quot;version&quot;: &quot;0.1.0&quot;,
    &quot;compilerOptions&quot;: {
        &quot;includeSources&quot;: [&quot;src&quot;]
    }
}
</code></pre>
<h2 id="registry-namespaces"><a class="header" href="#registry-namespaces">Registry namespaces</a></h2>
<p>Registry namespaces allow distinguishing dependencies from different platforms; without registry namespaces, the registry can get cluttered over time and working with different platforms can be a confusing experience.</p>
<p>A particular package can only depend in two registry namespaces: <code>*</code> and another optional registry namespace specified by the package manifest's top-level <code>registryNamespace</code> option. The <code>*</code> registry namespace indicates that the package does not rely on a platform.</p>
<p>Here is an example of a potential package manifest that uses <code>http://www.w3.org/web</code> as its registry namespace:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    &quot;id&quot;: &quot;org.q.f&quot;,
    &quot;version&quot;: &quot;0.1.0&quot;,
    &quot;registryNamespace&quot;: &quot;http://www.w3.org/web&quot;,
    &quot;dependencies&quot;: {
        &quot;*&quot;: {
            &quot;org.collada.fileFormats&quot;: &quot;1.0.0&quot;
        },
        &quot;http://www.w3.org/web&quot;: {
            &quot;goog.g&quot;: &quot;1.0.0&quot;
        }
    }
}
</code></pre>
<p>Note that registry namespaces are only defined by the registry and not by the developers. This decision prevents accidental mistyping of registry namespace URIs and prevents cluttering of the registry with arbitrary registry namespaces.</p>
<h2 id="conditional-configuration"><a class="header" href="#conditional-configuration">Conditional configuration</a></h2>
<p>The package manager supports configuration constants that allow for conditional configuration within a manifest through the top-level <code>conditional</code> property. The matching options are combined and overriden properly in top-down sequence, including the program sources and the package dependencies.</p>
<p>The conditions in <code>conditional</code> support a minimal conditional language:</p>
<ul>
<li><code>constant</code> — If constant is present</li>
<li><code>constant=value</code> — If constant is equals <code>&quot;value&quot;</code></li>
<li><code>!expression</code> — If condition is false</li>
<li><code>(expression)</code> — Parenthesized condition</li>
<li><code>primaryExpression &amp;&amp; primaryExpression</code> — If conditions are true</li>
<li><code>primaryExpression || primaryExpression</code> — If one condition is true</li>
<li>The root condition is in one of the forms:
<ul>
<li><code>always</code></li>
<li><code>if (condition)</code></li>
<li><code>else if (condition)</code></li>
<li><code>else</code></li>
</ul>
</li>
</ul>
<p>Here is an example package manifest using the <code>conditional</code> setting:</p>
<p><strong>package.json</strong></p>
<pre><code class="language-json">{
    &quot;conditional&quot;: [
        [&quot;always&quot;, {
            &quot;compilerOptions&quot;: {
                &quot;includeSources&quot;: [&quot;src/base&quot;]
            }
        }],
        [&quot;if (air::target=ios)&quot;, {
            &quot;compilerOptions&quot;: {
                &quot;includeSources&quot;: [&quot;src/platform/ios&quot;]
            }
        }],
        [&quot;else&quot;, {
            &quot;compilerOptions&quot;: {
                &quot;includeSources&quot;: [&quot;src/platform/unsupported&quot;]
            }
        }],
        [&quot;always&quot;, {
            &quot;compilerOptions&quot;: {
                &quot;includeSources&quot;: [&quot;src/facade&quot;]
            }
        }]
    ]
}
</code></pre>
<p>Here are example JetPM commands passing configuration constants:</p>
<pre><code class="language-plain">jetpm build --define someConstant
jetpm build --define air::target=ios
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="compilation-and-transpilation"><a class="header" href="#compilation-and-transpilation">Compilation and transpilation</a></h1>
<p>JetWork compiles to the JetWork Virtual Machine Bytecode, which, in turn, can be compiled to other languages or be executed by a virtual machine.</p>
<p>JetWork can be both compiled to native code and transpiled to another object-oriented high-level language.</p>
<h2 id="number-overflow"><a class="header" href="#number-overflow">Number overflow</a></h2>
<p>Operations whose result cannot be represented due to range limit cause a number overflow, such as <code>Int.MAX_VALUE + 1</code>. The result of a number overflow is implementation defined.</p>
<h2 id="platform-specific-operations"><a class="header" href="#platform-specific-operations">Platform-specific operations</a></h2>
<p>It is allowed for platforms that compile the bytecode form into another form to define specific external operations as <code>native</code> functions.</p>
<p>For example, for interoperability between the JetWork and Lua languages during a transpilation process, it may be required to support specific operations to compute table indices and access the Lua environment.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="string-encoding"><a class="header" href="#string-encoding">String encoding</a></h1>
<p>The String data type uses an implementation-defined encoding and is supported by a <code>CharIndex</code> data type representing an index into a <code>String</code>.</p>
<h2 id="slicing"><a class="header" href="#slicing">Slicing</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Method call</th><th>Description</th></tr></thead><tbody>
<tr><td><code>string.slice(string.firstIndex.next(1))</code></td><td>Slices string from second character</td></tr>
<tr><td><code>string.slice(0, string.firstIndex.next(3))</code></td><td>Takes first three characters from a string</td></tr>
<tr><td><code>string.slice(0, string.lastIndex.next(-4))</code></td><td>Slices string until last 4 characters</td></tr>
</tbody></table>
</div>
<h2 id="characters"><a class="header" href="#characters">Characters</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Method call</th><th>Description</th></tr></thead><tbody>
<tr><td><code>string.chars().length()</code></td><td>The character count</td></tr>
<tr><td><code>string.length</code></td><td>The string length in the encoding units. For UTF-8, it is the number of bytes.</td></tr>
<tr><td><code>string.isEmpty</code>, <code>string == &quot;&quot;</code></td><td>Whether the string is empty or not</td></tr>
</tbody></table>
</div>
<h2 id="miscellaneous"><a class="header" href="#miscellaneous">Miscellaneous</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody>
<tr><td><code>string.charAt(i)</code></td><td>Character at <em>i</em></td></tr>
<tr><td><code>for each (const ch in string) {}</code></td><td>Iterates every character</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="exceptions"><a class="header" href="#exceptions">Exceptions</a></h1>
<p>JetWork supports checked exceptions and fatal exceptions. Fatal exceptions are not caught by user code in JetWork.</p>
<pre><code>function task(): void throws RangeError {
    throw new RangeError(&quot;Error&quot;);
}
fatalError(&quot;Fatal error&quot;);
</code></pre>
<p>Functions that throw checked exceptions must be immediately used in one the following ways:</p>
<ul>
<li>within a <code>f()?</code> expression;</li>
<li>within a <code>f()!</code> expression;</li>
<li>within a <code>f() ?? v</code> expression.</li>
</ul>
<pre><code>// Turn any checked exception into a fatal exception
task()!;

function task2(): void throws RangeError {
    // Propagate any exception from task() to task2
    task()?;
}

task2()!;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nullability"><a class="header" href="#nullability">Nullability</a></h1>
<p>The <code>Optional.&lt;T&gt;</code> class is the primary way of working with nullable data.</p>
<ul>
<li>The nullish coalescing operator returns the right operand if the left operand is <code>undefined</code>.</li>
</ul>
<pre><code>public class ExampleClass {
    public const data: Optional.&lt;Number&gt;;
    public function ExampleClass(data: Optional.&lt;Number&gt;) {
        this.data = data;
    }
    public function doubleIt(): ExampleClass (
        new ExampleClass((this.data ?? 0) * 2)
    );
}
// 0
trace(new ExampleClass(undefined).doubleIt().data);
// 20
trace(new ExampleClass(10).doubleIt().data);
</code></pre>
<ul>
<li>The non-erroneous assertion operator ensures the operand is not <code>undefined</code> and not an exception.</li>
</ul>
<pre><code>// Fatal exception
trace(new ExampleClass(undefined).data!);
</code></pre>
<ul>
<li>For <code>Optional.&lt;T&gt;</code>, the error propagation operator returns <code>undefined</code> from the enclosing function or containing <code>try</code> expression if the operand is <code>undefined</code>.</li>
</ul>
<pre><code>public function process(a: Optional.&lt;Number&gt;): Optional.&lt;String&gt; (
    a?.toString(16)
);
</code></pre>
<h2 id="transparency"><a class="header" href="#transparency">Transparency</a></h2>
<p>The representation of the <code>Optional.&lt;T&gt;</code> type varies across implementations:</p>
<ul>
<li>The <code>Optional.&lt;T&gt;</code> type is equivalent to a nullable reference as in ActionScript.
<ul>
<li>ActionScript transpilation may consider interning primitive values into a weak dictionary.</li>
</ul>
</li>
<li>The <code>v is Optional.&lt;T&gt;</code> expression has implementation-defined behavior. Programmers should not rely on such expression.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proxy"><a class="header" href="#proxy">Proxy</a></h1>
<p>JetWork operators can be customized through <em>proxies</em>.</p>
<p>Proxies are special methods defined with the <code>proxy</code> attribute. Here is an example class that overrides the addition operator:</p>
<pre><code>public final class AdditiveExample {
    public const value: Number;
    public function AdditiveExample(value: Number) {
        this.value = value;
    }
    proxy function add(right: AdditiveExample): AdditiveExample (
        new AdditiveExample(this.value + right.value);
    );
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jetwork-for-xml"><a class="header" href="#jetwork-for-xml">JetWork for XML</a></h1>
<p>JetWork for XML (J4X) adds XML capabilities to the JetWork language. It is based on the legacy ECMAScript for XML standard (ECMA-357 second edition).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jetxml"><a class="header" href="#jetxml">JetXML</a></h1>
<p>JetWork supports classes in XML form called <em>JetXML</em>. A JetXML is a file with the extension <code>.jetxml</code>.</p>
<ul>
<li>A JetXML class extends another class based in the root XML element.</li>
<li>A JetXML class specifies its fully package qualified class name in the <code>className</code> attribute of the root XML element.</li>
<li>XML namespaces identify JetWork packages, except for the <code>jetxml</code> XML namespace.</li>
<li>XML attributes apply to instance properties.</li>
<li>A JetXML constructor is only allowed to receive optional parameters.</li>
<li>Classes in the same package are visible within tags.</li>
</ul>
<p>Here is an example JetXML:</p>
<p><strong>Example.jetxml</strong></p>
<pre><code class="language-xml">&lt;k:Container xmlns:fx=&quot;jetxml&quot; xmlns:k=&quot;org.k&quot; className=&quot;org.example.Example&quot;&gt;
    &lt;fx:Script&gt;
        &lt;![CDATA[
            public var exampleProperty: Number = Infinity;
        ]]&gt;
    &lt;/fx:Script&gt;
    &lt;k:Container&gt;
        &lt;AnotherExample/&gt;
    &lt;/k:Container&gt;
&lt;/k:Container&gt;
</code></pre>
<p>For the given example, <code>k:Container</code> inherits from the following abstract <code>Node</code> class from <code>org.k</code>:</p>
<pre><code>package org.k {
    import jetxml.JetXML;
    public abstract class Node implements JetXML { /* ... */ }
}
</code></pre>
<p>Explanatory comments:</p>
<ul>
<li>The example Example.jetxml file defines a class that inherits from the <code>k:Container</code> class.</li>
<li>The instance variable <code>exampleProperty</code> declared within the <code>fx:Script</code> tag automatically alters the rendering status of the <code>Example</code> instance when the direct value of the <code>exampleProperty</code> property is updated by an assignment; that is, assignments to <code>exampleProperty</code> are implicitly followed by a <code>node.jetxmlStatus = &quot;outdated&quot;;</code> assignment.</li>
<li>The <code>jetxmlStatus</code> property may be used to cause a new rendering of the node on a next frame iteration.</li>
<li>The <code>jetxmlStatus</code> property as defined by the <code>JetXML</code> interface is allowed to emit an event when assigned.</li>
</ul>
<h2 id="data-bindings"><a class="header" href="#data-bindings">Data bindings</a></h2>
<p>JetXML may support data bindings in the future. Data bindings allow connecting property values through events.</p>
<h2 id="fxchildren"><a class="header" href="#fxchildren">&lt;fx:Children/&gt;</a></h2>
<p>The empty <code>&lt;fx:Children/&gt;</code> tag, where <code>fx</code> is the namespace <code>jetxml</code>, may appear anywhere in a JetXML file to indicate where to add the tag's children:</p>
<pre><code class="language-xml">&lt;k:Container xmlns:fx=&quot;jetxml&quot; xmlns:k=&quot;org.k&quot; className=&quot;org.example.Example&quot;&gt;
    &lt;k:Container&gt;
        &lt;k:Container&gt;
            &lt;fx:Children/&gt;
        &lt;/k:Container&gt;
    &lt;/k:Container&gt;
&lt;/k:Container&gt;
</code></pre>
<h2 id="fxscript"><a class="header" href="#fxscript">&lt;fx:Script&gt;</a></h2>
<p>The <code>&lt;fx:Script&gt;</code> tag, where <code>fx</code> is the namespace <code>jetxml</code>, may appear anywhere in the top-level of a JetXML file to attach code to the class and its outer package.</p>
<p>There are two forms of <code>fx:Script</code>:</p>
<ul>
<li><code>&lt;fx:Script&gt;</code> — Attaches code to the class block.</li>
<li><code>&lt;fx:Script package=&quot;true&quot;&gt;</code> — Attaches code to the class's package.</li>
</ul>
<p>Here is an example attaching code to the class's package:</p>
<pre><code class="language-xml">&lt;k:Container xmlns:fx=&quot;jetxml&quot; xmlns:k=&quot;org.k&quot; className=&quot;org.example.Example&quot;&gt;
    &lt;fx:Script package=&quot;true&quot;&gt;
        &lt;![CDATA[
            public type ExampleAlias = [String, Boolean];
        ]]&gt;
    &lt;/fx:Script&gt;
&lt;/k:Container&gt;
</code></pre>
<h2 id="initialization"><a class="header" href="#initialization">Initialization</a></h2>
<p>JetWork imposes no restrictions for the JetXML constructor and it may be defined as a normal constructor:</p>
<pre><code class="language-xml">&lt;k:Container xmlns:fx=&quot;jetxml&quot; xmlns:k=&quot;org.k&quot; className=&quot;org.example.Example&quot;&gt;
    &lt;fx:Script&gt;
        &lt;![CDATA[
            public function Example() {
                super();
            }
        ]]&gt;
    &lt;/fx:Script&gt;
&lt;/k:Container&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="notation"><a class="header" href="#notation">Notation</a></h1>
<h2 id="grammar-definition"><a class="header" href="#grammar-definition">Grammar definition</a></h2>
<p>This document uses the following notation to define productions of a <em>nonterminal</em> of the grammar:</p>
<table>
    <tr>
        <td colspan="2"><i>NonterminalName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Rule1</i> <i>RuleN</i></td>
    </tr>
</table>
<p>Nonterminals followed by the <sub>opt</sub> subscript are optional rules.</p>
<p>A bracketed clause or predicate may appear between the rules of a production, such as in:</p>
<table>
    <tr>
        <td colspan="2"><i>NonterminalName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ∈ {<b>0</b>}] <i>Rule1</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[lookahead ∉ {<b>default</b>}] <i>Rule2</i></td>
    </tr>
        <td>&nbsp;</td><td><i>SourceCharacters</i> [but no embedded <b>&lt;!&#x5b;CDATA&#x5b;</b>] <i>Rule3</i></td>
    </tr>
</table><div style="break-before: page; page-break-before: always;"></div><h1 id="lexical-structure"><a class="header" href="#lexical-structure">Lexical structure</a></h1>
<table>
    <tr>
        <td colspan="2"><i>InputElementDiv</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ReservedWord</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Punctuator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NumericLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>StringLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Comment</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>InputElementRegExp</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Identifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>ReservedWord</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Punctuator</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>/</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>/=</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>NumericLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>StringLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>RegularExpressionLiteral</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>Comment</i></td>
    </tr>
</table>
<h2 id="escape-sequences"><a class="header" href="#escape-sequences">Escape sequences</a></h2>
<table>
    <tr>
        <td colspan="2"><i>UnicodeEscapeSequence</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5c;u</b> <i>HexDigit</i> <i>HexDigit</i> <i>HexDigit</i> <i>HexDigit</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>&#x5c;u</b> <b>&#x7b;</b> <i>HexDigits</i> <b>&#x7d;</b></td>
    </tr>
</table>
<h2 id="identifier"><a class="header" href="#identifier">Identifier</a></h2>
<table>
    <tr>
        <td colspan="2"><i>Identifier</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i> [but not <i>ReservedWord</i>]</td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>IdentifierName</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierStart</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>IdentifierName</i> <i>IdentifierPart</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>IdentifierStart</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Letter property (“L”) from Unicode]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Letter number property (“Nl”) from Unicode]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Decimal Digit Number property (“Nd”) from Unicode]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>_</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>$</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeEscapeSequence</i></td>
    </tr>
</table>
<table>
    <tr>
        <td colspan="2"><i>IdentifierPart</i></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Letter property (“L”) from Unicode]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Letter number property (“Nl”) from Unicode]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Nonspacing Mark property (“Mn”) from Unicode]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Spacing Combining Mark property (“Mc”) from Unicode]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Connector Punctuation property (“Pc”) from Unicode]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td>[Decimal Digit Number property (“Nd”) from Unicode]</td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>_</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><b>$</b></td>
    </tr>
    <tr>
        <td>&nbsp;</td><td><i>UnicodeEscapeSequence</i></td>
    </tr>
</table>
<h2 id="reserved-words"><a class="header" href="#reserved-words">Reserved words</a></h2>
<p><em>ReservedWord</em> includes the following reserved words:</p>
<pre><code class="language-plain">as
do
if
in
is

for
new
not
use
try
var

else
this
true
void
with

await
break
catch
class
const
false
super
throw
while
yield

delete
import
public
return
switch
throws
typeof

extends
finally
package
private

continue
function
internal

interface
protected

implements
</code></pre>
<p><em>ReservedWord</em> includes <em>FutureReservedWord</em>. <em>FutureReservedWord</em> is one of the following:</p>
<pre><code class="language-plain">export
</code></pre>
<p><em>ReservedWord</em> includes <em>ContextKeyword</em>. <em>ContextKeyword</em> is one of the following in certain syntactic contexts:</p>
<pre><code class="language-plain">get
set
xml

each
enum
from
meta
type

embed
final
never
proxy
where

native
static

abstract
override

namespace
undefined
</code></pre>
<h2 id="punctuators"><a class="header" href="#punctuators">Punctuators</a></h2>
<p><em>Punctuator</em> includes one of the following:</p>
<pre><code class="language-plain">::  @
.  ..  ...
(  )  [  ]  {  }
:  ;  ,
?  !  =  =&gt;
&lt;  &lt;=
&gt;  &gt;=
==  ===
!=  !==
+  -  *  /  %  **
++  --
&lt;&lt;  &gt;&gt;  &gt;&gt;&gt;
&amp;  ^  |  ~
&amp;&amp;  ^^  ||  ??
</code></pre>
<p><em>Punctuator</em> includes <em>CompoundAssignmentPunctuator</em>. <em>CompoundAssignmentPunctuator</em> is one of the following:</p>
<pre><code class="language-plain">+=  -=  *=  /=  %=  **=
&lt;&lt;=  &gt;&gt;=  &gt;&gt;&gt;=  &amp;=  ^=  |=
&amp;&amp;=  ^^=  ||=
??=
</code></pre>
<h2 id="numeric-literal"><a class="header" href="#numeric-literal">Numeric literal</a></h2>
<p><em>NumericLiteral</em> is similiar to <em>NumericLiteral</em> from the ECMA-262 third edition, with support for binary literals:</p>
<pre><code class="language-plain">0b1011
</code></pre>
<h2 id="regular-expression-literal"><a class="header" href="#regular-expression-literal">Regular expression literal</a></h2>
<p><em>RegularExpressionLiteral</em> is similiar to <em>RegularExpressionLiteral</em> from the ECMA-262 third edition, with support for line breaks.</p>
<h2 id="string-literal"><a class="header" href="#string-literal">String literal</a></h2>
<p><em>StringLiteral</em> is similiar to <em>StringLiteral</em> from the ECMA-262 third edition, with additional features:</p>
<ul>
<li>scalar <em>UnicodeEscapeSequence</em> using the <code>\u{...}</code> form;</li>
<li>triple string literals.</li>
</ul>
<p>Triple string literals use either <code>&quot;&quot;&quot;</code> or <code>'''</code> as delimiter and may span multiple lines. The contents of triple string literals are indentation-based, as can be observed in the following code:</p>
<pre><code>const text = &quot;&quot;&quot;
    Have a
    nice day!
    &quot;&quot;&quot;;
assert(text == &quot;Have a\nnice day!&quot;);
</code></pre>
<p>Triple string literals are processed as follows:</p>
<ul>
<li>the first empty line is ignored;</li>
<li>the base indentation of a triple string literal is that of the last string line.</li>
</ul>
<h2 id="comment"><a class="header" href="#comment">Comment</a></h2>
<p><em>Comment</em> is similiar to <em>Comment</em> from the ECMA-262 third edition, with support for nested multi-line comments.</p>
<pre><code>/*
 * /*
 *  *
 *  */
 */
</code></pre>
<h2 id="j4x"><a class="header" href="#j4x">J4X</a></h2>
<p>J4X defines <em>InputElementXMLTag</em> and <em>InputElementXMLContent</em> based on the ECMA-357 second edition.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="types"><a class="header" href="#types">Types</a></h1>
<h2 id="primitive-types"><a class="header" href="#primitive-types">Primitive types</a></h2>
<p>JetWork considers the following to be primitive types:</p>
<ul>
<li><code>undefined</code> type, or the equivalent <code>void</code></li>
<li>Number types</li>
<li><code>Boolean</code> type</li>
<li><code>String</code> type</li>
<li><code>Char</code> type</li>
<li><code>CharIndex</code> type</li>
</ul>
<h2 id="default-value"><a class="header" href="#default-value">Default value</a></h2>
<p>The default value of a type is determined as follows:</p>
<ul>
<li>If the type is <code>undefined</code>, return <code>undefined</code>.</li>
<li>If the type is <code>Optional</code>, return <code>undefined</code>.</li>
<li>If the type is a number type, return zero.</li>
<li>If the type is <code>Boolean</code>, return false.</li>
<li>If the type is <code>String</code>, return the empty string.</li>
<li>If the type is <code>Char</code>, return U+0000.</li>
<li>If the type is <code>CharIndex</code>, return (<em>empty string</em>, <em>zero</em>).</li>
<li>For any other type, return no default value.</li>
</ul>
<h2 id="auto-boxing"><a class="header" href="#auto-boxing">Auto boxing</a></h2>
<p>The language performs auto boxing of primitive types. Primitive types are represented in a memory efficient way wherever available, including within an <code>Array</code>.</p>
<p>Primitive types are boxed without duplicating identity:</p>
<pre><code>var x: Object = 10
var y: Object = 10

// true
x == y
</code></pre>
<h2 id="any-type"><a class="header" href="#any-type">Any type</a></h2>
<p>The <code>*</code> type contains values from all other types.</p>
<h2 id="undefined-type"><a class="header" href="#undefined-type">Undefined type</a></h2>
<p>The <code>undefined</code> or <code>void</code> type consists of the <code>undefined</code> constant.</p>
<h2 id="never-type"><a class="header" href="#never-type">Never type</a></h2>
<p>The <code>never</code> type contains no value.</p>
<h2 id="number-types"><a class="header" href="#number-types">Number types</a></h2>
<p><em>IEEE 754 floating point</em>:</p>
<ul>
<li><code>Number</code> — Double-precision floating point</li>
<li><code>Single</code> — Single-precision floating point</li>
</ul>
<p><em>Signed integer</em>:</p>
<ul>
<li><code>BigInt</code> — Arbitrary range integer</li>
<li><code>Long</code> — Ranges from -2<sup>64 - 1</sup> to 2<sup>64 - 1</sup> - 1 (64-bit)</li>
<li><code>Int</code> — Ranges from -2<sup>32 - 1</sup> to 2<sup>32 - 1</sup> - 1 (32-bit)</li>
<li><code>Short</code> — Ranges from -2<sup>16 - 1</sup> to 2<sup>16 - 1</sup> - 1 (16-bit)</li>
<li><code>Byte</code> — Ranges from -2<sup>8 - 1</sup> to 2<sup>8 - 1</sup> - 1 (8-bit)</li>
</ul>
<p><em>Unsigned integer</em>:</p>
<ul>
<li><code>UnsignedLong</code> — Ranges from 0 to 2<sup>64</sup> - 1 (64-bit)</li>
<li><code>UnsignedInt</code> — Ranges from 0 to 2<sup>32</sup> - 1 (32-bit)</li>
<li><code>UnsignedShort</code> — Ranges from 0 to 2<sup>16</sup> - 1 (16-bit)</li>
<li><code>UnsignedByte</code> — Ranges from 0 to 2<sup>8</sup> - 1 (8-bit)</li>
</ul>
<h2 id="boolean-type"><a class="header" href="#boolean-type">Boolean type</a></h2>
<p>The <code>Boolean</code> type consists of the values <code>false</code> and <code>true</code>.</p>
<h2 id="string-type"><a class="header" href="#string-type">String type</a></h2>
<p>The <code>String</code> type consists of a sequence of Unicode Scalar Values whose encoding is implementation-defined.</p>
<h2 id="char-type"><a class="header" href="#char-type">Char type</a></h2>
<p>The <code>Char</code> type is a Unicode Scalar Value.</p>
<h2 id="charindex-type"><a class="header" href="#charindex-type">CharIndex type</a></h2>
<p>The <code>CharIndex</code> type is a group (<em>string</em>, <em>index</em>) where <em>string</em> is a <code>String</code> and <em>index</em> is an <code>UnsignedInt</code> identifying a zero based index into <em>string</em>.</p>
<h2 id="function-types"><a class="header" href="#function-types">Function types</a></h2>
<p>Function types consist of zero or more parameters, a return type annotation and zero or more exception types. Function types appear in the forms:</p>
<pre><code>(a: T) =&gt; E
(a?: T) =&gt; E
(...a: [T]) =&gt; E
() =&gt; E throws E1, EN
</code></pre>
<ul>
<li>Function types inherit from the <code>Function</code> class.</li>
<li>Each parameter is either a required, optional or rest parameter.</li>
<li>The allowed parameter list is a list of zero or more required parameters followed by zero or more optional parameters followed by an optional rest parameter.</li>
<li>The rest parameter must appear at most once.</li>
<li>The rest parameter must be of type <code>Array</code>.</li>
<li>A trailing <code>throws</code> clause is used to indicate exceptions that the function throws.</li>
</ul>
<h2 id="tuple-types"><a class="header" href="#tuple-types">Tuple types</a></h2>
<p>Tuple types are in the form <code>[T1, T2, ...TN]</code>.</p>
<h2 id="optional-type"><a class="header" href="#optional-type">Optional type</a></h2>
<p>The <code>Optional.&lt;T&gt;</code> type is an union of <code>undefined</code> and <code>T</code>. <code>Optional.&lt;T&gt;</code> may be expressed as <code>Optional.&lt;T&gt;</code>, <code>T?</code>, or <code>?T</code>.</p>
<p>It is not allowed for <code>T</code> to be of the <code>Optional</code> type.</p>
<pre><code>// Error
type O = Optional.&lt;Optional.&lt;T&gt;&gt;;
</code></pre>
<h2 id="array-type"><a class="header" href="#array-type">Array type</a></h2>
<p>The <code>Array.&lt;T&gt;</code> type is a growable collection of <code>T</code> values. <code>Array</code> may be expressed as <code>Array.&lt;T&gt;</code> or <code>[T]</code>.</p>
<h2 id="object-type"><a class="header" href="#object-type">Object type</a></h2>
<p>The <code>Object</code> type is the super type of all other classes and all enums.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="type-conversions"><a class="header" href="#type-conversions">Type conversions</a></h1>
<h2 id="implicit-constant-conversions"><a class="header" href="#implicit-constant-conversions">Implicit constant conversions</a></h2>
<p>The language performs implicit compile-time type conversions from a constant to a constant of another type. They are described by the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Relationship</th><th>Description</th></tr></thead><tbody>
<tr><td><code>undefined</code> to <code>*</code>, <code>Optional</code>, Set <code>enum</code></td><td>For Set <code>enum</code>, results into an empty set. For other types, results into <code>undefined</code>.</td></tr>
<tr><td><code>N</code> constant to <code>*</code>, <code>Object</code></td><td>Results into a <code>N</code> number constant of a covariant type.</td></tr>
<tr><td><code>NF1</code> constant to <code>NF2</code> or <code>Optional.&lt;NF2&gt;</code></td><td>Results into a floating point constant with the same numeric value, where <code>NF2</code> is a floating point type whose range is wider than that of <code>NF1</code>.</td></tr>
<tr><td><code>NI1</code> constant to <code>NI2</code> or <code>Optional.&lt;NI2&gt;</code></td><td>Results into an integer constant with the same numeric value, where <code>NI2</code> is a integer type whose range is wider than that of <code>NI1</code>.</td></tr>
<tr><td><code>NI</code> constant to <code>Number</code> or <code>Optional.&lt;Number&gt;</code></td><td>Results into a number constant with the same numeric value, where <code>NI</code> is one of { <code>Byte</code>, <code>UnsignedByte</code>, <code>Short</code>, <code>UnsignedShort</code>, <code>Int</code> or <code>UnsignedInt</code> }.</td></tr>
<tr><td><code>NaN</code> constant to <code>NI</code> or <code>Optional.&lt;NI&gt;</code></td><td>Results into a zero (0) constant where <code>NI</code> is an integer type.</td></tr>
<tr><td><code>-Infinity</code> constant to <code>NI</code> or <code>Optional.&lt;NI&gt;</code></td><td>Results into the minimum integer constant where <code>NI</code> is an integer type but not <code>BigInt</code>.</td></tr>
<tr><td><code>+Infinity</code> constant to <code>NI</code> or <code>Optional.&lt;NI&gt;</code></td><td>Results into the maximum integer constant where <code>NI</code> is an integer type but not <code>BigInt</code>.</td></tr>
</tbody></table>
</div>
<h2 id="implicit-conversions"><a class="header" href="#implicit-conversions">Implicit conversions</a></h2>
<p>An implicit conversion is followed by an attempt of an implicit constant conversion. Implicit conversions are described by the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Relationship</th><th>Description</th></tr></thead><tbody>
<tr><td>From <code>*</code></td><td>Converts to type from the <code>*</code> type or a conversion failure if the conversion fails at runtime.</td></tr>
<tr><td>To <code>*</code></td><td>Converts to the <code>*</code> type.</td></tr>
<tr><td><code>N1</code> to <code>N2</code></td><td>Results into a number constant with the same numeric value, where <code>N2</code> is a number type whose range is wider than that of <code>N1</code>.</td></tr>
<tr><td>To covariant type</td><td>Results into a reference of a covariant type.</td></tr>
</tbody></table>
</div>
<h2 id="explicit-conversions"><a class="header" href="#explicit-conversions">Explicit conversions</a></h2>
<p>An explicit conversion is followed by an attempt of an implicit conversion. Explicit conversions are described by the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Relationship</th><th>Description</th></tr></thead><tbody>
<tr><td>To <code>T</code> through <code>proxy::to</code></td><td>Converts to type <code>T</code> by invoking the <code>to</code> proxy if present.</td></tr>
<tr><td>To <code>T</code> through <code>proxy::toOptional</code></td><td>Converts to type <code>T</code> by invoking the <code>toOptional</code> proxy if present. It is a conversion failure if <code>toOptional</code> returns undefined.</td></tr>
<tr><td><code>Array</code> to contravariant <code>Array</code></td><td>Constructs a new array filtering out covariant elements.</td></tr>
<tr><td><code>Array</code> to covariant <code>Array</code></td><td>Constructs a new array of a covariant type.</td></tr>
<tr><td>Between number types</td><td>Converts from a number type to another number type. The result is implementation-defined.</td></tr>
<tr><td>From <code>String</code> to <code>enum</code></td><td>Converts to <code>enum</code> by identifying a member by its string component. It is a failure if the member is not found.</td></tr>
<tr><td>From number to <code>enum</code></td><td>For a non Set <code>enum</code>, converts to the <code>enum</code> by identifying a member by its number component. It is a failure if the member is not found. For a Set <code>enum</code>, converts to the <code>enum</code> by filtering out unrecognized bits.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="visibility"><a class="header" href="#visibility">Visibility</a></h1>
<p>A visibility is either <code>public</code>, <code>private</code>, <code>protected</code> or <code>internal</code>.</p>
<ul>
<li>The <code>public</code> visibility indicates that a property is accessible from anywhere.</li>
<li>The <code>private</code> visibility indicates that a property is accessible from within a class block.</li>
<li>The <code>protected</code> visibility indicates that a property is accessible from a class and any subclasses.</li>
<li>The <code>internal</code> visibility indicates that a property is accessible from the enclosing package, excluding subpackages.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="packages"><a class="header" href="#packages">Packages</a></h1>
<p>Packages are used to organize properties and classes. For an user to refer to a package's property it must be imported beforehand through an <code>import</code> directive or an <code>use</code> definition.</p>
<pre><code>// Top-level package
package {
    public const globalProperty: Number = Infinity;
}

// &quot;org.x.y&quot; package
package org.x.y {
    public const xyProperty: Number = 10;
}

// Infinity
trace(globalProperty);

// 10
import org.x.y.*;
trace(xyProperty);
trace(org.x.y.xyProperty);
</code></pre>
<p>The fully package qualified name of an imported package's property shadows any variable name in scope:</p>
<pre><code>public class Org {
    public const x: OrgX = new OrgX;
}
public class OrgX {
    public const y: OrgY = new OrgY;
}
public class OrgY {
    public const xyProperty: Number = Infinity;
}

import org.x.y.*;

const org = new Org;

// [object Org]
trace(org);

// 10 (not Infinity)
trace(org.x.y.xyProperty);
</code></pre>
<h2 id="wildcard-uses"><a class="header" href="#wildcard-uses">Wildcard uses</a></h2>
<p>Directives of the form <code>public use q.*;</code> contribute a wildcard use to a package. Wildcard uses are used in name resolution to resolve to names from another package.</p>
<pre><code>package org.alias.core {
    public use org.origin.core.*;
}
</code></pre>
<h2 id="subpackages"><a class="header" href="#subpackages">Subpackages</a></h2>
<p>A package may have zero or more subpackages. The top-level package contains the topmost packages as subpackages.</p>
<pre><code>// Subpackage of top-level package
package q1 {}
// Subpackage of &quot;q1&quot;
package q1.q2 {}
// Subpackage of &quot;q1.q2&quot;
package q1.q2.qN {}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="variables"><a class="header" href="#variables">Variables</a></h1>
<p>A variable consists of a name, a static type, a <a href="visibility.html">visibility</a>, and miscellaneous. A variable may be read-only or constant by using the <code>const</code> keyword.</p>
<pre><code>var x: Number;
const y: Number;
</code></pre>
<h2 id="initializer"><a class="header" href="#initializer">Initializer</a></h2>
<p>Variables are lazily initialized with the exception of variables whose static type has a <em>default</em> value, such as a <a href="types.html#primitive-types">primitive type</a> or the <code>Optional</code> type.</p>
<ul>
<li>It is a fatal exception if the value of a variable is accessed before initialized and the static type of that variable includes no default value.</li>
</ul>
<pre><code>public class C {
    public const x: Number
    public const y: RegExp
    public function C() {
        x // 0
        y // Fatal exception
    }
}
</code></pre>
<ul>
<li>It is a fatal exception if a constant variable is assigned more than once.</li>
<li>A constant variable that is not an instance variable must contain an initializer.</li>
<li>A constant variable that is not an instance variable must not be assigned by an assignment expression.</li>
<li>A constant variable that is an instance variable may be assigned in the constructor body.</li>
<li>A constant variable that is an instance variable may not be assigned outside the constructor body.</li>
</ul>
<p><em>Constant initializer</em>: A variable may consist of a constant initializer. A constant initializer consists of a constant expression.</p>
<h2 id="meta-data"><a class="header" href="#meta-data">Meta data</a></h2>
<p>A variable may contain zero or more arbitrary plain meta-data.</p>
<pre><code>[Metadata(N1(n2))]
const x: T;
</code></pre>
<h2 id="jetxml-variables"><a class="header" href="#jetxml-variables">JetXML variables</a></h2>
<p>A JetXML variable is an instance variable belonging to a JetXML file.</p>
<ul>
<li>Assigning value to a JetXML variable causes the following assigment to the instance object:</li>
</ul>
<pre><code>instance.jetxmlStatus = &quot;outdated&quot;;
</code></pre>
<h2 id="optional-variables"><a class="header" href="#optional-variables">Optional variables</a></h2>
<p>Optional variables do not need to be specified when using an object initializer:</p>
<pre><code>[Literal]
public class C {
    public const x: Optional.&lt;Number&gt;;
}
const o: C = {};
</code></pre>
<p>A variable is <em>optional</em> when the variable's static type is the <code>Optional</code> type.</p>
<h2 id="parent-definition"><a class="header" href="#parent-definition">Parent definition</a></h2>
<p>When the parent definition of a variable is a package, the variable has a fully package qualified name.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="virtual-properties"><a class="header" href="#virtual-properties">Virtual properties</a></h1>
<p>A virtual property consists of a name, a static type, a possibly omitted getter, a possibly omitted setter, a <a href="visibility.html">visibility</a>, and miscellaneous.</p>
<ul>
<li>A virtual property is read-only if it has only a getter.</li>
<li>A virtual property is write-only if it has only a setter.</li>
<li>Getter and setter are functions that belong to the virtual property.</li>
</ul>
<pre><code>function get x(): T (v);
function set x(v: T): void {}
</code></pre>
<h2 id="parent-definition-1"><a class="header" href="#parent-definition-1">Parent definition</a></h2>
<p>When the parent definition of a virtual property is a package, the virtual property has a fully package qualified name.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="functions"><a class="header" href="#functions">Functions</a></h1>
<p>A function consists of a name, a static function type as function signature, a <a href="visibility.html">visibility</a>, and miscellaneous.</p>
<h2 id="parent-definition-2"><a class="header" href="#parent-definition-2">Parent definition</a></h2>
<p>When the parent definition of a function is a package, the function has a fully package qualified name.</p>
<h2 id="generics"><a class="header" href="#generics">Generics</a></h2>
<p>A function may be <a href="generics.html">generic</a>:</p>
<pre><code>function f.&lt;T&gt;(): void {}
</code></pre>
<h2 id="generators"><a class="header" href="#generators">Generators</a></h2>
<p>A function is a generator if it contains the <code>yield</code> operator.</p>
<ul>
<li>Non asynchronous generators return <code>Generator.&lt;T&gt;</code>.</li>
<li>Asynchronous generators return <code>Generator.&lt;Promise.&lt;T&gt;&gt;</code>.</li>
</ul>
<h2 id="asynchronous-functions"><a class="header" href="#asynchronous-functions">Asynchronous functions</a></h2>
<p>A function is asynchronous if it contains the <code>await</code> operator.</p>
<ul>
<li>Non generator asynchronous functions return <code>Promise.&lt;T&gt;</code>.</li>
<li>Asynchronous generators return <code>Generator.&lt;Promise.&lt;T&gt;&gt;</code>.</li>
</ul>
<h2 id="native-functions"><a class="header" href="#native-functions">Native functions</a></h2>
<p>A function is native if it contains the <code>native</code> attribute.</p>
<pre><code>native function f(): void;
</code></pre>
<h2 id="meta-data-1"><a class="header" href="#meta-data-1">Meta data</a></h2>
<p>A function may contain zero or more arbitrary plain meta-data.</p>
<pre><code>[Metadata(N1(n2))]
function f1(): void {}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="instance-methods"><a class="header" href="#instance-methods">Instance methods</a></h1>
<p>An instance method is a non static function directly enclosed by a <code>class</code>, <code>enum</code> or <code>interface</code> block.</p>
<h2 id="abstract-methods"><a class="header" href="#abstract-methods">Abstract methods</a></h2>
<p>An abstract method contains the <code>abstract</code> attribute.</p>
<ul>
<li>Abstract methods must not contain a body.</li>
<li>Abstract methods must be overriden by subclasses of the enclosing class.</li>
</ul>
<h2 id="final-methods"><a class="header" href="#final-methods">Final methods</a></h2>
<p>A final method contains the <code>final</code> attribute.</p>
<ul>
<li>Final methods must not be overriden by subclasses of the enclosing class.</li>
</ul>
<h2 id="overriding"><a class="header" href="#overriding">Overriding</a></h2>
<p>An overriding method contains the <code>override</code> attribute.</p>
<pre><code>class C1 {
    function f(): void {}
}
class C2 extends C1 {
    override function f(): void {}
}
</code></pre>
<h3 id="overriding-signature"><a class="header" href="#overriding-signature">Overriding signature</a></h3>
<p>It is a verify error if the overriding signature is not compatible with the super class's method signature.</p>
<ul>
<li>The overriding signature is compatible with the super signature if either:
<ul>
<li>it is equals the super signature, or</li>
<li>it introduces optional parameters and/or a rest parameter to the super signature.</li>
</ul>
</li>
</ul>
<pre><code>class C1 {
    function f(): void {}
}
class C2 extends C1 {
    override function f(a: Number = 10): void {}
}
</code></pre>
<h3 id="overriding-symbol"><a class="header" href="#overriding-symbol">Overriding symbol</a></h3>
<p>It is allowed for an overriding method to override:</p>
<ul>
<li>a regular method;</li>
<li>a getter;</li>
<li>a setter.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interface-methods"><a class="header" href="#interface-methods">Interface methods</a></h1>
<p>An interface method is an instance method belonging to an interface.</p>
<h2 id="optional-interface-method"><a class="header" href="#optional-interface-method">Optional interface method</a></h2>
<p>A function that is an interface method may be optional.</p>
<pre><code>interface I {
    function f(): void {}
}
</code></pre>
<h2 id="interface-method-forms"><a class="header" href="#interface-method-forms">Interface method forms</a></h2>
<p>An interface method is allowed to be:</p>
<ul>
<li>a regular method;</li>
<li>a getter;</li>
<li>a setter.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getters-and-setters"><a class="header" href="#getters-and-setters">Getters and setters</a></h1>
<p>A function that belongs to a virtual property is either a getter or setter.</p>
<pre><code>function get x(): T (v);
function set x(v: T): void {}
</code></pre>
<ul>
<li>Getters and setters must not be asynchronous.</li>
<li>Getters and setters must not be generators.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="constructors"><a class="header" href="#constructors">Constructors</a></h1>
<p>A constructor is a function whose name matches the enclosing class's name.</p>
<ul>
<li>A constructor must not be generic.</li>
<li>A constructor must not be asynchronous.</li>
<li>A constructor must not be a generator.</li>
<li>It is a verify error if the constructor has no <code>super();</code> statement and the constructor of the parent class has a non-empty parameter list.</li>
<li>A constructor is allowed to perform assignments to constant instance variables.</li>
<li>A constructor is allowed to contain a single <code>super();</code> statement.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="proxies"><a class="header" href="#proxies">Proxies</a></h1>
<p>A proxy is a function containing the <code>proxy</code> attribute, enclosed by a <code>class</code> or <code>enum</code> block. The name of a proxy must be one of the several proxy names listed in this section.</p>
<ul>
<li><a href="functions/proxies.html#positive">positive</a></li>
<li><a href="functions/proxies.html#negate">negate</a></li>
<li><a href="functions/proxies.html#bitwisenot">bitwiseNot</a></li>
<li><a href="functions/proxies.html#add">add</a></li>
<li><a href="functions/proxies.html#subtract">subtract</a></li>
<li><a href="functions/proxies.html#multiply">multiply</a></li>
<li><a href="functions/proxies.html#divide">divide</a></li>
<li><a href="functions/proxies.html#remainder">remainder</a></li>
<li><a href="functions/proxies.html#power">power</a></li>
<li><a href="functions/proxies.html#bitwiseand">bitwiseAnd</a></li>
<li><a href="functions/proxies.html#bitwisexor">bitwiseXor</a></li>
<li><a href="functions/proxies.html#bitwiseor">bitwiseOr</a></li>
<li><a href="functions/proxies.html#shiftleft">shiftLeft</a></li>
<li><a href="functions/proxies.html#shiftright">shiftRight</a></li>
<li><a href="functions/proxies.html#shiftrightunsigned">shiftRightUnsigned</a></li>
<li><a href="functions/proxies.html#to">to</a></li>
<li><a href="functions/proxies.html#tooptional">toOptional</a></li>
<li><a href="functions/proxies.html#getproperty">getProperty</a></li>
<li><a href="functions/proxies.html#setproperty">setProperty</a></li>
<li><a href="functions/proxies.html#deleteproperty">deleteProperty</a></li>
<li><a href="functions/proxies.html#has">has</a></li>
</ul>
<h2 id="positive"><a class="header" href="#positive">positive</a></h2>
<pre><code>class C {
    proxy function positive(): T {}
}
</code></pre>
<h2 id="negate"><a class="header" href="#negate">negate</a></h2>
<pre><code>class C {
    proxy function negate(): T {}
}
</code></pre>
<h2 id="bitwisenot"><a class="header" href="#bitwisenot">bitwiseNot</a></h2>
<pre><code>class C {
    proxy function bitwiseNot(): T {}
}
</code></pre>
<h2 id="add"><a class="header" href="#add">add</a></h2>
<pre><code>class C {
    proxy function add(right: C): T {}
}
</code></pre>
<h2 id="subtract"><a class="header" href="#subtract">subtract</a></h2>
<pre><code>class C {
    proxy function subtract(right: C): T {}
}
</code></pre>
<h2 id="multiply"><a class="header" href="#multiply">multiply</a></h2>
<pre><code>class C {
    proxy function multiply(right: C): T {}
}
</code></pre>
<h2 id="divide"><a class="header" href="#divide">divide</a></h2>
<pre><code>class C {
    proxy function divide(right: C): T {}
}
</code></pre>
<h2 id="remainder"><a class="header" href="#remainder">remainder</a></h2>
<pre><code>class C {
    proxy function remainder(right: C): T {}
}
</code></pre>
<h2 id="power"><a class="header" href="#power">power</a></h2>
<pre><code>class C {
    proxy function power(right: C): T {}
}
</code></pre>
<h2 id="bitwiseand"><a class="header" href="#bitwiseand">bitwiseAnd</a></h2>
<pre><code>class C {
    proxy function bitwiseAnd(right: C): T {}
}
</code></pre>
<h2 id="bitwisexor"><a class="header" href="#bitwisexor">bitwiseXor</a></h2>
<pre><code>class C {
    proxy function bitwiseXor(right: C): T {}
}
</code></pre>
<h2 id="bitwiseor"><a class="header" href="#bitwiseor">bitwiseOr</a></h2>
<pre><code>class C {
    proxy function bitwiseOr(right: C): T {}
}
</code></pre>
<h2 id="shiftleft"><a class="header" href="#shiftleft">shiftLeft</a></h2>
<pre><code>class C {
    proxy function shiftLeft(right: C): T {}
}
</code></pre>
<h2 id="shiftright"><a class="header" href="#shiftright">shiftRight</a></h2>
<pre><code>class C {
    proxy function shiftRight(right: C): T {}
}
</code></pre>
<h2 id="shiftrightunsigned"><a class="header" href="#shiftrightunsigned">shiftRightUnsigned</a></h2>
<pre><code>class C {
    proxy function shiftRightUnsigned(right: C): T {}
}
</code></pre>
<h2 id="to"><a class="header" href="#to">to</a></h2>
<ul>
<li>The <code>to</code> proxy adds explicit conversion from the enclosing class to the type it returns.</li>
<li>The <code>to</code> proxy may be defined multiple times.</li>
</ul>
<pre><code>class C {
    proxy function to(): T {}
}
</code></pre>
<h2 id="tooptional"><a class="header" href="#tooptional">toOptional</a></h2>
<ul>
<li>The <code>toOptional</code> proxy adds explicit conversion from the enclosing class to the type <code>T</code> it returns. Such proxy is used for an optional conversion using the <code>as</code> operator.</li>
<li>The <code>toOptional</code> proxy may be defined multiple times.</li>
</ul>
<pre><code>class C {
    proxy function toOptional(): T? {}
}
</code></pre>
<h2 id="getproperty"><a class="header" href="#getproperty">getProperty</a></h2>
<pre><code>class C {
    proxy function getProperty(k: K): T {}
}
</code></pre>
<h2 id="setproperty"><a class="header" href="#setproperty">setProperty</a></h2>
<pre><code>class C {
    proxy function setProperty(k: K, v: V): void {}
}
</code></pre>
<h2 id="deleteproperty"><a class="header" href="#deleteproperty">deleteProperty</a></h2>
<pre><code>class C {
    proxy function deleteProperty(k: K): Boolean {}
}
</code></pre>
<h2 id="has"><a class="header" href="#has">has</a></h2>
<pre><code>class C {
    proxy function has(v: T): Boolean {}
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="generics-1"><a class="header" href="#generics-1">Generics</a></h1>
<p>The language supports generic types and functions that consist of a sequence of type parameters. </p>
<pre><code>class C.&lt;T&gt; {}
function f.&lt;T&gt;(): void {}
</code></pre>
<h2 id="polymorphism"><a class="header" href="#polymorphism">Polymorphism</a></h2>
<p>The language uses polymorphism for generic types and functions, except for the <code>Array</code> class applied with a <a href="types.html#primitive-types">primitive type</a>. With polymorphism, type parameters are substituted by the <code>*</code> type and additional compile-time type checking occurs when using the generic type or function.</p>
<h2 id="constraints"><a class="header" href="#constraints">Constraints</a></h2>
<p>The language does not support constraints on type parameters in the present, such as those present in the Java language.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="meta-data-2"><a class="header" href="#meta-data-2">Meta-data</a></h1>
<p>The language supports directive attributes using brackets notation called <em>meta-data</em>. The language recognizes <em>reserved</em> meta-data, <em>decorator</em> meta-data, and <em>plain</em> meta-data.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reserved-meta-data"><a class="header" href="#reserved-meta-data">Reserved meta-data</a></h1>
<p>Reserved meta-data are meta-data that cannot be overriden by user decorators. This section enumerates all reserved meta-data.</p>
<ul>
<li><a href="metadata/reserved-metadata.html#literal">Literal</a></li>
<li><a href="metadata/reserved-metadata.html#metadata">Metadata</a></li>
<li><a href="metadata/reserved-metadata.html#number">Number</a></li>
<li><a href="metadata/reserved-metadata.html#set">Set</a></li>
<li><a href="metadata/reserved-metadata.html#test">Test</a></li>
</ul>
<h2 id="literal"><a class="header" href="#literal">Literal</a></h2>
<p>The <code>Literal</code> meta-data is reserved at the <code>class</code> definition. It is used for indicating that the class can be initialized through an object initializer.</p>
<h2 id="metadata"><a class="header" href="#metadata">Metadata</a></h2>
<p>The <code>Metadata</code> meta-data is used for defining plain meta-data, as described in the <a href="metadata/plain-metadata.html">Plain meta-data</a> section.</p>
<h2 id="number"><a class="header" href="#number">Number</a></h2>
<p>The <code>Number</code> meta-data is reserved at the <code>enum</code> definition. It is used for selecting the number type to use for representing instances of the <code>enum</code>.</p>
<h2 id="set"><a class="header" href="#set">Set</a></h2>
<p>The <code>Set</code> meta-data is reserved at the <code>enum</code> definition. It is used for indicating that the <code>enum</code> is a set enumeration.</p>
<h2 id="test"><a class="header" href="#test">Test</a></h2>
<p>The <code>Test</code> meta-data is reserved at the <code>function</code> definition. It is used for indicating that a function is a test unit.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="decorator-meta-data"><a class="header" href="#decorator-meta-data">Decorator meta-data</a></h1>
<p>A decorator meta-data invokes an user function, either at class instance initialization, at type initialization, or instance method initialization.</p>
<p>Decorator meta-data may only be applied to instance variables, instance methods, and type definitions.</p>
<h2 id="instance-variables"><a class="header" href="#instance-variables">Instance variables</a></h2>
<p>A decorator meta-data applied to an instance variable must contain a signature <code>(instance: C, name: String, type: Class) =&gt; void</code>, where <code>C</code> is the instance class.</p>
<pre><code>function ExampleDecorator(instance: ExampleClass, name: String, type: Class): void {
    /* ExampleDecorator... */
}
class ExampleClass {
    [ExampleDecorator]
    public var x: Number;
}
</code></pre>
<h2 id="instance-methods-1"><a class="header" href="#instance-methods-1">Instance methods</a></h2>
<p>A decorator meta-data applied to an instance method must contain a signature <code>(instance: C, name: String) =&gt; void</code>, where <code>C</code> is the instance class.</p>
<pre><code>function ExampleDecorator(instance: ExampleClass, name: String): void {
    /* ExampleDecorator... */
}
class ExampleClass {
    [ExampleDecorator]
    public function f(): void {}
}
</code></pre>
<h2 id="types-1"><a class="header" href="#types-1">Types</a></h2>
<p>A decorator meta-data applied to a type definition must contain a signature <code>(type: Class) =&gt; void</code>.</p>
<pre><code>function ExampleDecorator(type: Class): void {
    /* ExampleDecorator... */
}
[ExampleDecorator]
class ExampleClass {}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="plain-meta-data"><a class="header" href="#plain-meta-data">Plain meta-data</a></h1>
<p>Plain meta-data are uninterpreted meta-data attached to a definition, using the <code>Metadata</code> meta-data.</p>
<p>Plain meta-data consists of a <code>Name()</code> or <code>Name</code> form that consists of zero or more entries. The following are the possible entry forms:</p>
<ul>
<li><code>key = &quot;value&quot;</code></li>
<li><code>key = File(&quot;path/to/file&quot;)</code> — File entry</li>
<li><code>value</code> — Keyless entry, equivalent to <code>&quot;value&quot;</code></li>
<li><code>&quot;value&quot;</code> — Keyless entry, equivalent to <code>value</code></li>
<li><code>File(&quot;path/to/file&quot;)</code> — Keyless file entry</li>
</ul>
<p>The identifiers used in the meta-data form and the entries are allowed to use a <code>::</code> separator, as in <code>q::N</code>.</p>
<pre><code>[Metadata(N1(x = &quot;y&quot;, z, &quot;w&quot;, File(&quot;myExtension.dll&quot;)))]
[Metadata(N2)]
class C {}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="aliases"><a class="header" href="#aliases">Aliases</a></h1>
<p>An alias is a named symbol that translates to another symbol. Aliases are a result from <code>type</code> definitions and alias <code>import</code> directives.</p>
<pre><code>type Double = Number;
import N2 = p.N1;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="enumerations"><a class="header" href="#enumerations">Enumerations</a></h1>
<p>The language supports user enumerations based on (<em>string</em>, <em>number</em>) groups. Enumerations are defined using the <code>enum</code> keyword.</p>
<p>An enumeration is a final class that inherits the <code>Object</code> type.</p>
<pre><code>enum FoodType {
    const LIQUID;
    const SOLID;
}
</code></pre>
<h2 id="members"><a class="header" href="#members">Members</a></h2>
<p>A single enumeration member consists of a (<em>string</em>, <em>number</em>) group. Members within the <code>enum</code> block are defined using non <code>static</code>, <code>const</code> definitions, without destructuring and without a type annotation. The <em>string</em> and <em>number</em> values are corresponding to a <code>String</code> and a number.</p>
<p>The value for <em>string</em> and <em>number</em> may be specified in different forms. If in any of the forms a component is omitted, the value is automatically assigned to that component. The values for the (<em>string</em>, <em>number</em>) group are given in the initializer of the <code>const</code> definition, as follows:</p>
<pre><code>const M;
const M = &quot;string&quot;;
const M = number;
const M = [&quot;string&quot;, number];
const M = [number, &quot;string&quot;];
</code></pre>
<p>In the presented forms, <code>number</code> must be a constant expression that is a number constant whose type is the representation type.</p>
<p>It is a verify error if any of the following conditions are true:</p>
<ul>
<li>The member name already exists.</li>
<li>The <em>string</em> already belongs to another member.</li>
<li>The <em>number</em> already belongs to another member.</li>
<li>If it is a <code>Set</code> enumeration and the <em>number</em> is not one or a power of two.</li>
</ul>
<h3 id="automatic-string"><a class="header" href="#automatic-string">Automatic string</a></h3>
<p>If the <em>string</em> component is omitted when defining a member, its value is a screaming snake case to camel case transformation of the member name, as illustrated in the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Member name</th><th>Member string</th></tr></thead><tbody>
<tr><td><code>M</code></td><td><code>&quot;m&quot;</code></td></tr>
<tr><td><code>SOME_MEMBER</code></td><td><code>&quot;someMember&quot;</code></td></tr>
<tr><td><code>SOME_BBQ</code></td><td><code>&quot;someBbq&quot;</code></td></tr>
</tbody></table>
</div>
<h3 id="automatic-number"><a class="header" href="#automatic-number">Automatic number</a></h3>
<p>If the <em>number</em> component is omitted when defining a member, its value is selected based on the previous member definition.</p>
<p>For non <code>Set</code> enumerations, the initial member number is zero (0) and the next member number is an increment of 1 of the previous member number:</p>
<pre><code>const M1 // = 0
const M2 // = 1
</code></pre>
<p>For <code>Set</code> enumerations, the initial member number is one (1) and the next member number is the double of the previous member number:</p>
<pre><code>const M1 // = 1
const M2 // = 2
const M4 // = 4
</code></pre>
<h2 id="representation-type"><a class="header" href="#representation-type">Representation type</a></h2>
<p>Enumerations consist of a representation number type. The representation number type may be specified by the <code>Number</code> meta-data, given an identifier identifying the number type.</p>
<p>By default, an enumeration uses <code>Number</code> as the representation number type.</p>
<pre><code>[Number(UnsignedInt)]
enum ExampleEnum {
    const EXAMPLE_MEMBER;
}
</code></pre>
<h2 id="set-enumerations"><a class="header" href="#set-enumerations">Set enumerations</a></h2>
<p>Set enumerations are defined with the <code>Set</code> meta-data. Set enumerations are represented by zero or more members, using bitwise capabilities.</p>
<pre><code>[Set]
enum Toggles {
    const TOGGLE_1;
    const TOGGLE_2;
}
</code></pre>
<h2 id="enumeration-inference"><a class="header" href="#enumeration-inference">Enumeration inference</a></h2>
<p>Throughout JetWork code, the user is allowed to use a string literal to identify an enumeration member by its <em>string</em> value wherever the enumeration is expected at compile-time.</p>
<pre><code>function peopleEat(foodType: FoodType): Boolean (
    foodType == &quot;solid&quot;
);
trace(peopleEat(&quot;solid&quot;));
</code></pre>
<p>Set enumerations can additionally be initialized through an array or object initializer.</p>
<h2 id="conversion"><a class="header" href="#conversion">Conversion</a></h2>
<p>It is allowed to convert to an enumeration using the call operator. The conversion accepts a <code>String</code> or a number of the representation type. It is a fatal exception if such conversions fail due to unrecognized <code>String</code> or number. For set enumerations, converting from a number always succeeds, as the members are identified by the corresponding bits and the unrecognized bits are ignored.</p>
<pre><code>E(v)
</code></pre>
<h2 id="native-methods"><a class="header" href="#native-methods">Native methods</a></h2>
<p>Enumerations automatically define the following methods, where <code>N</code> is the representation type:</p>
<pre><code>/**
 * The number value.
 */
public native function valueOf(): N;

/**
 * The string value(s). For a set enumeration, returns a comma-separated string list.
 */
override public native function toString(): String;
</code></pre>
<p>Set enumerations automatically define the following methods, where <code>E</code> is the enumeration:</p>
<pre><code>/**
 * `E(this.valueOf() | other.valueOf())`
 */
public native function include(other: E): E;

/**
 * `E(if (other in this.valueOf()) this.valueOf() ^ other.valueOf() else 0)`
 */
public native function exclude(other: E): E;

/**
 * `E(this.valueOf() ^ other.valueOf())`
 */
public native function toggle(other: E): E;

/**
 * `E(this.valueOf() &amp; other.valueOf())`
 */
public native function filter(other: E): E;

/**
 * `this.valueOf() &amp; value.valueOf() != 0`
 */
proxy native function has(value: E): Boolean;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="classes"><a class="header" href="#classes">Classes</a></h1>
<p>A class represents an object type.</p>
<p>Classes consist of several internal properties, as described in the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Name</em>]]</td><td>The non fully qualified name of the class.</td></tr>
<tr><td>[[<em>ParentDefinition</em>]]</td><td>The parent definition of the class.</td></tr>
<tr><td>[[<em>SuperClass</em>]]</td><td>The super class of the class. It is undefined if the class is the <code>Object</code> class.</td></tr>
<tr><td>[[<em>Implements</em>]]</td><td>Set of interfaces the class implements.</td></tr>
<tr><td>[[<em>IsFinal</em>]]</td><td>Indicates whether the class is final or not.</td></tr>
<tr><td>[[<em>IsStatic</em>]]</td><td>Indicates whether the class is static or not.</td></tr>
<tr><td>[[<em>IsAbstract</em>]]</td><td>Indicates whether the class is abstract or not.</td></tr>
<tr><td>[[<em>AllowLiteral</em>]]</td><td>Indicates whether the class may be initialized through an object initializer or not; that is, if it has the <code>[Literal]</code> meta-data.</td></tr>
<tr><td>[[<em>TypeParameters</em>]]</td><td>The type parameter sequence of the class.</td></tr>
<tr><td>[[<em>StaticProperties</em>]]</td><td>Static properties of the class.</td></tr>
<tr><td>[[<em>Prototype</em>]]</td><td>The class prototype.</td></tr>
</tbody></table>
</div>
<h2 id="super-class"><a class="header" href="#super-class">Super class</a></h2>
<p>By default, all classes, excluding <code>Object</code>, have <code>Object</code> as their super class.</p>
<p>It is a verify error if:</p>
<ul>
<li>a class attempts to extend itself;</li>
<li>a class attempts to extend a subclass of itself.</li>
</ul>
<h2 id="parent-definition-3"><a class="header" href="#parent-definition-3">Parent definition</a></h2>
<p>When the parent definition of a class is a package, the class has a fully package qualified name.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="interfaces"><a class="header" href="#interfaces">Interfaces</a></h1>
<p>An interface represents an abstract object type.</p>
<p>Interfaces consist of a small number of internal properties, described in the following table:</p>
<div class="table-wrapper"><table><thead><tr><th>Internal property</th><th>Description</th></tr></thead><tbody>
<tr><td>[[<em>Name</em>]]</td><td>The non fully qualified name of the interface.</td></tr>
<tr><td>[[<em>ParentDefinition</em>]]</td><td>The parent definition of the interface.</td></tr>
<tr><td>[[<em>SuperInterfaces</em>]]</td><td>The super interfaces of the interface.</td></tr>
<tr><td>[[<em>TypeParameters</em>]]</td><td>The type parameter sequence of the interface.</td></tr>
<tr><td>[[<em>Prototype</em>]]</td><td>The interface prototype.</td></tr>
</tbody></table>
</div>
<h2 id="super-interfaces"><a class="header" href="#super-interfaces">Super interfaces</a></h2>
<p>It is a verify error if:</p>
<ul>
<li>an interface attempts to extend itself;</li>
<li>an interface attempts to extend a subtype of itself.</li>
</ul>
<h2 id="parent-definition-4"><a class="header" href="#parent-definition-4">Parent definition</a></h2>
<p>When the parent definition of an interface is a package, the interface has a fully package qualified name.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
